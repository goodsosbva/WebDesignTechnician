!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KeditorPhotosEditor=t():e.KeditorPhotosEditor=t()}(self,(function(){return function(){var e={97461:function(e){var t;self,t=()=>(()=>{var e={398:function(e,t,n){!function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var i=function(e){return e&&e.Math==Math&&e},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")(),a=function(e){try{return!!e()}catch(e){return!0}},l=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,s={f:u&&!c.call({1:2},1)?function(e){var t=u(this,e);return!!t&&t.enumerable}:c},f=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},d={}.toString,p=function(e){return d.call(e).slice(8,-1)},h="".split,g=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==p(e)?h.call(e,""):Object(e)}:Object,v=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},m=function(e){return g(v(e))},y=function(e){return"object"==typeof e?null!==e:"function"==typeof e},b=function(e,t){if(!y(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!y(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!y(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!y(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,x=function(e,t){return w.call(e,t)},E=o.document,S=y(E)&&y(E.createElement),O=function(e){return S?E.createElement(e):{}},_=!l&&!a((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,P={f:l?k:function(e,t){if(e=m(e),t=b(t,!0),_)try{return k(e,t)}catch(e){}if(x(e,t))return f(!s.f.call(e,t),e[t])}},C=function(e){if(!y(e))throw TypeError(String(e)+" is not an object");return e},D=Object.defineProperty,T={f:l?D:function(e,t,n){if(C(e),t=b(t,!0),C(n),_)try{return D(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},j=l?function(e,t,n){return T.f(e,t,f(1,n))}:function(e,t,n){return e[t]=n,e},N=function(e,t){try{j(o,e,t)}catch(n){o[e]=t}return t},M=o["__core-js_shared__"]||N("__core-js_shared__",{}),I=Function.toString;"function"!=typeof M.inspectSource&&(M.inspectSource=function(e){return I.call(e)});var R,A,z,L=M.inspectSource,F=o.WeakMap,U="function"==typeof F&&/native code/.test(L(F)),H=r((function(e){(e.exports=function(e,t){return M[e]||(M[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),B=0,V=Math.random(),X=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++B+V).toString(36)},W=H("keys"),Y=function(e){return W[e]||(W[e]=X(e))},$={},q=o.WeakMap;if(U){var K=new q,G=K.get,Q=K.has,J=K.set;R=function(e,t){return J.call(K,e,t),t},A=function(e){return G.call(K,e)||{}},z=function(e){return Q.call(K,e)}}else{var Z=Y("state");$[Z]=!0,R=function(e,t){return j(e,Z,t),t},A=function(e){return x(e,Z)?e[Z]:{}},z=function(e){return x(e,Z)}}var ee={set:R,get:A,has:z,enforce:function(e){return z(e)?A(e):R(e,{})},getterFor:function(e){return function(t){var n;if(!y(t)||(n=A(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},te=r((function(e){var t=ee.get,n=ee.enforce,r=String(String).split("String");(e.exports=function(e,t,i,a){var l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||x(i,"name")||j(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==o?(l?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=i:j(e,t,i)):c?e[t]=i:N(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||L(this)}))})),ne=o,re=function(e){return"function"==typeof e?e:void 0},ie=function(e,t){return arguments.length<2?re(ne[e])||re(o[e]):ne[e]&&ne[e][t]||o[e]&&o[e][t]},oe=Math.ceil,ae=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?ae:oe)(e)},ce=Math.min,ue=function(e){return e>0?ce(le(e),9007199254740991):0},se=Math.max,fe=Math.min,de=function(e){return function(t,n,r){var i,o=m(t),a=ue(o.length),l=function(e,t){var n=le(e);return n<0?se(n+t,0):fe(n,t)}(r,a);if(e&&n!=n){for(;a>l;)if((i=o[l++])!=i)return!0}else for(;a>l;l++)if((e||l in o)&&o[l]===n)return e||l||0;return!e&&-1}},pe=(de(!0),de(!1)),he=function(e,t){var n,r=m(e),i=0,o=[];for(n in r)!x($,n)&&x(r,n)&&o.push(n);for(;t.length>i;)x(r,n=t[i++])&&(~pe(o,n)||o.push(n));return o},ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ve=ge.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(e){return he(e,ve)}},ye={f:Object.getOwnPropertySymbols},be=ie("Reflect","ownKeys")||function(e){var t=me.f(C(e)),n=ye.f;return n?t.concat(n(e)):t},we=function(e,t){for(var n=be(t),r=T.f,i=P.f,o=0;o<n.length;o++){var a=n[o];x(e,a)||r(e,a,i(t,a))}},xe=/#|\.prototype\./,Ee=function(e,t){var n=Oe[Se(e)];return n==ke||n!=_e&&("function"==typeof t?a(t):!!t)},Se=Ee.normalize=function(e){return String(e).replace(xe,".").toLowerCase()},Oe=Ee.data={},_e=Ee.NATIVE="N",ke=Ee.POLYFILL="P",Pe=Ee,Ce=P.f,De=function(e,t){var n,r,i,a,l,c=e.target,u=e.global,s=e.stat;if(n=u?o:s?o[c]||N(c,{}):(o[c]||{}).prototype)for(r in t){if(a=t[r],i=e.noTargetGet?(l=Ce(n,r))&&l.value:n[r],!Pe(u?r:c+(s?".":"#")+r,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;we(a,i)}(e.sham||i&&i.sham)&&j(a,"sham",!0),te(n,r,a,e)}};De({target:"Object",stat:!0,forced:!l,sham:!l},{defineProperty:T.f}),r((function(e){var t=ne.Object,n=e.exports=function(e,n,r){return t.defineProperty(e,n,r)};t.defineProperty.sham&&(n.sham=!0)}));var Te,je=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Ne=Array.isArray||function(e){return"Array"==p(e)},Me=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),Ie=Me&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=H("wks"),Ae=o.Symbol,ze=Ie?Ae:Ae&&Ae.withoutSetter||X,Le=function(e){return x(Re,e)||(Me&&x(Ae,e)?Re[e]=Ae[e]:Re[e]=ze("Symbol."+e)),Re[e]},Fe=Le("species"),Ue=function(e,t){var n;return Ne(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Ne(n.prototype)?y(n)&&null===(n=n[Fe])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},He=[].push,Be=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(l,c,u,s){for(var f,d,p=Object(v(l)),h=g(p),m=je(c,u,3),y=ue(h.length),b=0,w=s||Ue,x=t?w(l,y):n?w(l,0):void 0;y>b;b++)if((a||b in h)&&(d=m(f=h[b],b,p),e))if(t)x[b]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return b;case 2:He.call(x,f)}else if(i)return!1;return o?-1:r||i?i:x}},Ve={forEach:Be(0),map:Be(1),filter:Be(2),some:Be(3),every:Be(4),find:Be(5),findIndex:Be(6)},Xe=Object.keys||function(e){return he(e,ge)},We=l?Object.defineProperties:function(e,t){C(e);for(var n,r=Xe(t),i=r.length,o=0;i>o;)T.f(e,n=r[o++],t[n]);return e},Ye=ie("document","documentElement"),$e=Y("IE_PROTO"),qe=function(){},Ke=function(e){return"<script>"+e+"<\/script>"},Ge=function(){try{Te=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Ge=Te?function(e){e.write(Ke("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Te):((t=O("iframe")).style.display="none",Ye.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ke("document.F=Object")),e.close(),e.F);for(var n=ge.length;n--;)delete Ge.prototype[ge[n]];return Ge()};$[$e]=!0;var Qe=Object.create||function(e,t){var n;return null!==e?(qe.prototype=C(e),n=new qe,qe.prototype=null,n[$e]=e):n=Ge(),void 0===t?n:We(n,t)},Je=Le("unscopables"),Ze=Array.prototype;null==Ze[Je]&&T.f(Ze,Je,{configurable:!0,value:Qe(null)});var et=Object.defineProperty,tt={},nt=function(e){throw e},rt=Ve.find,it=!0,ot=function(e,t){if(x(tt,e))return tt[e];t||(t={});var n=[][e],r=!!x(t,"ACCESSORS")&&t.ACCESSORS,i=x(t,0)?t[0]:nt,o=x(t,1)?t[1]:void 0;return tt[e]=!!n&&!a((function(){if(r&&!l)return!0;var e={length:-1};r?et(e,1,{enumerable:!0,get:nt}):e[1]=1,n.call(e,i,o)}))}("find");"find"in[]&&Array(1).find((function(){it=!1})),De({target:"Array",proto:!0,forced:it||!ot},{find:function(e){return rt(this,e,arguments.length>1?arguments[1]:void 0)}}),Ze[Je].find=!0;var at,lt,ct,ut,st=Function.call,ft=(je(st,o.Array.prototype.find,void 0),function(){return(ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)});function dt(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,l)}c((r=r.apply(e,t||[])).next())}))}function pt(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function ht(t){return/KAKAOTALK/.test(t)?e.App.KakaoTalk:/KAKAOSTORY/.test(t)?e.App.KakaoStory:/DaumApps/.test(t)?e.App.Daum:/NAVER/.test(t)?e.App.Naver:/(FBIOS|FB_IAB)/.test(t)?e.App.Facebook:/Twitter/.test(t)?e.App.Twitter:/BAND/.test(t)?e.App.Band:/KAKAOCHANNEL/.test(t)?e.App.KakaoStoryChannel:e.App.Unknown}(at=e.App||(e.App={})).Unknown="Unknown",at.KakaoTalk="KakaoTalk",at.KakaoStory="KakaoStory",at.KakaoStoryChannel="KakaoStoryChannel",at.Facebook="Facebook",at.Daum="Daum",at.Naver="Naver",at.Twitter="Twitter",at.Band="Band",(lt=e.Browser||(e.Browser={})).Unknown="Unknown",lt.InternetExplorer="InternetExplorer",lt.Edge="Edge",lt.Chrome="Chrome",lt.FireFox="FireFox",lt.Safari="Safari",lt.Opera="Opera",lt.SamsungBrowser="SamsungBrowser",lt.Whale="Whale",(ct=e.DeviceType||(e.DeviceType={})).Mobile="Mobile",ct.Tablet="Tablet",ct.Desktop="Desktop",(ut=e.OS||(e.OS={})).Unknown="Unknown",ut.iOS="iOS",ut.Android="Android",ut.Windows="Windows",ut.Mac="Mac";var gt=[{browser:e.Browser.Opera,matcher:/Opera|OPR/,versionMatchers:[/(?:Opera[/ ]?|OPR\/)([\d.]+)/]},{browser:e.Browser.InternetExplorer,matcher:/MSIE|Trident|iemobile/i,versionMatchers:[/iemobile[ /]?([\d.]*)/i,/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,/MSIE (\d+[.]\d+)/]},{browser:e.Browser.Edge,matcher:/edge|edg/i,versionMatchers:[/edge\/(\d+[.]\d+)/i,/edg\/([\d.]+)/i]},{browser:e.Browser.FireFox,matcher:/firefox/i,versionMatchers:[/firefox\/(\d+[.]\d+)/i]},{browser:e.Browser.SamsungBrowser,matcher:/SamsungBrowser/i,versionMatchers:[/SamsungBrowser\/([\d.]+)/]},{browser:e.Browser.Whale,matcher:/Whale/i,versionMatchers:[/Whale\/([\d.]+)/]},{browser:e.Browser.Chrome,matcher:/chrome|CriOS/i,versionMatchers:[/Chrome\/([\d.]+)/,/CriOS\/([\d.]+)/]},{browser:e.Browser.Unknown,matcher:/android/i,versionMatchers:[]},{browser:e.Browser.Safari,matcher:/safari/i,versionMatchers:[]}],vt=[{os:e.OS.Unknown,matcher:/iemobile/i,versionMatchers:[]},{os:e.OS.Android,matcher:/android/i,versionMatchers:[/android (\d+(?:\.\d+){0,2})/i]},{os:e.OS.iOS,matcher:/(iphone|ipad|ipod)/i,versionMatchers:[/(\d+_\d+)/i]},{os:e.OS.Mac,matcher:/Mac OS/i,versionMatchers:[/Mac OS X (\d+[_.]\d+)/]},{os:e.OS.Windows,matcher:/Windows NT/i,versionMatchers:[/Windows NT (\d+.\d+)/]}],mt={isMobile:!1,isTablet:!1,isDesktop:!1};function yt(e,t){return Object.keys(t).reduce((function(n,r){var i;return"Unknown"!==r&&(n["is"+(i=r,i.replace(/^\w/,(function(e){return e.toUpperCase()})))]=e===t[r]),n}),{})}function bt(t){var n=t.app,r=t.browser,i=t.os;return ft(ft(ft(ft({},function(t){return yt(t,e.App)}(n)),function(t){return yt(t,e.Browser)}(r)),function(t){return yt(t,e.OS)}(i)),{isIE:r===e.Browser.InternetExplorer})}function wt(e){if(void 0!==e)return e;if("undefined"==typeof window)throw new Error("window 객체가 없는 환경에서는 userAgent 문자열을 인자로 전달해야 합니다.");return window.navigator.userAgent||window.navigator.vendor||window.opera||""}function xt(t,n){var r=function(t){switch(t){case e.OS.Android:return/KAKAOTALK (\d+)/;case e.OS.iOS:return/KAKAOTALK (\d+\.\d+\.\d+)/;default:return null}}(n);if(r){var i=(t.match(r)||[])[1];return n===e.OS.Android?function(e){if(null!=e){var t=/^\d{2}(\d{2})(\d{1})(\d{1})\d$/.exec(e)||[],n=t[1],r=t[2],i=t[3];if(void 0!==n)return Number(n)+"."+Number(r)+"."+Number(i)}}(i):i}}var Et=["platform","platformVersion","architecture","model","uaFullVersion","fullVersionList","bitness"],St=[e.Browser.Unknown,e.Browser.InternetExplorer,e.Browser.Edge,e.Browser.Chrome,e.Browser.FireFox,e.Browser.Safari,e.Browser.Opera,e.Browser.SamsungBrowser,e.Browser.Whale],Ot=[e.OS.Unknown,e.OS.iOS,e.OS.Android,e.OS.Windows,e.OS.Mac];function _t(){return window.navigator.userAgentData}function kt(){return"undefined"!=typeof window&&void 0!==_t()}function Pt(){return dt(this,void 0,void 0,(function(){var e,t,n,r,i;return pt(this,(function(o){switch(o.label){case 0:return e=_t(),t=e.brands,n=e.mobile,r=e.platform,[4,_t().getHighEntropyValues(Et)];case 1:return i=o.sent(),[2,{brands:t,mobile:n,platform:r,uaDataValues:i}]}}))}))}function Ct(e,t){var n=e.map((function(e){return e.toLowerCase()}));return function(r){void 0===r&&(r="");var i=r.toLowerCase(),o=n.findIndex((function(e){return i.includes(e)}));return-1!==o?e[o]:t}}function Dt(t){var n,r=t.userAgent,i=t.clientHints,o=i.mobile,a=i.uaDataValues,l=wt(r),c=ht(l),u=function(t){var n,r=t.brands,i=(null===(n=t.uaDataValues)||void 0===n?void 0:n.fullVersionList)||r||[],o=Ct(St,e.Browser.Unknown),a=i.map((function(e){var t=e.brand,n=e.version;return{browser:o(t),browserVersion:n}})).filter((function(t){return t.browser!==e.Browser.Unknown}))[0];return void 0===a?{browser:e.Browser.Unknown}:a}(i),s=u.browser,f=u.browserVersion,d=function(t){var n=t.platform;return Ct(Ot,e.OS.Unknown)(n)}(i),p=null===(n=a)||void 0===n?void 0:n.platformVersion.replace(/_/g,"."),h=o?e.DeviceType.Mobile:e.DeviceType.Desktop,g=xt(l,d);return ft({app:c,kakaoTalkVersion:g,browser:s,browserVersion:f,os:d,osVersion:p,deviceType:h,isMobile:o,isTablet:!1,isDesktop:!o},bt({app:c,browser:s,os:d}))}e.getAgent=function(t){void 0===t&&(t={});var n=wt(t.userAgent),r=ht(n),i=function(t){var n=gt.find((function(e){return e.matcher.test(t)}));if(!n)return{browser:e.Browser.Unknown};var r=n.browser,i=n.versionMatchers.find((function(e){return e.test(t)}));return i?{browser:r,browserVersion:i.exec(t)[1]}:{browser:r}}(n),o=i.browser,a=i.browserVersion,l=function(t){var n=vt.find((function(e){return e.matcher.test(t)}));if(!n)return{os:e.OS.Unknown};var r=n.os,i=n.versionMatchers.find((function(e){return e.test(t)}));return i?{os:r,osVersion:i.exec(t)[1].replace(/_/g,".")}:{os:r}}(n),c=l.os,u=l.osVersion,s=xt(n,c);return ft(ft({app:r,kakaoTalkVersion:s,browser:o,browserVersion:a,os:c,osVersion:u},function(t){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n=t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))?ft(ft({},mt),{deviceType:e.DeviceType.Mobile,isMobile:!0}):function(e){var t=/^(?=.*android)(?!.*mobile).*/i.test(e),n=/ipad/i.test(e),r="object"==typeof document&&!!document&&"ontouchend"in document&&/(macintosh)/i.test(e);return t||n||r}(t)?ft(ft({},mt),{deviceType:e.DeviceType.Tablet,isTablet:!0}):ft(ft({},mt),{deviceType:e.DeviceType.Desktop,isDesktop:!0});var n}(n)),bt({app:r,browser:o,os:c}))},e.getClientHints=function(e){var t=this;return new Promise((function(n,r){return dt(t,void 0,void 0,(function(){var t,i;return pt(this,(function(o){switch(o.label){case 0:return kt()?[4,Pt()]:[3,2];case 1:return t=o.sent(),i=Dt({userAgent:e,clientHints:t}),n(i),[3,3];case 2:r("window.navigator.userAgentData를 미지원하는 브라우저입니다."),o.label=3;case 3:return[2]}}))}))}))},e.getClientHintsSync=function(e){if(kt())return Dt({userAgent:e,clientHints:_t()})},e.isSupportClientHints=kt,Object.defineProperty(e,"__esModule",{value:!0})}(t)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{EditorTracker:()=>i});var e=n(398),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},i=function(){function n(e){var t=e.service,n=e.trackDomain,r=e.editor;this.setService(t),this.__trackDomain=n||"https://kelog.kakao.com/api/event",this.__setUserAgent(),r&&this.setEditor(r)}return Object.defineProperty(n.prototype,"action",{get:function(){return this.__action},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"service",{get:function(){return this.__service},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"editor",{get:function(){return this.__editor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trackDomain",{get:function(){return this.__trackDomain},enumerable:!1,configurable:!0}),n.prototype.setEditor=function(e){this.__editor=e},n.prototype.setAction=function(e){this.__action=e},n.prototype.setTrackDomain=function(e){this.__trackDomain=e},n.prototype.setPlatform=function(e){this.__ua&&(this.__ua.platform=e)},n.prototype.send=function(e){if(void 0===e&&(e=this.__action),this.__service&&this.__editor&&this.__ua&&(null==e?void 0:e.event)){var t={service:this.__service,editor:this.__editor,action:e,ua:this.__ua};this.__sendRequest(t),this.__resetPayload()}},n.prototype.trackClick=function(e){var t=this;void 0===e&&(e=document.body),e.addEventListener("click",(function(e){var n=t.getClickAction(e.target);n&&t.send(n)}))},n.prototype.getClickAction=function(e){for(var t,n={event:"click"},r=[],i=e;i&&"string"==typeof i.tagName&&"BODY"!==i.tagName;){if(i.nodeType===Node.ELEMENT_NODE&&"FORM"!==i.tagName){var o=i.getAttribute("data-log-action-command"),a=null===(t=i.getAttribute("data-log-action-layer"))||void 0===t?void 0:t.trim().split(" "),l=i.getAttribute("data-log-action-ordnum"),c=i.getAttribute("data-log-action-setnum");o&&(n.command=o),a&&r.push.apply(r,a.reverse()),l&&isFinite(Number(l))&&(n.ordnum=Number(l)),c&&isFinite(Number(c))&&(n.setnum=Number(c))}if(!i.parentElement)break;i=i.parentElement}return r.length>0&&r.reverse().forEach((function(e,t){0===t?n.layer1=e:1===t?n.layer2=e:2===t&&(n.layer3=e)})),n.command||n.layer1?n:null},n.prototype.setService=function(e){this.__service={key:e.key,domain:e.domain||document.location.hostname,referrer:e.referrer||document.location.href,version:e.version}},n.prototype.__setUserAgent=function(){var n,r=this,i=(0,e.getAgent)(),o=i.os,a=i.osVersion,l=i.browser,c=i.browserVersion,u=i.deviceType;this.__ua={os:o,os_version:a,browser:l,browser_version:c,device_type:u,platform:"web"},null===(n=window.navigator.userAgentData)||void 0===n||n.getHighEntropyValues(["model"]).then((function(e){r.__ua&&e.model&&(r.__ua=t(t({},r.__ua),{device_model:e.model}))}))},n.prototype.__sendRequest=function(e){fetch("".concat(this.__trackDomain),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}).then().catch()},n.prototype.__resetPayload=function(){var e;this.__action=void 0,this.__editor&&(this.__editor={version:null===(e=this.__editor)||void 0===e?void 0:e.version})},n}()})(),r})(),e.exports=t()},94184:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},86010:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:function(){return i}}),t.default=i},64063:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},8679:function(e,t,n){"use strict";var r=n(21296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?a:l[e.$$typeof]||i}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=a;var u=Object.defineProperty,s=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=s(n);f&&(a=a.concat(f(n)));for(var l=c(t),g=c(n),v=0;v<a.length;++v){var m=a[v];if(!(o[m]||r&&r[m]||g&&g[m]||l&&l[m])){var y=d(n,m);try{u(t,m,y)}catch(e){}}}}return t}},96103:function(e,t){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,s=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case f:case o:case l:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case v:case g:case c:return e;default:return t}}case i:return t}}}function E(e){return x(e)===f}t.AsyncMode=s,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||x(e)===s},t.isConcurrentMode=E,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===l},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===l||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=x},21296:function(e,t,n){"use strict";e.exports=n(96103)},18552:function(e,t,n){var r=n(10852)(n(55639),"DataView");e.exports=r},1989:function(e,t,n){var r=n(51789),i=n(80401),o=n(57667),a=n(21327),l=n(81866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,e.exports=c},38407:function(e,t,n){var r=n(27040),i=n(14125),o=n(82117),a=n(67518),l=n(13399);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,e.exports=c},57071:function(e,t,n){var r=n(10852)(n(55639),"Map");e.exports=r},83369:function(e,t,n){var r=n(24785),i=n(11285),o=n(96e3),a=n(49916),l=n(95265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,e.exports=c},53818:function(e,t,n){var r=n(10852)(n(55639),"Promise");e.exports=r},58525:function(e,t,n){var r=n(10852)(n(55639),"Set");e.exports=r},88668:function(e,t,n){var r=n(83369),i=n(90619),o=n(72385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},46384:function(e,t,n){var r=n(38407),i=n(37465),o=n(63779),a=n(67599),l=n(44758),c=n(34309);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=l,u.prototype.set=c,e.exports=u},62705:function(e,t,n){var r=n(55639).Symbol;e.exports=r},11149:function(e,t,n){var r=n(55639).Uint8Array;e.exports=r},70577:function(e,t,n){var r=n(10852)(n(55639),"WeakMap");e.exports=r},96874:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},77412:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},34963:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},47443:function(e,t,n){var r=n(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1196:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},14636:function(e,t,n){var r=n(22545),i=n(35694),o=n(1469),a=n(44144),l=n(65776),c=n(36719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),s=!n&&i(e),f=!n&&!s&&a(e),d=!n&&!s&&!f&&c(e),p=n||s||f||d,h=p?r(e.length,String):[],g=h.length;for(var v in e)!t&&!u.call(e,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||l(v,g))||h.push(v);return h}},29932:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},62488:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},82908:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},86556:function(e,t,n){var r=n(89465),i=n(77813);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},34865:function(e,t,n){var r=n(89465),i=n(77813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},18470:function(e,t,n){var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},44037:function(e,t,n){var r=n(98363),i=n(3674);e.exports=function(e,t){return e&&r(t,i(t),e)}},63886:function(e,t,n){var r=n(98363),i=n(81704);e.exports=function(e,t){return e&&r(t,i(t),e)}},89465:function(e,t,n){var r=n(38777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},85990:function(e,t,n){var r=n(46384),i=n(77412),o=n(34865),a=n(44037),l=n(63886),c=n(64626),u=n(278),s=n(18805),f=n(1911),d=n(58234),p=n(46904),h=n(64160),g=n(43824),v=n(29148),m=n(38517),y=n(1469),b=n(44144),w=n(56688),x=n(13218),E=n(72928),S=n(3674),O=n(81704),_="[object Arguments]",k="[object Function]",P="[object Object]",C={};C[_]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[P]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[k]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,D,T,j,N){var M,I=1&n,R=2&n,A=4&n;if(D&&(M=j?D(t,T,j,N):D(t)),void 0!==M)return M;if(!x(t))return t;var z=y(t);if(z){if(M=g(t),!I)return u(t,M)}else{var L=h(t),F=L==k||"[object GeneratorFunction]"==L;if(b(t))return c(t,I);if(L==P||L==_||F&&!j){if(M=R||F?{}:m(t),!I)return R?f(t,l(M,t)):s(t,a(M,t))}else{if(!C[L])return j?t:{};M=v(t,L,I)}}N||(N=new r);var U=N.get(t);if(U)return U;N.set(t,M),E(t)?t.forEach((function(r){M.add(e(r,n,D,r,t,N))})):w(t)&&t.forEach((function(r,i){M.set(i,e(r,n,D,i,t,N))}));var H=z?void 0:(A?R?p:d:R?O:S)(t);return i(H||t,(function(r,i){H&&(r=t[i=r]),o(M,i,e(r,n,D,i,t,N))})),M}},3118:function(e,t,n){var r=n(13218),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},20731:function(e,t,n){var r=n(88668),i=n(47443),o=n(1196),a=n(29932),l=n(7518),c=n(74757);e.exports=function(e,t,n,u){var s=-1,f=i,d=!0,p=e.length,h=[],g=t.length;if(!p)return h;n&&(t=a(t,l(n))),u?(f=o,d=!1):t.length>=200&&(f=c,d=!1,t=new r(t));e:for(;++s<p;){var v=e[s],m=null==n?v:n(v);if(v=u||0!==v?v:0,d&&m==m){for(var y=g;y--;)if(t[y]===m)continue e;h.push(v)}else f(t,m,u)||h.push(v)}return h}},41848:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},21078:function(e,t,n){var r=n(62488),i=n(37285);e.exports=function e(t,n,o,a,l){var c=-1,u=t.length;for(o||(o=i),l||(l=[]);++c<u;){var s=t[c];n>0&&o(s)?n>1?e(s,n-1,o,a,l):r(l,s):a||(l[l.length]=s)}return l}},28483:function(e,t,n){var r=n(25063)();e.exports=r},68866:function(e,t,n){var r=n(62488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},44239:function(e,t,n){var r=n(62705),i=n(89607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},42118:function(e,t,n){var r=n(41848),i=n(62722),o=n(42351);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},47556:function(e,t,n){var r=n(88668),i=n(47443),o=n(1196),a=n(29932),l=n(7518),c=n(74757),u=Math.min;e.exports=function(e,t,n){for(var s=n?o:i,f=e[0].length,d=e.length,p=d,h=Array(d),g=1/0,v=[];p--;){var m=e[p];p&&t&&(m=a(m,l(t))),g=u(m.length,g),h[p]=!n&&(t||f>=120&&m.length>=120)?new r(p&&m):void 0}m=e[0];var y=-1,b=h[0];e:for(;++y<f&&v.length<g;){var w=m[y],x=t?t(w):w;if(w=n||0!==w?w:0,!(b?c(b,x):s(v,x,n))){for(p=d;--p;){var E=h[p];if(!(E?c(E,x):s(e[p],x,n)))continue e}b&&b.push(x),v.push(w)}}return v}},9454:function(e,t,n){var r=n(44239),i=n(37005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},90939:function(e,t,n){var r=n(21299),i=n(37005);e.exports=function e(t,n,o,a,l){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,l))}},21299:function(e,t,n){var r=n(46384),i=n(67114),o=n(18351),a=n(16096),l=n(64160),c=n(1469),u=n(44144),s=n(36719),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=c(e),b=c(t),w=y?d:l(e),x=b?d:l(t),E=(w=w==f?p:w)==p,S=(x=x==f?p:x)==p,O=w==x;if(O&&u(e)){if(!u(t))return!1;y=!0,E=!1}if(O&&!E)return m||(m=new r),y||s(e)?i(e,t,n,g,v,m):o(e,t,w,n,g,v,m);if(!(1&n)){var _=E&&h.call(e,"__wrapped__"),k=S&&h.call(t,"__wrapped__");if(_||k){var P=_?e.value():e,C=k?t.value():t;return m||(m=new r),v(P,C,n,g,m)}}return!!O&&(m||(m=new r),a(e,t,n,g,v,m))}},25588:function(e,t,n){var r=n(64160),i=n(37005);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},62722:function(e){e.exports=function(e){return e!=e}},28458:function(e,t,n){var r=n(23560),i=n(15346),o=n(13218),a=n(80346),l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,s=c.toString,f=u.hasOwnProperty,d=RegExp("^"+s.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:l).test(a(e))}},29221:function(e,t,n){var r=n(64160),i=n(37005);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},38749:function(e,t,n){var r=n(44239),i=n(41780),o=n(37005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},280:function(e,t,n){var r=n(25726),i=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},10313:function(e,t,n){var r=n(13218),i=n(25726),o=n(33498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var l in e)("constructor"!=l||!t&&a.call(e,l))&&n.push(l);return n}},42980:function(e,t,n){var r=n(46384),i=n(86556),o=n(28483),a=n(59783),l=n(13218),c=n(81704),u=n(36390);e.exports=function e(t,n,s,f,d){t!==n&&o(n,(function(o,c){if(d||(d=new r),l(o))a(t,n,c,s,e,f,d);else{var p=f?f(u(t,c),o,c+"",t,n,d):void 0;void 0===p&&(p=o),i(t,c,p)}}),c)}},59783:function(e,t,n){var r=n(86556),i=n(64626),o=n(77133),a=n(278),l=n(38517),c=n(35694),u=n(1469),s=n(29246),f=n(44144),d=n(23560),p=n(13218),h=n(68630),g=n(36719),v=n(36390),m=n(59881);e.exports=function(e,t,n,y,b,w,x){var E=v(e,n),S=v(t,n),O=x.get(S);if(O)r(e,n,O);else{var _=w?w(E,S,n+"",e,t,x):void 0,k=void 0===_;if(k){var P=u(S),C=!P&&f(S),D=!P&&!C&&g(S);_=S,P||C||D?u(E)?_=E:s(E)?_=a(E):C?(k=!1,_=i(S,!0)):D?(k=!1,_=o(S,!0)):_=[]:h(S)||c(S)?(_=E,c(E)?_=m(E):p(E)&&!d(E)||(_=l(S))):k=!1}k&&(x.set(S,_),b(_,S,y,w,x),x.delete(S)),r(e,n,_)}}},5976:function(e,t,n){var r=n(6557),i=n(45357),o=n(30061);e.exports=function(e,t){return o(i(e,t,r),e+"")}},56560:function(e,t,n){var r=n(75703),i=n(38777),o=n(6557),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},22545:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},27561:function(e,t,n){var r=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7518:function(e){e.exports=function(e){return function(t){return e(t)}}},45652:function(e,t,n){var r=n(88668),i=n(47443),o=n(1196),a=n(74757),l=n(23593),c=n(21814);e.exports=function(e,t,n){var u=-1,s=i,f=e.length,d=!0,p=[],h=p;if(n)d=!1,s=o;else if(f>=200){var g=t?null:l(e);if(g)return c(g);d=!1,s=a,h=new r}else h=t?[]:p;e:for(;++u<f;){var v=e[u],m=t?t(v):v;if(v=n||0!==v?v:0,d&&m==m){for(var y=h.length;y--;)if(h[y]===m)continue e;t&&h.push(m),p.push(v)}else s(h,m,n)||(h!==p&&h.push(m),p.push(v))}return p}},36128:function(e,t,n){var r=n(20731),i=n(21078),o=n(45652);e.exports=function(e,t,n){var a=e.length;if(a<2)return a?o(e[0]):[];for(var l=-1,c=Array(a);++l<a;)for(var u=e[l],s=-1;++s<a;)s!=l&&(c[l]=r(c[l]||u,e[s],t,n));return o(i(c,1),t,n)}},74757:function(e){e.exports=function(e,t){return e.has(t)}},24387:function(e,t,n){var r=n(29246);e.exports=function(e){return r(e)?e:[]}},74318:function(e,t,n){var r=n(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64626:function(e,t,n){e=n.nmd(e);var r=n(55639),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,l=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}},57157:function(e,t,n){var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},93147:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},40419:function(e,t,n){var r=n(62705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},77133:function(e,t,n){var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},98363:function(e,t,n){var r=n(34865),i=n(89465);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var l=-1,c=t.length;++l<c;){var u=t[l],s=o?o(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),a?i(n,u,s):r(n,u,s)}return n}},18805:function(e,t,n){var r=n(98363),i=n(99551);e.exports=function(e,t){return r(e,i(e),t)}},1911:function(e,t,n){var r=n(98363),i=n(51442);e.exports=function(e,t){return r(e,i(e),t)}},14429:function(e,t,n){var r=n(55639)["__core-js_shared__"];e.exports=r},21463:function(e,t,n){var r=n(5976),i=n(16612);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,l&&i(n[0],n[1],l)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}},25063:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),l=a.length;l--;){var c=a[e?l:++i];if(!1===n(o[c],c,o))break}return t}}},23593:function(e,t,n){var r=n(58525),i=n(50308),o=n(21814),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},38777:function(e,t,n){var r=n(10852),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},67114:function(e,t,n){var r=n(88668),i=n(82908),o=n(74757);e.exports=function(e,t,n,a,l,c){var u=1&n,s=e.length,f=t.length;if(s!=f&&!(u&&f>s))return!1;var d=c.get(e),p=c.get(t);if(d&&p)return d==t&&p==e;var h=-1,g=!0,v=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<s;){var m=e[h],y=t[h];if(a)var b=u?a(y,m,h,t,e,c):a(m,y,h,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(m===e||l(m,e,n,a,c)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!l(m,y,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},18351:function(e,t,n){var r=n(62705),i=n(11149),o=n(77813),a=n(67114),l=n(68776),c=n(21814),u=r?r.prototype:void 0,s=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=l;case"[object Set]":var h=1&r;if(p||(p=c),e.size!=t.size&&!h)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var v=a(p(e),p(t),r,u,f,d);return d.delete(e),v;case"[object Symbol]":if(s)return s.call(e)==s.call(t)}return!1}},16096:function(e,t,n){var r=n(58234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,l){var c=1&n,u=r(e),s=u.length;if(s!=r(t).length&&!c)return!1;for(var f=s;f--;){var d=u[f];if(!(c?d in t:i.call(t,d)))return!1}var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var g=!0;l.set(e,t),l.set(t,e);for(var v=c;++f<s;){var m=e[d=u[f]],y=t[d];if(o)var b=c?o(y,m,d,t,e,l):o(m,y,d,e,t,l);if(!(void 0===b?m===y||a(m,y,n,o,l):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return l.delete(e),l.delete(t),g}},31957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:function(e,t,n){var r=n(68866),i=n(99551),o=n(3674);e.exports=function(e){return r(e,o,i)}},46904:function(e,t,n){var r=n(68866),i=n(51442),o=n(81704);e.exports=function(e){return r(e,o,i)}},45050:function(e,t,n){var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},10852:function(e,t,n){var r=n(28458),i=n(47801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},85924:function(e,t,n){var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},89607:function(e,t,n){var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[l]=n:delete e[l]),i}},99551:function(e,t,n){var r=n(34963),i=n(70479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=l},51442:function(e,t,n){var r=n(62488),i=n(85924),o=n(99551),a=n(70479),l=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=l},64160:function(e,t,n){var r=n(18552),i=n(57071),o=n(53818),a=n(58525),l=n(70577),c=n(44239),u=n(80346),s="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",g=u(r),v=u(i),m=u(o),y=u(a),b=u(l),w=c;(r&&w(new r(new ArrayBuffer(1)))!=h||i&&w(new i)!=s||o&&w(o.resolve())!=f||a&&w(new a)!=d||l&&w(new l)!=p)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return h;case v:return s;case m:return f;case y:return d;case b:return p}return t}),e.exports=w},47801:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},51789:function(e,t,n){var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:function(e,t,n){var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},21327:function(e,t,n){var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},81866:function(e,t,n){var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},43824:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},29148:function(e,t,n){var r=n(74318),i=n(57157),o=n(93147),a=n(40419),l=n(77133);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},38517:function(e,t,n){var r=n(3118),i=n(85924),o=n(25726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},37285:function(e,t,n){var r=n(62705),i=n(35694),o=n(1469),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},65776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},16612:function(e,t,n){var r=n(77813),i=n(98612),o=n(65776),a=n(13218);e.exports=function(e,t,n){if(!a(n))return!1;var l=typeof t;return!!("number"==l?i(n)&&o(t,n.length):"string"==l&&t in n)&&r(n[t],e)}},37019:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:function(e,t,n){var r,i=n(14429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},25726:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},27040:function(e){e.exports=function(){this.__data__=[],this.size=0}},14125:function(e,t,n){var r=n(18470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},82117:function(e,t,n){var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:function(e,t,n){var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},13399:function(e,t,n){var r=n(18470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},24785:function(e,t,n){var r=n(1989),i=n(38407),o=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},11285:function(e,t,n){var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:function(e,t,n){var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:function(e,t,n){var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:function(e,t,n){var r=n(45050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},68776:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},94536:function(e,t,n){var r=n(10852)(Object,"create");e.exports=r},86916:function(e,t,n){var r=n(5569)(Object.keys,Object);e.exports=r},33498:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},31167:function(e,t,n){e=n.nmd(e);var r=n(31957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=l},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},45357:function(e,t,n){var r=n(96874),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,l=i(o.length-t,0),c=Array(l);++a<l;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(c),r(e,this,u)}}},55639:function(e,t,n){var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},36390:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:function(e){e.exports=function(e){return this.__data__.has(e)}},21814:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},30061:function(e,t,n){var r=n(56560),i=n(21275)(r);e.exports=i},21275:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},37465:function(e,t,n){var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:function(e){e.exports=function(e){return this.__data__.get(e)}},44758:function(e){e.exports=function(e){return this.__data__.has(e)}},34309:function(e,t,n){var r=n(38407),i=n(57071),o=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},42351:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},80346:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},50361:function(e,t,n){var r=n(85990);e.exports=function(e){return r(e,5)}},75703:function(e){e.exports=function(e){return function(){return e}}},23279:function(e,t,n){var r=n(13218),i=n(7771),o=n(14841),a=Math.max,l=Math.min;e.exports=function(e,t,n){var c,u,s,f,d,p,h=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=u;return c=u=void 0,h=t,f=e.apply(r,n)}function b(e){return h=e,d=setTimeout(x,t),g?y(e):f}function w(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=s}function x(){var e=i();if(w(e))return E(e);d=setTimeout(x,function(e){var n=t-(e-p);return v?l(n,s-(e-h)):n}(e))}function E(e){return d=void 0,m&&c?y(e):(c=u=void 0,f)}function S(){var e=i(),n=w(e);if(c=arguments,u=this,p=e,n){if(void 0===d)return b(p);if(v)return clearTimeout(d),d=setTimeout(x,t),y(p)}return void 0===d&&(d=setTimeout(x,t)),f}return t=o(t)||0,r(n)&&(g=!!n.leading,s=(v="maxWait"in n)?a(o(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==d&&clearTimeout(d),h=0,c=p=u=d=void 0},S.flush=function(){return void 0===d?f:E(i())},S}},91966:function(e,t,n){var r=n(20731),i=n(21078),o=n(5976),a=n(29246),l=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]}));e.exports=l},77813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},6557:function(e){e.exports=function(e){return e}},25325:function(e,t,n){var r=n(29932),i=n(47556),o=n(5976),a=n(24387),l=o((function(e){var t=r(e,a);return t.length&&t[0]===e[0]?i(t):[]}));e.exports=l},35694:function(e,t,n){var r=n(9454),i=n(37005),o=Object.prototype,a=o.hasOwnProperty,l=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!l.call(e,"callee")};e.exports=c},1469:function(e){var t=Array.isArray;e.exports=t},98612:function(e,t,n){var r=n(23560),i=n(41780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},29246:function(e,t,n){var r=n(98612),i=n(37005);e.exports=function(e){return i(e)&&r(e)}},44144:function(e,t,n){e=n.nmd(e);var r=n(55639),i=n(95062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,l=a&&a.exports===o?r.Buffer:void 0,c=(l?l.isBuffer:void 0)||i;e.exports=c},41609:function(e,t,n){var r=n(280),i=n(64160),o=n(35694),a=n(1469),l=n(98612),c=n(44144),u=n(25726),s=n(36719),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||s(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},18446:function(e,t,n){var r=n(90939);e.exports=function(e,t){return r(e,t)}},23560:function(e,t,n){var r=n(44239),i=n(13218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},56688:function(e,t,n){var r=n(25588),i=n(7518),o=n(31167),a=o&&o.isMap,l=a?i(a):r;e.exports=l},81763:function(e,t,n){var r=n(44239),i=n(37005);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},68630:function(e,t,n){var r=n(44239),i=n(85924),o=n(37005),a=Function.prototype,l=Object.prototype,c=a.toString,u=l.hasOwnProperty,s=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==s}},72928:function(e,t,n){var r=n(29221),i=n(7518),o=n(31167),a=o&&o.isSet,l=a?i(a):r;e.exports=l},47037:function(e,t,n){var r=n(44239),i=n(1469),o=n(37005);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},33448:function(e,t,n){var r=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},36719:function(e,t,n){var r=n(38749),i=n(7518),o=n(31167),a=o&&o.isTypedArray,l=a?i(a):r;e.exports=l},3674:function(e,t,n){var r=n(14636),i=n(280),o=n(98612);e.exports=function(e){return o(e)?r(e):i(e)}},81704:function(e,t,n){var r=n(14636),i=n(10313),o=n(98612);e.exports=function(e){return o(e)?r(e,!0):i(e)}},10928:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},82492:function(e,t,n){var r=n(42980),i=n(21463)((function(e,t,n){r(e,t,n)}));e.exports=i},50308:function(e){e.exports=function(){}},7771:function(e,t,n){var r=n(55639);e.exports=function(){return r.Date.now()}},70479:function(e){e.exports=function(){return[]}},95062:function(e){e.exports=function(){return!1}},23493:function(e,t,n){var r=n(23279),i=n(13218);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},14841:function(e,t,n){var r=n(27561),i=n(13218),o=n(33448),a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},59881:function(e,t,n){var r=n(98363),i=n(81704);e.exports=function(e){return r(e,i(e))}},44908:function(e,t,n){var r=n(45652);e.exports=function(e){return e&&e.length?r(e):[]}},72905:function(e,t,n){var r=n(34963),i=n(5976),o=n(36128),a=n(29246),l=n(10928),c=i((function(e){var t=l(e);return t="function"==typeof t?t:void 0,o(r(e,a),void 0,t)}));e.exports=c},92703:function(e,t,n){"use strict";var r=n(50414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},64448:function(e,t,n){"use strict";
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(67294),i=n(63840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var s=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var A,z=Object.assign;function L(e){if(void 0===A)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(1!==a||1!==l)do{if(a--,0>--l||i[a]!==o[l]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=l);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function H(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case _:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function oe(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,se,fe=(se=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return se(e,t)}))}:se);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var me=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Oe=null;function _e(e){if(e=bi(e)){if("function"!=typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function ke(e){Se?Oe?Oe.push(e):Oe=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Oe;if(Oe=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function De(){}var Te=!1;function je(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ce(e,t,n)}finally{Te=!1,(null!==Se||null!==Oe)&&(De(),Pe())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(s)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(se){Me=!1}function Re(e,t,n,r,i,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ae=!1,ze=null,Le=!1,Fe=null,Ue={onError:function(e){Ae=!0,ze=e}};function He(e,t,n,r,i,o,a,l,c){Ae=!1,ze=null,Re.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=a;break}if(c===r){l=!0,r=i,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,r=i;break}if(c===r){l=!0,r=a,n=i;break}c=c.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2;var ut=64,st=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~i;0!==l?r=ft(l):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0==(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var xt,Et,St,Ot,_t,kt=!1,Pt=[],Ct=null,Dt=null,Tt=null,jt=new Map,Nt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void _t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Lt(e)&&n.delete(t)}function Ut(){kt=!1,null!==Ct&&Lt(Ct)&&(Ct=null),null!==Dt&&Lt(Dt)&&(Dt=null),null!==Tt&&Lt(Tt)&&(Tt=null),jt.forEach(Ft),Nt.forEach(Ft)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Ht(t,e)}if(0<Pt.length){Ht(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ht(Ct,e),null!==Dt&&Ht(Dt,e),null!==Tt&&Ht(Tt,e),jt.forEach(t),Nt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)zt(n),null===n.blockedOn&&Mt.shift()}var Vt=w.ReactCurrentBatchConfig,Xt=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,$t(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Yt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,$t(e,t,n,r)}finally{bt=i,Vt.transition=o}}function $t(e,t,n,r){if(Xt){var i=Kt(e,t,n,r);if(null===i)Xr(e,t,r,qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=At(Ct,e,t,n,r,i),!0;case"dragenter":return Dt=At(Dt,e,t,n,r,i),!0;case"mouseover":return Tt=At(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jt.set(o,At(jt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,At(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Kt(e,t,n,r))&&Xr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Xr(e,t,r,null,n)}}var qt=null;function Kt(e,t,n,r){if(qt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=on(un),fn=z({},un,{view:0,detail:0}),dn=on(fn),pn=z({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=on(pn),gn=on(z({},pn,{dataTransfer:0})),vn=on(z({},fn,{relatedTarget:0})),mn=on(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(z({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return On}var kn=z({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(kn),Cn=on(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=on(z({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Tn=on(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(jn),Mn=[9,13,27,32],In=s&&"CompositionEvent"in window,Rn=null;s&&"documentMode"in document&&(Rn=document.documentMode);var An=s&&"TextEvent"in window&&!Rn,zn=s&&(!In||Rn&&8<Rn&&11>=Rn),Ln=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Yr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function qn(e){Lr(e,0)}function Kn(e){if($(wi(e)))return e}function Gn(e,t){if("change"===e)return t}var Qn=!1;if(s){var Jn;if(s){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),$n=Yn=null)}function nr(e){if("value"===e.propertyName&&Kn($n)){var t=[];Wn(t,$n,e,xe(e)),je(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn($n)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=sr(n,o);var a=sr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=s&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Yr(mr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Or={};function _r(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Sr[e]=n[t];return e}s&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=_r("animationend"),Pr=_r("animationiteration"),Cr=_r("animationstart"),Dr=_r("transitionend"),Tr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Tr.set(e,t),c(t,[e])}for(var Mr=0;Mr<jr.length;Mr++){var Ir=jr[Mr];Nr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Nr(kr,"onAnimationEnd"),Nr(Pr,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Dr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,l,c,u){if(He.apply(this,arguments),Ae){if(!Ae)throw Error(o(198));var s=ze;Ae=!1,ze=null,Le||(Le=!0,Fe=s)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;zr(i,l,u),o=c}else for(a=0;a<r.length;a++){if(c=(l=r[a]).instance,u=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;zr(i,l,u),o=c}}}if(Le)throw e=Fe,Le=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Hr]){e[Hr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Gt(t)){case 1:var i=Wt;break;case 4:i=Yt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==l;){if(null===(a=yi(l)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}l=l.parentNode}}r=r.return}je((function(){var r=o,i=xe(n),a=[];e:{var l=Tr.get(e);if(void 0!==l){var c=sn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Pn;break;case"focusin":u="focus",c=vn;break;case"focusout":u="blur",c=vn;break;case"beforeblur":case"afterblur":c=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Dn;break;case kr:case Pr:case Cr:c=mn;break;case Dr:c=Tn;break;case"scroll":c=dn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var s=0!=(4&t),f=!s&&"scroll"===e,d=s?null!==l?l+"Capture":null:l;s=[];for(var p,h=r;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Ne(h,d))&&s.push(Wr(h,g,p)))),f)break;h=h.return}0<s.length&&(l=new c(l,u,null,n,i),a.push({event:l,listeners:s}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[hi])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(f=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(s=hn,g="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(s=Cn,g="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==c?l:wi(c),p=null==u?l:wi(u),(l=new s(g,h+"leave",c,n,i)).target=f,l.relatedTarget=p,g=null,yi(i)===r&&((s=new s(d,h+"enter",u,n,i)).target=p,s.relatedTarget=f,g=s),f=g,c&&u)e:{for(d=u,h=0,p=s=c;p;p=$r(p))h++;for(p=0,g=d;g;g=$r(g))p++;for(;0<h-p;)s=$r(s),h--;for(;0<p-h;)d=$r(d),p--;for(;h--;){if(s===d||null!==d&&s===d.alternate)break e;s=$r(s),d=$r(d)}s=null}else s=null;null!==c&&qr(a,l,c,s,!1),null!==u&&null!==f&&qr(a,f,u,s,!0)}if("select"===(c=(l=r?wi(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=Gn;else if(Xn(l))if(Qn)v=ar;else{v=ir;var m=rr}else(c=l.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=or);switch(v&&(v=v(e,r))?Wn(a,v,n,i):(m&&m(e,l,r),"focusout"===e&&(m=l._wrapperState)&&m.controlled&&"number"===l.type&&ee(l,"number",l.value)),m=r?wi(r):window,e){case"focusin":(Xn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,yr=null);break;case"focusout":yr=mr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Bn=!0)),0<(m=Yr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=An?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!In&&Un(e,t)?(e=en(),Zt=Jt=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Lr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(null!==c&&c===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(c=Ne(n,o))&&a.unshift(Wr(n,c,l)):i||null!=(c=Ne(n,o))&&a.push(Wr(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Qr(e){return("string"==typeof e?e:""+e).replace(Kr,"\n").replace(Gr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(li)}:ri;function li(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,pi="__reactProps$"+fi,hi="__reactContainer$"+fi,gi="__reactEvents$"+fi,vi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[di])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[pi]||null}var Ei=[],Si=-1;function Oi(e){return{current:e}}function _i(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function ki(e,t){Si++,Ei[Si]=e.current,e.current=t}var Pi={},Ci=Oi(Pi),Di=Oi(!1),Ti=Pi;function ji(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!=(e=e.childContextTypes)}function Mi(){_i(Di),_i(Ci)}function Ii(e,t,n){if(Ci.current!==Pi)throw Error(o(168));ki(Ci,t),ki(Di,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return z({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ti=Ci.current,ki(Ci,e),ki(Di,Di.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,_i(Di),_i(Ci),ki(Ci,e)):_i(Di),ki(Di,n)}var Li=null,Fi=!1,Ui=!1;function Hi(e){null===Li?Li=[e]:Li.push(e)}function Bi(){if(!Ui&&null!==Li){Ui=!0;var e=0,t=bt;try{var n=Li;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Fi=!1}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),$e(Ze,Bi),t}finally{bt=t,Ui=!1}}return null}var Vi=[],Xi=0,Wi=null,Yi=0,$i=[],qi=0,Ki=null,Gi=1,Qi="";function Ji(e,t){Vi[Xi++]=Yi,Vi[Xi++]=Wi,Wi=e,Yi=t}function Zi(e,t,n){$i[qi++]=Gi,$i[qi++]=Qi,$i[qi++]=Ki,Ki=e;var r=Gi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Gi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Gi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--Xi],Vi[Xi]=null,Yi=Vi[--Xi],Vi[Xi]=null;for(;e===Ki;)Ki=$i[--qi],$i[qi]=null,Qi=$i[--qi],$i[qi]=null,Gi=$i[--qi],$i[qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Gi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ju(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!lo(e,t)){if(co(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&lo(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function so(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return so(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(so(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ui(e.nextSibling)}function ho(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=w.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Oi(null),bo=null,wo=null,xo=null;function Eo(){xo=wo=bo=null}function So(e){var t=yo.current;_i(yo),e._currentValue=t}function Oo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){bo=e,xo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(wl=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Po=null;function Co(e){null===Po?Po=[e]:Po.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var jo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Cc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,To(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,To(e,n)}function Ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var i=e.updateQueue;jo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var s=e.alternate;null!==s&&((l=(s=s.updateQueue).lastBaseUpdate)!==a&&(null===l?s.firstBaseUpdate=u:l.next=u,s.lastBaseUpdate=c))}if(null!==o){var f=i.baseState;for(a=0,s=u=c=null,l=o;;){var d=l.lane,p=l.eventTime;if((r&d)===d){null!==s&&(s=s.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,g=l;switch(d=t,p=n,g.tag){case 1:if("function"==typeof(h=g.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(d="function"==typeof(h=g.payload)?h.call(p,f,d):h))break e;f=z({},f,d);break e;case 2:jo=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===s?(u=s=p,c=f):s=s.next=p,a|=d;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(d=l).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===s&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=s,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ac|=a,e.lanes=a,e.memoizedState=f}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Ho(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Io(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(nu(t,e,i,r),Ao(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Io(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(nu(t,e,i,r),Ao(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Io(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ro(e,i,r))&&(nu(t,e,r,n),Ao(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function Xo(e,t,n){var r=!1,i=Pi,o=t.contextType;return"object"==typeof o&&null!==o?o=ko(o):(i=Ni(t)?Ti:Ci.current,o=(r=null!=(r=t.contextTypes))?ji(e,i):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,No(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ko(o):(o=Ni(t)?Ti:Ci.current,i.context=ji(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Ho(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Lo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function $o(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Go(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===N&&Ko(o)===t.type)?((r=i(t,n.props)).ref=$o(e,t,n),r.return=e,r):((r=Iu(n.type,n.key,n.props,null,e.mode,r)).ref=$o(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=$o(e,null,t),n.return=e,n;case E:return(t=Lu(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;qo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?s(e,t,n,r):null;case N:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);qo(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);qo(t,r)}return null}function g(i,o,l,c){for(var u=null,s=null,f=o,g=o=0,v=null;null!==f&&g<l.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=p(i,f,l[g],c);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,g),null===s?u=m:s.sibling=m,s=m,f=v}if(g===l.length)return n(i,f),io&&Ji(i,g),u;if(null===f){for(;g<l.length;g++)null!==(f=d(i,l[g],c))&&(o=a(f,o,g),null===s?u=f:s.sibling=f,s=f);return io&&Ji(i,g),u}for(f=r(i,f);g<l.length;g++)null!==(v=h(f,i,g,l[g],c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=a(v,o,g),null===s?u=v:s.sibling=v,s=v);return e&&f.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}function v(i,l,c,u){var s=R(c);if("function"!=typeof s)throw Error(o(150));if(null==(c=s.call(c)))throw Error(o(151));for(var f=s=null,g=l,v=l=0,m=null,y=c.next();null!==g&&!y.done;v++,y=c.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=p(i,g,y.value,u);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),l=a(b,l,v),null===f?s=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),io&&Ji(i,v),s;if(null===g){for(;!y.done;v++,y=c.next())null!==(y=d(i,y.value,u))&&(l=a(y,l,v),null===f?s=y:f.sibling=y,f=y);return io&&Ji(i,v),s}for(g=r(i,g);!y.done;v++,y=c.next())null!==(y=h(g,i,v,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),l=a(y,l,v),null===f?s=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,v),s}return function e(r,o,a,c){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var u=a.key,s=o;null!==s;){if(s.key===u){if((u=a.type)===S){if(7===s.tag){n(r,s.sibling),(o=i(s,a.props.children)).return=r,r=o;break e}}else if(s.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===N&&Ko(u)===s.type){n(r,s.sibling),(o=i(s,a.props)).ref=$o(r,s,a),o.return=r,r=o;break e}n(r,s);break}t(r,s),s=s.sibling}a.type===S?((o=Ru(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Iu(a.type,a.key,a.props,null,r.mode,c)).ref=$o(r,o,a),c.return=r,r=c)}return l(r);case E:e:{for(s=a.key;null!==o;){if(o.key===s){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Lu(a,r.mode,c)).return=r,r=o}return l(r);case N:return e(r,o,(s=a._init)(a._payload),c)}if(te(a))return g(r,o,a,c);if(R(a))return v(r,o,a,c);qo(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=zu(a,r.mode,c)).return=r,r=o),l(r)):n(r,o)}}var Qo=Go(!0),Jo=Go(!1),Zo={},ea=Oi(Zo),ta=Oi(Zo),na=Oi(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(ki(na,t),ki(ta,e),ki(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(ea),ki(ea,t)}function oa(){_i(ea),_i(ta),_i(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(ki(ta,e),ki(ea,n))}function la(e){ta.current===e&&(_i(ea),_i(ta))}var ca=Oi(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function fa(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var da=w.ReactCurrentDispatcher,pa=w.ReactCurrentBatchConfig,ha=0,ga=null,va=null,ma=null,ya=!1,ba=!1,wa=0,xa=0;function Ea(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function Oa(e,t,n,r,i,a){if(ha=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ll:cl,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ma=va=null,t.updateQueue=null,da.current=ul,e=n(r,i)}while(ba)}if(da.current=al,t=null!==va&&null!==va.next,ha=0,ma=va=ga=null,ya=!1,t)throw Error(o(300));return e}function _a(){var e=0!==wa;return wa=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ga.memoizedState=ma=e:ma=ma.next=e,ma}function Pa(){if(null===va){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ma?ga.memoizedState:ma.next;if(null!==t)ma=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?ga.memoizedState=ma=e:ma=ma.next=e}return ma}function Ca(e,t){return"function"==typeof t?t(e):t}function Da(e){var t=Pa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=l=null,u=null,s=a;do{var f=s.lane;if((ha&f)===f)null!==u&&(u=u.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var d={lane:f,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===u?(c=u=d,l=r):u=u.next=d,ga.lanes|=f,Ac|=f}s=s.next}while(null!==s&&s!==a);null===u?l=r:u.next=c,lr(r,t.memoizedState)||(wl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Ac|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Pa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{a=e(a,l.action),l=l.next}while(l!==i);lr(a,t.memoizedState)||(wl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ja(){}function Na(e,t){var n=ga,r=Pa(),i=t(),a=!lr(r.memoizedState,i);if(a&&(r.memoizedState=i,wl=!0),r=r.queue,Xa(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Fa(9,Ia.bind(null,n,r,i,t),void 0,null),null===Dc)throw Error(o(349));0!=(30&ha)||Ma(n,t,i)}return i}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&za(e)}function Ra(e,t,n){return n((function(){Aa(t)&&za(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(e){return!0}}function za(e){var t=To(e,1);null!==t&&nu(t,e,1,-1)}function La(e){var t=ka();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,ga,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Pa().memoizedState}function Ha(e,t,n,r){var i=ka();ga.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Pa();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Fa(t,n,o,r))}ga.flags|=e,i.memoizedState=Fa(1|t,n,o,r)}function Va(e,t){return Ha(8390656,8,e,t)}function Xa(e,t){return Ba(2048,8,e,t)}function Wa(e,t){return Ba(4,2,e,t)}function Ya(e,t){return Ba(4,4,e,t)}function $a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!=n?n.concat([e]):null,Ba(4,4,$a.bind(null,t,e),n)}function Ka(){}function Ga(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0==(21&ha)?(e.baseState&&(e.baseState=!1,wl=!0),e.memoizedState=n):(lr(n,t)||(n=gt(),ga.lanes|=n,Ac|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function el(){return Pa().memoizedState}function tl(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))il(t,n);else if(null!==(n=Do(e,t,n,r))){nu(n,e,r,eu()),ol(n,t,r)}}function nl(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))il(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,a)){var c=t.interleaved;return null===c?(i.next=i,Co(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Do(e,t,i,r))&&(nu(n,e,r,i=eu()),ol(n,t,r))}}function rl(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function il(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ol(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var al={readContext:ko,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ll={readContext:ko,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ha(4194308,4,$a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:La,useDebugValue:Ka,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Za.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Dc)throw Error(o(349));0!=(30&ha)||Ma(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Dc.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Gi&~(1<<32-at(Gi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cl={readContext:ko,useCallback:Ga,useContext:ko,useEffect:Xa,useImperativeHandle:qa,useInsertionEffect:Wa,useLayoutEffect:Ya,useMemo:Qa,useReducer:Da,useRef:Ua,useState:function(){return Da(Ca)},useDebugValue:Ka,useDeferredValue:function(e){return Ja(Pa(),va.memoizedState,e)},useTransition:function(){return[Da(Ca)[0],Pa().memoizedState]},useMutableSource:ja,useSyncExternalStore:Na,useId:el,unstable_isNewReconciler:!1},ul={readContext:ko,useCallback:Ga,useContext:ko,useEffect:Xa,useImperativeHandle:qa,useInsertionEffect:Wa,useLayoutEffect:Ya,useMemo:Qa,useReducer:Ta,useRef:Ua,useState:function(){return Ta(Ca)},useDebugValue:Ka,useDeferredValue:function(e){var t=Pa();return null===va?t.memoizedState=e:Ja(t,va.memoizedState,e)},useTransition:function(){return[Ta(Ca)[0],Pa().memoizedState]},useMutableSource:ja,useSyncExternalStore:Na,useId:el,unstable_isNewReconciler:!1};function sl(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function fl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var pl="function"==typeof WeakMap?WeakMap:Map;function hl(e,t,n){(n=Io(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xc||(Xc=!0,Wc=r),dl(0,t)},n}function gl(e,t,n){(n=Io(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dl(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!=typeof r&&(null===Yc?Yc=new Set([this]):Yc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function ml(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yl(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Io(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bl=w.ReactCurrentOwner,wl=!1;function xl(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Qo(t,e.child,n,r)}function El(e,t,n,r,i){n=n.render;var o=t.ref;return _o(t,i),r=Oa(e,t,n,r,o,i),n=_a(),null===e||wl?(io&&n&&eo(t),t.flags|=1,xl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i))}function Sl(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Nu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ol(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Xl(e,t,i)}return t.flags|=1,(e=Mu(o,r)).ref=t.ref,e.return=t,t.child=e}function Ol(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(wl=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Xl(e,t,i);0!=(131072&e.flags)&&(wl=!0)}}return Pl(e,t,n,r,i)}function _l(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Mc,Nc),Nc|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Mc,Nc),Nc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Mc,Nc),Nc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Mc,Nc),Nc|=r;return xl(e,t,i,n),t.child}function kl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,n,r,i){var o=Ni(n)?Ti:Ci.current;return o=ji(t,o),_o(t,i),n=Oa(e,t,n,r,o,i),r=_a(),null===e||wl?(io&&r&&eo(t),t.flags|=1,xl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i))}function Cl(e,t,n,r,i){if(Ni(n)){var o=!0;Ai(t)}else o=!1;if(_o(t,i),null===t.stateNode)Vl(e,t),Xo(t,n,r),Yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=ko(u):u=ji(t,u=Ni(n)?Ti:Ci.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||c!==u)&&Wo(t,a,r,u),jo=!1;var d=t.memoizedState;a.state=d,Lo(t,r,a,i),c=t.memoizedState,l!==r||d!==c||Di.current||jo?("function"==typeof s&&(Ho(t,n,s,r),c=t.memoizedState),(l=jo||Vo(t,n,l,r,d,c,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mo(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:mo(t.type,l),a.props=u,f=t.pendingProps,d=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=ko(c):c=ji(t,c=Ni(n)?Ti:Ci.current);var p=n.getDerivedStateFromProps;(s="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==f||d!==c)&&Wo(t,a,r,c),jo=!1,d=t.memoizedState,a.state=d,Lo(t,r,a,i);var h=t.memoizedState;l!==f||d!==h||Di.current||jo?("function"==typeof p&&(Ho(t,n,p,r),h=t.memoizedState),(u=jo||Vo(t,n,u,r,d,h,c)||!1)?(s||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Dl(e,t,n,r,o,i)}function Dl(e,t,n,r,i,o){kl(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&zi(t,n,!1),Xl(e,t,o);r=t.stateNode,bl.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,l,o)):xl(e,t,l,o),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Tl(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),ia(e,t.containerInfo)}function jl(e,t,n,r,i){return ho(),go(i),t.flags|=256,xl(e,t,n,r),t.child}var Nl,Ml,Il,Rl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function zl(e,t,n){var r,i=t.pendingProps,a=ca.current,l=!1,c=0!=(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ca,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,l?(i=t.mode,l=t.child,c={mode:"hidden",children:c},0==(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=c):l=Au(c,i,0,null),e=Ru(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Al(n),t.memoizedState=Rl,e):Ll(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,l){if(n)return 256&t.flags?(t.flags&=-257,Fl(e,t,l,r=fl(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Au({mode:"visible",children:r.children},i,0,null),(a=Ru(a,i,l,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Qo(t,e.child,null,l),t.child.memoizedState=Al(l),t.memoizedState=Rl,a);if(0==(1&t.mode))return Fl(e,t,l,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Fl(e,t,l,r=fl(a=Error(o(419)),r,void 0))}if(c=0!=(l&e.childLanes),wl||c){if(null!==(r=Dc)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|l))?0:i)&&i!==a.retryLane&&(a.retryLane=i,To(e,i),nu(r,e,i,-1))}return gu(),Fl(e,t,l,r=fl(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&($i[qi++]=Gi,$i[qi++]=Qi,$i[qi++]=Ki,Gi=e.id,Qi=e.overflow,Ki=t),(t=Ll(t,r.children)).flags|=4096,t)}(e,t,c,i,r,a,n);if(l){l=i.fallback,c=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0==(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Mu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?l=Mu(r,l):(l=Ru(l,c,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,c=null===(c=e.child.memoizedState)?Al(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~n,t.memoizedState=Rl,i}return e=(l=e.child).sibling,i=Mu(l,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ll(e,t){return(t=Au({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,n,r){return null!==r&&go(r),Qo(t,e.child,null,n),(e=Ll(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oo(e.return,t,n)}function Hl(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xl(e,t,r.children,n),0!=(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,n,t);else if(19===e.tag)Ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ca,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hl(t,!0,n,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vl(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ac|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $l(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yl(t),null;case 1:case 17:return Ni(t.type)&&Mi(),Yl(t),null;case 3:return r=t.stateNode,oa(),_i(Di),_i(Ci),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Yl(t),null;case 5:la(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ml(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Yl(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[pi]=a,e=0!=(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":G(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var u=a[c];"children"===c?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):l.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Fr("scroll",r)}switch(n){case"input":Y(r),Z(r,a,!0);break;case"textarea":Y(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[pi]=r,Nl(e,t),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":G(e,r),i=K(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var s=u[a];"style"===a?ve(e,s):"dangerouslySetInnerHTML"===a?null!=(s=s?s.__html:void 0)&&fe(e,s):"children"===a?"string"==typeof s?("textarea"!==n||""!==s)&&de(e,s):"number"==typeof s&&de(e,""+s):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=s&&"onScroll"===a&&Fr("scroll",e):null!=s&&b(e,a,s,c))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yl(t),null;case 6:if(e&&null!=t.stateNode)Il(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Yl(t),null;case 13:if(_i(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))po(),ho(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else ho(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ca.current)?0===Ic&&(Ic=3):gu())),null!==t.updateQueue&&(t.flags|=4),Yl(t),null);case 4:return oa(),null===e&&Br(t.stateNode.containerInfo),Yl(t),null;case 10:return So(t.type._context),Yl(t),null;case 19:if(_i(ca),null===(a=t.memoizedState))return Yl(t),null;if(r=0!=(128&t.flags),null===(c=a.rendering))if(r)Wl(a,!1);else{if(0!==Ic||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ua(e))){for(t.flags|=128,Wl(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Bc&&(t.flags|=128,r=!0,Wl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Yl(t),null}else 2*Qe()-a.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,r=!0,Wl(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ca.current,ki(ca,r?1&n|2:1&n),t):(Yl(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Nc)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function ql(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),_i(Di),_i(Ci),fa(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return la(t),null;case 13:if(_i(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ca),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Nl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ml=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(s in ye(n,r),n=null,i)if(!r.hasOwnProperty(s)&&i.hasOwnProperty(s)&&null!=i[s])if("style"===s){var c=i[s];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?a||(a=[]):(a=a||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=i?i[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(s,u)):"children"===s?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(l.hasOwnProperty(s)?(null!=u&&"onScroll"===s&&Fr("scroll",e),a||c===u||(a=[])):(a=a||[]).push(s,u))}n&&(a=a||[]).push("style",n);var s=a;(t.updateQueue=s)&&(t.flags|=4)}},Il=function(e,t,n,r){n!==r&&(t.flags|=4)};var Kl=!1,Gl=!1,Ql="function"==typeof WeakSet?WeakSet:Set,Jl=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ou(e,t,n)}else n.current=null}function ec(e,t,n){try{n()}catch(n){Ou(e,t,n)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[gi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function lc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var sc=null,fc=!1;function dc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Gl||Zl(n,t);case 6:var r=sc,i=fc;sc=null,dc(e,t,n),fc=i,null!==(sc=r)&&(fc?(e=sc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sc.removeChild(n.stateNode));break;case 18:null!==sc&&(fc?(e=sc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(sc,n.stateNode));break;case 4:r=sc,i=fc,sc=n.stateNode.containerInfo,fc=!0,dc(e,t,n),sc=r,fc=i;break;case 0:case 11:case 14:case 15:if(!Gl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&ec(n,t,a),i=i.next}while(i!==r)}dc(e,t,n);break;case 1:if(!Gl&&(Zl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ou(n,t,e)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:1&n.mode?(Gl=(r=Gl)||null!==n.memoizedState,dc(e,t,n),Gl=r):dc(e,t,n);break;default:dc(e,t,n)}}function hc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,l=t,c=l;e:for(;null!==c;){switch(c.tag){case 5:sc=c.stateNode,fc=!1;break e;case 3:case 4:sc=c.stateNode.containerInfo,fc=!0;break e}c=c.return}if(null===sc)throw Error(o(160));pc(a,l,i),sc=null,fc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Ou(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),mc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(t){Ou(e,e.return,t)}try{nc(5,e,e.return)}catch(t){Ou(e,e.return,t)}}break;case 1:gc(t,e),mc(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(gc(t,e),mc(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(t){Ou(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,l=null!==n?n.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===a.type&&null!=a.name&&Q(i,a),be(c,l);var s=be(c,a);for(l=0;l<u.length;l+=2){var f=u[l],d=u[l+1];"style"===f?ve(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,s)}switch(c){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(t){Ou(e,e.return,t)}}break;case 6:if(gc(t,e),mc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Ou(e,e.return,t)}}break;case 3:if(gc(t,e),mc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(t){Ou(e,e.return,t)}break;case 4:default:gc(t,e),mc(e);break;case 13:gc(t,e),mc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Hc=Qe())),4&r&&hc(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Gl=(s=Gl)||f,gc(t,e),Gl=s):gc(t,e),mc(e),8192&r){if(s=null!==e.memoizedState,(e.stateNode.isHidden=s)&&!f&&0!=(1&e.mode))for(Jl=e,f=e.child;null!==f;){for(d=Jl=f;null!==Jl;){switch(h=(p=Jl).child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:Zl(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Ou(r,n,e)}}break;case 5:Zl(p,p.return);break;case 22:if(null!==p.memoizedState){xc(d);continue}}null!==h?(h.return=p,Jl=h):xc(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,s?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=d.stateNode,l=null!=(u=d.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,c.style.display=ge("display",l))}catch(t){Ou(e,e.return,t)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=s?"":d.memoizedProps}catch(t){Ou(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),mc(e),4&r&&hc(e);case 21:}}function mc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,lc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,lc(e),a);break;default:throw Error(o(161))}}catch(t){Ou(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Jl=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!=(1&e.mode);null!==Jl;){var i=Jl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Kl;if(!a){var l=i.alternate,c=null!==l&&null!==l.memoizedState||Gl;l=Kl;var u=Gl;if(Kl=a,(Gl=c)&&!u)for(Jl=i;null!==Jl;)c=(a=Jl).child,22===a.tag&&null!==a.memoizedState?Ec(i):null!==c?(c.return=a,Jl=c):Ec(i);for(;null!==o;)Jl=o,bc(o,t,n),o=o.sibling;Jl=i,Kl=l,Gl=u}wc(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Jl=o):wc(e)}}function wc(e){for(;null!==Jl;){var t=Jl;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gl||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fo(t,a,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,l,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var s=t.alternate;if(null!==s){var f=s.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Gl||512&t.flags&&ic(t)}catch(e){Ou(t,t.return,e)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function xc(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function Ec(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(e){Ou(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Ou(t,i,e)}}var o=t.return;try{ic(t)}catch(e){Ou(t,o,e)}break;case 5:var a=t.return;try{ic(t)}catch(e){Ou(t,a,e)}}}catch(e){Ou(t,t.return,e)}if(t===e){Jl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Jl=l;break}Jl=t.return}}var Sc,Oc=Math.ceil,_c=w.ReactCurrentDispatcher,kc=w.ReactCurrentOwner,Pc=w.ReactCurrentBatchConfig,Cc=0,Dc=null,Tc=null,jc=0,Nc=0,Mc=Oi(0),Ic=0,Rc=null,Ac=0,zc=0,Lc=0,Fc=null,Uc=null,Hc=0,Bc=1/0,Vc=null,Xc=!1,Wc=null,Yc=null,$c=!1,qc=null,Kc=0,Gc=0,Qc=null,Jc=-1,Zc=0;function eu(){return 0!=(6&Cc)?Qe():-1!==Jc?Jc:Jc=Qe()}function tu(e){return 0==(1&e.mode)?1:0!=(2&Cc)&&0!==jc?jc&-jc:null!==vo.transition?(0===Zc&&(Zc=gt()),Zc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nu(e,t,n,r){if(50<Gc)throw Gc=0,Qc=null,Error(o(185));mt(e,n,r),0!=(2&Cc)&&e===Dc||(e===Dc&&(0==(2&Cc)&&(zc|=n),4===Ic&&lu(e,jc)),ru(e,r),1===n&&0===Cc&&0==(1&t.mode)&&(Bc=Qe()+500,Fi&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),l=1<<a,c=i[a];-1===c?0!=(l&n)&&0==(l&r)||(i[a]=pt(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=dt(e,e===Dc?jc:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Fi=!0,Hi(e)}(cu.bind(null,e)):Hi(cu.bind(null,e)),ai((function(){0==(6&Cc)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Du(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jc=-1,Zc=0,0!=(6&Cc))throw Error(o(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=dt(e,e===Dc?jc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Cc;Cc|=2;var a=hu();for(Dc===e&&jc===t||(Vc=null,Bc=Qe()+500,du(e,t));;)try{yu();break}catch(t){pu(e,t)}Eo(),_c.current=a,Cc=i,null!==Tc?t=0:(Dc=null,jc=0,t=Ic)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=ou(e,i))),1===t)throw n=Rc,du(e,0),lu(e,r),ru(e,Qe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(a=ht(e))&&(r=a,t=ou(e,a))),1===t))throw n=Rc,du(e,0),lu(e,r),ru(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,Uc,Vc);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Hc+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Uc,Vc),t);break}xu(e,Uc,Vc);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-at(r);a=1<<l,(l=t[l])>i&&(i=l),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Oc(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Uc,Vc),r);break}xu(e,Uc,Vc);break;default:throw Error(o(329))}}}return ru(e,Qe()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Fc;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Uc,Uc=n,null!==t&&au(t)),e}function au(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function lu(e,t){for(t&=~Lc,t&=~zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!=(6&Cc))throw Error(o(327));Eu();var t=dt(e,0);if(0==(1&t))return ru(e,Qe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Rc,du(e,0),lu(e,t),ru(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Uc,Vc),ru(e,Qe()),null}function uu(e,t){var n=Cc;Cc|=1;try{return e(t)}finally{0===(Cc=n)&&(Bc=Qe()+500,Fi&&Bi())}}function su(e){null!==qc&&0===qc.tag&&0==(6&Cc)&&Eu();var t=Cc;Cc|=1;var n=Pc.transition,r=bt;try{if(Pc.transition=null,bt=1,e)return e()}finally{bt=r,Pc.transition=n,0==(6&(Cc=t))&&Bi()}}function fu(){Nc=Mc.current,_i(Mc)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tc)for(n=Tc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Mi();break;case 3:oa(),_i(Di),_i(Ci),fa();break;case 5:la(r);break;case 4:oa();break;case 13:case 19:_i(ca);break;case 10:So(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Dc=e,Tc=e=Mu(e.current,null),jc=Nc=t,Ic=0,Rc=null,Lc=zc=Ac=0,Uc=Fc=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function pu(e,t){for(;;){var n=Tc;try{if(Eo(),da.current=al,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(ha=0,ma=va=ga=null,ba=!1,wa=0,kc.current=null,null===n||null===n.return){Ic=1,Rc=t,Tc=null;break}e:{var a=e,l=n.return,c=n,u=t;if(t=jc,c.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u,f=c,d=f.tag;if(0==(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ml(l);if(null!==h){h.flags&=-257,yl(h,l,c,0,t),1&h.mode&&vl(a,s,t),u=s;var g=(t=h).updateQueue;if(null===g){var v=new Set;v.add(u),t.updateQueue=v}else g.add(u);break e}if(0==(1&t)){vl(a,s,t),gu();break e}u=Error(o(426))}else if(io&&1&c.mode){var m=ml(l);if(null!==m){0==(65536&m.flags)&&(m.flags|=256),yl(m,l,c,0,t),go(sl(u,c));break e}}a=u=sl(u,c),4!==Ic&&(Ic=2),null===Fc?Fc=[a]:Fc.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,hl(0,u,t));break e;case 1:c=u;var y=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Yc||!Yc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,gl(a,c,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(e){t=e,Tc===n&&null!==n&&(Tc=n=n.return);continue}break}}function hu(){var e=_c.current;return _c.current=al,null===e?al:e}function gu(){0!==Ic&&3!==Ic&&2!==Ic||(Ic=4),null===Dc||0==(268435455&Ac)&&0==(268435455&zc)||lu(Dc,jc)}function vu(e,t){var n=Cc;Cc|=2;var r=hu();for(Dc===e&&jc===t||(Vc=null,du(e,t));;)try{mu();break}catch(t){pu(e,t)}if(Eo(),Cc=n,_c.current=r,null!==Tc)throw Error(o(261));return Dc=null,jc=0,Ic}function mu(){for(;null!==Tc;)bu(Tc)}function yu(){for(;null!==Tc&&!Ke();)bu(Tc)}function bu(e){var t=Sc(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?wu(e):Tc=t,kc.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=$l(n,t,Nc)))return void(Tc=n)}else{if(null!==(n=ql(n,t)))return n.flags&=32767,void(Tc=n);if(null===e)return Ic=6,void(Tc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tc=t);Tc=t=e}while(null!==t);0===Ic&&(Ic=5)}function xu(e,t,n){var r=bt,i=Pc.transition;try{Pc.transition=null,bt=1,function(e,t,n,r){do{Eu()}while(null!==qc);if(0!=(6&Cc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Dc&&(Tc=Dc=null,jc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||$c||($c=!0,Du(tt,(function(){return Eu(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Pc.transition,Pc.transition=null;var l=bt;bt=1;var c=Cc;Cc|=4,kc.current=null,function(e,t){if(ei=Xt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var l=0,c=-1,u=-1,s=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==i&&3!==d.nodeType||(c=l+i),d!==a||0!==r&&3!==d.nodeType||(u=l+r),3===d.nodeType&&(l+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++s===i&&(c=l),p===a&&++f===r&&(u=l),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Xt=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var g=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:mo(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(e){Ou(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}g=tc,tc=!1}(e,n),vc(n,e),hr(ti),Xt=!!ei,ti=ei=null,e.current=n,yc(n,e,i),Ge(),Cc=c,bt=l,Pc.transition=a}else e.current=n;if($c&&($c=!1,qc=e,Kc=i),0===(a=e.pendingLanes)&&(Yc=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xc)throw Xc=!1,e=Wc,Wc=null,e;0!=(1&Kc)&&0!==e.tag&&Eu(),0!=(1&(a=e.pendingLanes))?e===Qc?Gc++:(Gc=0,Qc=e):Gc=0,Bi()}(e,t,n,r)}finally{Pc.transition=i,bt=r}return null}function Eu(){if(null!==qc){var e=wt(Kc),t=Pc.transition,n=bt;try{if(Pc.transition=null,bt=16>e?16:e,null===qc)var r=!1;else{if(e=qc,qc=null,Kc=0,0!=(6&Cc))throw Error(o(331));var i=Cc;for(Cc|=4,Jl=e.current;null!==Jl;){var a=Jl,l=a.child;if(0!=(16&Jl.flags)){var c=a.deletions;if(null!==c){for(var u=0;u<c.length;u++){var s=c[u];for(Jl=s;null!==Jl;){var f=Jl;switch(f.tag){case 0:case 11:case 15:nc(8,f,a)}var d=f.child;if(null!==d)d.return=f,Jl=d;else for(;null!==Jl;){var p=(f=Jl).sibling,h=f.return;if(oc(f),f===s){Jl=null;break}if(null!==p){p.return=h,Jl=p;break}Jl=h}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Jl=a}}if(0!=(2064&a.subtreeFlags)&&null!==l)l.return=a,Jl=l;else e:for(;null!==Jl;){if(0!=(2048&(a=Jl).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jl=y;break e}Jl=a.return}}var b=e.current;for(Jl=b;null!==Jl;){var w=(l=Jl).child;if(0!=(2064&l.subtreeFlags)&&null!==w)w.return=l,Jl=w;else e:for(l=b;null!==Jl;){if(0!=(2048&(c=Jl).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(e){Ou(c,c.return,e)}if(c===l){Jl=null;break e}var x=c.sibling;if(null!==x){x.return=c.return,Jl=x;break e}Jl=c.return}}if(Cc=i,Bi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Pc.transition=t}}return!1}function Su(e,t,n){e=Ro(e,t=hl(0,t=sl(n,t),1),1),t=eu(),null!==e&&(mt(e,1,t),ru(e,t))}function Ou(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Yc||!Yc.has(r))){t=Ro(t,e=gl(t,e=sl(n,e),1),1),e=eu(),null!==t&&(mt(t,1,e),ru(t,e));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Dc===e&&(jc&n)===n&&(4===Ic||3===Ic&&(130023424&jc)===jc&&500>Qe()-Hc?du(e,0):Lc|=n),ru(e,t)}function ku(e,t){0===t&&(0==(1&e.mode)?t=1:(t=st,0==(130023424&(st<<=1))&&(st=4194304)));var n=eu();null!==(e=To(e,t))&&(mt(e,t,n),ru(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),ku(e,n)}function Du(e,t){return $e(e,t)}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Tu(e,t,n,r)}function Nu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,i,a){var l=2;if(r=e,"function"==typeof e)Nu(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case S:return Ru(n.children,i,a,t);case O:l=8,i|=8;break;case _:return(e=ju(12,n,t,2|i)).elementType=_,e.lanes=a,e;case D:return(e=ju(13,n,t,i)).elementType=D,e.lanes=a,e;case T:return(e=ju(19,n,t,i)).elementType=T,e.lanes=a,e;case M:return Au(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:l=10;break e;case P:l=9;break e;case C:l=11;break e;case j:l=14;break e;case N:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ju(l,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ru(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function Au(e,t,n,r){return(e=ju(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,o,a,l,c){return e=new Fu(e,t,n,l,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=ju(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Hu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bu(e){if(!e)return Pi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Ri(e,n,t)}return t}function Vu(e,t,n,r,i,o,a,l,c){return(e=Uu(n,r,!0,e,0,o,0,l,c)).context=Bu(null),n=e.current,(o=Io(r=eu(),i=tu(n))).callback=null!=t?t:null,Ro(n,o,i),e.current.lanes=i,mt(e,i,r),ru(e,r),e}function Xu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Io(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(i,t,a))&&(nu(e,i,a,o),Ao(e,i,a)),a}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)wl=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return wl=!1,function(e,t,n){switch(t.tag){case 3:Tl(t),ho();break;case 5:aa(t);break;case 1:Ni(t.type)&&Ai(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ca,1&ca.current),t.flags|=128,null):0!=(n&t.child.childLanes)?zl(e,t,n):(ki(ca,1&ca.current),null!==(e=Xl(e,t,n))?e.sibling:null);ki(ca,1&ca.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Bl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,_l(e,t,n)}return Xl(e,t,n)}(e,t,n);wl=0!=(131072&e.flags)}else wl=!1,io&&0!=(1048576&t.flags)&&Zi(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vl(e,t),e=t.pendingProps;var i=ji(t,Ci.current);_o(t,n),i=Oa(null,t,r,e,i,n);var a=_a();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Ai(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Yo(t,r,e,n),t=Dl(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Nu(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===j)return 14}return 2}(r),e=mo(r,e),i){case 0:t=Pl(null,t,r,e,n);break e;case 1:t=Cl(null,t,r,e,n);break e;case 11:t=El(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Pl(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cl(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Tl(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Mo(e,t),Lo(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jl(e,t,r,n,i=sl(Error(o(423)),t));break e}if(r!==i){t=jl(e,t,r,n,i=sl(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Xl(e,t,n);break e}xl(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,l=i.children,ni(r,i)?l=null:null!==a&&ni(r,a)&&(t.flags|=32),kl(e,t),xl(e,t,l,n),t.child;case 6:return null===e&&uo(t),null;case 13:return zl(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):xl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,El(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return xl(e,t,t.pendingProps,n),t.child;case 8:case 12:return xl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,ki(yo,r._currentValue),r._currentValue=l,null!==a)if(lr(a.value,l)){if(a.children===i.children&&!Di.current){t=Xl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){l=a.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Io(-1,n&-n)).tag=2;var s=a.updateQueue;if(null!==s){var f=(s=s.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),s.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Oo(a.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===a.tag)l=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(l=a.return))throw Error(o(341));l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Oo(l,n,t),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===t){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}xl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_o(t,n),r=r(i=ko(i)),t.flags|=1,xl(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Sl(e,t,r,i=mo(r.type,i),n);case 15:return Ol(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),Vl(e,t),t.tag=1,Ni(r)?(e=!0,Ai(t)):e=!1,_o(t,n),Xo(t,r,i),Yo(t,r,i,n),Dl(null,t,r,!0,e,n);case 19:return Bl(e,t,n);case 22:return _l(e,t,n)}throw Error(o(156,t.tag))};var qu="function"==typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function es(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var l=i;i=function(){var e=Wu(a);l.call(e)}}Xu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Wu(a);o.call(e)}}var a=Vu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=a,e[hi]=a.current,Br(8===e.nodeType?e.parentNode:e),su(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var l=r;r=function(){var e=Wu(c);l.call(e)}}var c=Uu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=c,e[hi]=c.current,Br(8===e.nodeType?e.parentNode:e),su((function(){Xu(t,c,n,r)})),c}(n,t,e,i,r);return Wu(a)}Gu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xu(e,t,null,null)},Gu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;su((function(){Xu(null,e,null,null)})),t[hi]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Qe()),0==(6&Cc)&&(Bc=Qe()+500,Bi()))}break;case 13:su((function(){var t=To(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),$u(e,1)}},Et=function(e){if(13===e.tag){var t=To(e,134217728);if(null!==t)nu(t,e,134217728,eu());$u(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=To(e,t);if(null!==n)nu(n,e,t,eu());$u(e,t)}},Ot=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));$(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uu,De=su;var ts={usingClientEntryPoint:!1,Events:[bi,wi,xi,ke,Pe,uu]},ns={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rs={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{it=is.inject(rs),ot=is}catch(se){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ts,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(o(200));return Hu(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(o(299));var n=!1,r="",i=qu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return su(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return es(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",l=qu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,a,l),e[hi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return es(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(su((function(){es(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return es(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},20745:function(e,t,n){"use strict";var r=n(73935);t.s=r.createRoot,r.hydrateRoot},73935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},75668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return s.default}}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(67294)),i=d(n(45697)),o=d(n(73935)),a=d(n(86010)),l=n(81825),c=n(2849),u=n(9280),s=d(n(80783)),f=d(n(55904));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),g(this,"onDragStart",((e,t)=>{(0,f.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,c.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),g(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",t);const n=(0,c.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[i,o]=(0,c.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),g(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,c.createDraggableData)(this,t)))return!1;(0,f.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:i,defaultClassName:o,defaultClassNameDragging:u,defaultClassNameDragged:f,position:d,positionOffset:p,scale:g,...v}=this.props;let m={},y=null;const b=!Boolean(d)||this.state.dragging,w=d||i,x={x:(0,c.canDragX)(this)&&b?this.state.x:w.x,y:(0,c.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?y=(0,l.createSVGTransform)(x,p):m=(0,l.createCSSTransform)(x,p);const E=(0,a.default)(n.props.className||"",o,{[u]:this.state.dragging,[f]:this.state.dragged});return r.createElement(s.default,h({},v,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:E,style:{...n.props.style,...m},transform:y}))}}t.default=v,g(v,"displayName","Draggable"),g(v,"propTypes",{...s.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),g(v,"defaultProps",{...s.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},80783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(67294)),i=s(n(45697)),o=s(n(73935)),a=n(81825),l=n(2849),c=n(9280),u=s(n(55904));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={start:"touchstart",move:"touchmove",stop:"touchend"},h={start:"mousedown",move:"mousemove",stop:"mouseup"};let g=h;class v extends r.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,a.getTouchIdentifier)(e);this.touchIdentifier=r;const i=(0,l.getControlPosition)(e,r,this);if(null==i)return;const{x:o,y:c}=i,s=(0,l.createCoreData)(this,o,c);(0,u.default)("DraggableCore: handleDragStart: %j",s),(0,u.default)("calling",this.props.onStart);!1!==this.props.onStart(e,s)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=c,(0,a.addEvent)(n,g.move,this.handleDrag),(0,a.addEvent)(n,g.stop,this.handleDragStop))})),d(this,"handleDrag",(e=>{const t=(0,l.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,l.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const i=(0,l.createCoreData)(this,n,r);(0,u.default)("DraggableCore: handleDrag: %j",i);if(!1!==this.props.onDrag(e,i)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),d(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,l.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,l.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const i=(0,l.createCoreData)(this,n,r);if(!1===this.props.onStop(e,i)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(o.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,u.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(o.ownerDocument,g.move,this.handleDrag),(0,a.removeEvent)(o.ownerDocument,g.stop,this.handleDragStop))})),d(this,"onMouseDown",(e=>(g=h,this.handleDragStart(e)))),d(this,"onMouseUp",(e=>(g=h,this.handleDragStop(e)))),d(this,"onTouchStart",(e=>(g=p,this.handleDragStart(e)))),d(this,"onTouchEnd",(e=>(g=p,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,a.addEvent)(e,p.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,a.removeEvent)(t,h.move,this.handleDrag),(0,a.removeEvent)(t,p.move,this.handleDrag),(0,a.removeEvent)(t,h.stop,this.handleDragStop),(0,a.removeEvent)(t,p.stop,this.handleDragStop),(0,a.removeEvent)(e,p.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=v,d(v,"displayName","DraggableCore"),d(v,"propTypes",{allowAnyClick:i.default.bool,children:i.default.node.isRequired,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),d(v,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},61193:function(e,t,n){"use strict";const{default:r,DraggableCore:i}=n(75668);e.exports=r,e.exports.default=r,e.exports.DraggableCore=i},81825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=c(e,t,"px");return{[(0,i.browserPrefixToKey)("transform",i.default)]:n}},t.createSVGTransform=function(e,t){return c(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=c,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=l,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(l(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:o}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=s,t.removeEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&s(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(9280),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(38650));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let a="";function l(e,t){return a||(a=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[a])&&e[a](t)}function c(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+n),r="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(e,", ").concat(r,")")+o}return o}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function s(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},38650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let e=0;e<n.length;e++)if(i(t,n[e])in r)return n[e];return""}function i(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},55904:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},2849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const i=!(0,r.isNum)(e.lastX),a=o(e);return i?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:a}=e.props;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);const l=o(e);if("string"==typeof a){const{ownerDocument:e}=l,t=e.defaultView;let n;if(n="parent"===a?l.parentNode:e.querySelector(a),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');const o=n,c=t.getComputedStyle(l),u=t.getComputedStyle(o);a={left:-l.offsetLeft+(0,r.int)(u.paddingLeft)+(0,r.int)(c.marginLeft),top:-l.offsetTop+(0,r.int)(u.paddingTop)+(0,r.int)(c.marginTop),right:(0,i.innerWidth)(o)-(0,i.outerWidth)(l)-l.offsetLeft+(0,r.int)(u.paddingRight)-(0,r.int)(c.marginRight),bottom:(0,i.innerHeight)(o)-(0,i.outerHeight)(l)-l.offsetTop+(0,r.int)(u.paddingBottom)-(0,r.int)(c.marginBottom)}}(0,r.isNum)(a.right)&&(t=Math.min(t,a.right));(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom));(0,r.isNum)(a.left)&&(t=Math.max(t,a.left));(0,r.isNum)(a.top)&&(n=Math.max(n,a.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const a=o(n),l=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,l,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(9280),i=n(81825);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},9280:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},69921:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),s=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e.type){case o:case l:case a:case d:case p:return e;default:switch(e&&e.$$typeof){case s:case u:case f:case g:case h:case c:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},59864:function(e,t,n){"use strict";n(69921)},75251:function(e,t,n){"use strict";var r=n(67294),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function u(e,t,n){var r,o={},u=null,s=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(s=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:s,props:o,_owner:l.current}}t.jsx=u},72408:function(e,t){"use strict";
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,g(w,m.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},a=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!O.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),s=0;s<c;s++)u[s]=arguments[s+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:l,props:o,_owner:S.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,o,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var c=!1;if(null===e)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+C(c,0):o,x(a)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),D(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var s=o+C(l=e[u],u);c+=D(l,t,i,s,a)}else if(s=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof s)for(e=s.call(e),u=0;!(l=e.next()).done;)c+=D(l=l.value,t,i,s=o+C(l,u++),a);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function T(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},M={transition:null},I={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!O.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var s=0;s<u;s++)c[s]=arguments[s+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},67294:function(e,t,n){"use strict";e.exports=n(72408)},85893:function(e,t,n){"use strict";e.exports=n(75251)},94500:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function l(e,t,n){l.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function u(e){var t=void 0===e?"undefined":T(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function s(e,t,n,r,f,d,p){p=p||[];var h=(f=f||[]).slice(0);if(void 0!==d){if(r){if("function"==typeof r&&r(h,d))return;if("object"===(void 0===r?"undefined":T(r))){if(r.prefilter&&r.prefilter(h,d))return;if(r.normalize){var g=r.normalize(h,d,e,t);g&&(e=g[0],t=g[1])}}}h.push(d)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var v=void 0===e?"undefined":T(e),m=void 0===t?"undefined":T(t),y="undefined"!==v||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(d),b="undefined"!==m||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(d);if(!y&&b)n(new o(h,t));else if(!b&&y)n(new a(h,e));else if(u(e)!==u(t))n(new i(h,e,t));else if("date"===u(e)&&e-t!=0)n(new i(h,e,t));else if("object"===v&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(h,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var w;for(e.length,w=0;w<e.length;w++)w>=t.length?n(new l(h,w,new a(void 0,e[w]))):s(e[w],t[w],n,r,h,w,p);for(;w<t.length;)n(new l(h,w,new o(void 0,t[w++])))}else{var x=Object.keys(e),E=Object.keys(t);x.forEach((function(i,o){var a=E.indexOf(i);a>=0?(s(e[i],t[i],n,r,h,i,p),E=c(E,a)):s(e[i],void 0,n,r,h,i,p)})),E.forEach((function(e){s(void 0,t[e],n,r,h,e,p)}))}p.length=p.length-1}else e!==t&&("number"===v&&isNaN(e)&&isNaN(t)||n(new i(h,e,t)))}function f(e,t,n,r){return r=r||[],s(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=c(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":d(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=c(e,t)}return e}function g(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":h(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function v(e,t,n){e&&t&&s(e,t,(function(r){n&&!n(e,t,r)||p(e,t,r)}))}function m(e){return"color: "+M[e].color+"; font-weight: bold"}function y(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"→",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}function b(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=y(e);n.log.apply(n,["%c "+M[t].text,m(t)].concat(j(r)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function w(e,t,n,r){switch(void 0===e?"undefined":T(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,j(n)):e[r];case"function":return e(t);default:return e}}function x(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function E(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?x(t):i,a=t.collapsed,l=t.colors,c=t.level,u=t.diff,s=void 0===t.titleFormatter;e.forEach((function(i,f){var d=i.started,p=i.startedTime,h=i.action,g=i.prevState,v=i.error,m=i.took,y=i.nextState,x=e[f+1];x&&(y=x.prevState,m=x.started-d);var E=r(h),S="function"==typeof a?a((function(){return y}),h,i):a,O=C(p),_=l.title?"color: "+l.title(E)+";":"",k=["color: gray; font-weight: lighter;"];k.push(_),t.timestamp&&k.push("color: gray; font-weight: lighter;"),t.duration&&k.push("color: gray; font-weight: lighter;");var P=o(E,O,m);try{S?l.title&&s?n.groupCollapsed.apply(n,["%c "+P].concat(k)):n.groupCollapsed(P):l.title&&s?n.group.apply(n,["%c "+P].concat(k)):n.group(P)}catch(e){n.log(P)}var D=w(c,E,[g],"prevState"),T=w(c,E,[E],"action"),j=w(c,E,[v,g],"error"),N=w(c,E,[y],"nextState");if(D)if(l.prevState){var M="color: "+l.prevState(g)+"; font-weight: bold";n[D]("%c prev state",M,g)}else n[D]("prev state",g);if(T)if(l.action){var I="color: "+l.action(E)+"; font-weight: bold";n[T]("%c action    ",I,E)}else n[T]("action    ",E);if(v&&j)if(l.error){var R="color: "+l.error(v,g)+"; font-weight: bold;";n[j]("%c error     ",R,v)}else n[j]("error     ",v);if(N)if(l.nextState){var A="color: "+l.nextState(y)+"; font-weight: bold";n[N]("%c next state",A,y)}else n[N]("next state",y);u&&b(g,y,n,S);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},I,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,a=t.logErrors,l=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var n=e.getState;return function(e){return function(u){if("function"==typeof o&&!o(n,u))return e(u);var s={};c.push(s),s.started=D.now(),s.startedTime=new Date,s.prevState=r(n()),s.action=u;var f=void 0;if(a)try{f=e(u)}catch(e){s.error=i(e)}else f=e(u);s.took=D.now()-s.started,s.nextState=r(n());var d=t.diff&&"function"==typeof l?l(n,u):t.diff;if(E(c,Object.assign({},t,{diff:d})),c.length=0,s.error)throw s.error;return f}}}}var O,_,k=function(e,t){return new Array(t+1).join(e)},P=function(e,t){return k("0",t-e.toString().length)+e},C=function(e){return P(e.getHours(),2)+":"+P(e.getMinutes(),2)+":"+P(e.getSeconds(),2)+"."+P(e.getMilliseconds(),3)},D="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},N=[];O="object"===(void 0===n.g?"undefined":T(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(_=O.DeepDiff)&&N.push((function(){void 0!==_&&O.DeepDiff===f&&(O.DeepDiff=_,_=void 0)})),t(i,r),t(o,r),t(a,r),t(l,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:s,enumerable:!0},applyDiff:{value:v,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:g,enumerable:!0},isConflict:{value:function(){return void 0!==_},enumerable:!0},noConflict:{value:function(){return N&&(N.forEach((function(e){e()})),N=null),f},enumerable:!0}});var M={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},I={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?S()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=I,e.createLogger=S,e.logger=R,e.default=R,Object.defineProperty(e,"__esModule",{value:!0})}(t)},60053:function(e,t){"use strict";
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,c=e[l],u=l+1,s=e[u];if(0>o(c,n))u<i&&0>o(s,c)?(e[r]=s,e[u]=n,r=u):(e[r]=c,e[l]=n,r=l);else{if(!(u<i&&0>o(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],s=[],f=1,d=null,p=3,h=!1,g=!1,v=!1,m="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(s);null!==t;){if(null===t.callback)i(s);else{if(!(t.startTime<=e))break;i(s),t.sortIndex=t.expirationTime,n(u,t)}t=r(s)}}function x(e){if(v=!1,w(e),!g)if(null!==r(u))g=!0,M(E);else{var t=r(s);null!==t&&I(x,t.startTime-e)}}function E(e,n){g=!1,v&&(v=!1,y(k),k=-1),h=!0;var o=p;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!D());){var a=d.callback;if("function"==typeof a){d.callback=null,p=d.priorityLevel;var l=a(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?d.callback=l:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var c=!0;else{var f=r(s);null!==f&&I(x,f.startTime-n),c=!1}return c}finally{d=null,p=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,O=!1,_=null,k=-1,P=5,C=-1;function D(){return!(t.unstable_now()-C<P)}function T(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?S():(O=!1,_=null)}}else O=!1}if("function"==typeof b)S=function(){b(T)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,N=j.port2;j.port1.onmessage=T,S=function(){N.postMessage(null)}}else S=function(){m(T,0)};function M(e){_=e,O||(O=!0,S())}function I(e,n){k=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,M(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,n(s,e),null===r(u)&&e===r(s)&&(v?(y(k),k=-1):v=!0,I(x,o-a))):(e.sortIndex=l,n(u,e),g||h||(g=!0,M(E))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},63840:function(e,t,n){"use strict";e.exports=n(60053)},91757:function(e,t){!function(e){"use strict";function t(e){return null==e}function n(e){throw new Error("Argument "+e+" is empty.")}function r(e){return"function"==typeof e&&"getType"in e}function i(e){throw new Error("Argument "+e+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function o(e,t){if(null==e)throw new Error("Argument contains array with empty element at index "+t);if(null==e.getType)throw new Error("Argument contains array with invalid element at index "+t+', it should be an action-creator instance from "typesafe-actions"')}function a(e){return"string"==typeof e||"symbol"==typeof e}function l(e){return!a(e)}function c(e){throw new Error("Argument "+e+" is invalid, it should be an action type of type: string | symbol")}function u(e,t){if(null==e)throw new Error("Argument contains array with empty element at index "+t);if("string"!=typeof e&&"symbol"!=typeof e)throw new Error("Argument contains array with invalid element at index "+t+", it should be of type: string | symbol")}function s(e,r,o,a){return t(e)&&n(1),l(e)&&i(1),{type:e,payload:r,meta:o,error:a}}function f(e,r){return t(e)&&n(1),l(e)&&c(1),Object.assign((function(){var t=null!=r?r.apply(void 0,arguments):void 0;return Object.assign({type:e},t)}),{getType:function(){return e},toString:function(){return e}})}function d(e,r,i){return t(e)&&n(1),l(e)&&c(1),function(){return f(e,(function(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];return null==r&&null==i||(e=null!=r?r.apply(void 0,arguments):void 0,t=null!=i?i.apply(void 0,arguments):void 0),Object.assign({},void 0!==e&&{payload:e},{},void 0!==t&&{meta:t})}))}}function p(e){return t(e)&&n(1),r(e)||i(1),e.getType()}function h(e,r){t(e)&&n(1),l(e)&&c(1);var i=null!=r?r(e):function(){return{type:e}};return Object.assign(i,{getType:function(){return e},toString:function(){return e}})}var g={createAction:function(e,t){var n=null==t?function(){return s(e)}:t(s.bind(null,e));return Object.assign(n,{getType:function(){return e},toString:function(){return e}})},createCustomAction:h,createStandardAction:function(e){return t(e)&&n(1),l(e)&&c(1),Object.assign((function(){return h(e,(function(e){return function(t,n){return{type:e,payload:t,meta:n}}}))}),{map:function(t){return h(e,(function(e){return function(n,r){return Object.assign(t(n,r),{type:e})}}))}})}};e.action=s,e.createAction=d,e.createAsyncAction=function(e,t,n,r){return function(){var i=[e,t,n,r].map((function(e,t){return Array.isArray(e)?d(e[0],e[1],e[2])():"string"==typeof e||"symbol"==typeof e?d(e)():void(t<3&&function(e){throw new Error("Argument "+e+' is invalid, it should be an action type of "string | symbol" or a tuple of "[string | symbol, Function, Function?]"')}(t))}));return{request:i[0],success:i[1],failure:i[2],cancel:i[3]}}},e.createCustomAction=f,e.createReducer=function e(t,n){void 0===n&&(n={});var i=Object.assign({},n),o=function(n,o){var l=Array.isArray(n)?n:[n],c={};return l.map((function(e,t){return r(e)?p(e):a(e)?e:function(e){throw new Error("Argument "+e+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}(t+1)})).forEach((function(e){return c[e]=o})),e(t,Object.assign({},i,{},c))};return Object.assign((function(e,n){if(void 0===e&&(e=t),i.hasOwnProperty(n.type)){var r=i[n.type];if("function"!=typeof r)throw Error('Reducer under "'+n.type+'" key is not a valid reducer');return r(e,n)}return e}),{handlers:Object.assign({},i),handleAction:o,handleType:o})},e.deprecated=g,e.getType=p,e.isActionOf=function(e,r){t(e)&&n(1);var i=Array.isArray(e)?e:[e];i.forEach(o);var a=function(e){return i.some((function(t){return e.type===t.getType()}))};return void 0===r?a:a(r)},e.isOfType=function(e,r){t(e)&&n(1);var i=Array.isArray(e)?e:[e];i.forEach(u);var o=function(e){return i.includes(e.type)};return void 0===r?o:o(r)}}(t)},53250:function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(67294);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,l=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return l((function(){i.value=n,i.getSnapshot=t,u(i)&&s({inst:i})}),[e,n,t]),a((function(){return u(i)&&s({inst:i}),e((function(){u(i)&&s({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},50139:function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(67294),i=n(61688);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,l=r.useRef,c=r.useEffect,u=r.useMemo,s=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=l(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=u((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return l=t}return l=e}if(t=l,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,l=n)}var a,l,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var p=a(e,f[0],f[1]);return c((function(){d.hasValue=!0,d.value=p}),[p]),s(p),p}},61688:function(e,t,n){"use strict";e.exports=n(53250)},52798:function(e,t,n){"use strict";e.exports=n(50139)},17061:function(e,t,n){var r=n(18698).default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),l=new C(r||[]);return a(o,"_invoke",{value:O(e,n,l)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h={};function g(){}function v(){}function m(){}var y={};f(y,c,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(D([])));w&&w!==n&&o.call(w,c)&&(y=w);var x=m.prototype=g.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,l,c){var u=p(e[i],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(f).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var l=_(a,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function D(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=m,a(x,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=f(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,f(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},E(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new S(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(x),f(x,s,"Generator"),f(x,c,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},64687:function(e,t,n){var r=n(17061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="https://t1.daumcdn.net/keditor/photos-web/dist/dev/";var r={};return function(){"use strict";n.d(r,{default:function(){return _p}});var e={};function t(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,l,"next",e)}function l(e){f(o,r,i,a,l,"throw",e)}a(void 0)}))}}n.r(e),n.d(e,{FILE:function(){return cd},HTML:function(){return fd},TEXT:function(){return sd},URL:function(){return ud}});var p=n(64687),h=n.n(p),g="크기가 3000px 이상인 이미지는 편집시 자동으로 3000px 로 줄어듭니다.",v="움직이는 이미지는 편집할 수 없습니다.",m="이미지 불러오기에 실패했습니다.",y=3e3,b=3e3,w=150,x={top:70,bottom:70,left:70,right:70},E={top:0,bottom:0,left:0,right:0},S=1.4,O=1.5,_=100,k=3e3,P="내용을 입력해주세요",C="자동 인식할 대상을 찾지 못했습니다.",D=["original","jpeg","png"],T="tenth",j=["size","crop","effect","sign","sticker","mosaicblur","text","frame"],N=n(41609),M=n.n(N),I=n(18446),R=n.n(I),A=n(72905),z=n.n(A);function L(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?n.push.apply(n,a(L(i,t))):t(i)&&n.push(i)}return n}function F(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?r.push(F(o,t+1,n)):r.push(n(o,t,i))}return r}function U(e,t){return F(e,0,t)}function H(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(Array.isArray(i)){if(i.length){var o=H(i,t);if(o>-1)return n+o;n+=-o}}else{if(t(i))return n;n++}}return-e.length}function B(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(Array.isArray(r)){var i=B(r,t);if(i)return i}else if(t(r))return r}}function V(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?r.length&&(t+=V(r)):t++}return t}function X(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(Array.isArray(r)){if(X(r,t))return!0}else if(t(r))return!0}return!1}var W=function(e,t){return e.map((function(e,n){return Array.isArray(e)?e.map(t):t(e,n)}))},Y=function(e,t){return M()(z()(e,t,R()))},$=90,q=180,K=360;var G=function(e){return e*Math.PI/q},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=e.x-n.x,i=e.y-n.y,o=t*Math.PI/q,a=r*Math.cos(o)-i*Math.sin(o)+n.x,l=r*Math.sin(o)+i*Math.cos(o)+n.y;return{x:a,y:l}},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=e.x-n.x,i=e.y-n.y,o=t*Math.PI/q,a=r*Math.cos(o)+i*Math.sin(o)+n.x,l=i*Math.cos(o)-r*Math.sin(o)+n.y;return{x:a,y:l}},Z=function(e,t){var n=Math.min(Math.max(e[0],t[0]),e[2]),r=Math.min(Math.max(e[1],t[1]),e[3]);return(Math.min(Math.max(e[0],t[2]),e[2])-n)*(Math.min(Math.max(e[1],t[3]),e[3])-r)},ee=function(e){if(71!==e[0]||73!==e[1]||70!==e[2]||56!==e[3])return!1;for(var t=e.length,n=0,r=0;r<t&&n<2;r++)0!==e[r]||33!==e[r+1]||249!==e[r+2]||4!==e[r+3]||0!==e[r+8]||44!==e[r+9]&&33!==e[r+9]||n++;return n>1},te=function(e){return function(e){for(var t=0;t<e.length-3;t++){if(1633899596===(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3])return!0}return!1}(e)},ne=function(e){return function(e){var t=!1;try{t=function(e){for(var t=0;t<e.length-3;t++){var n=(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(1095649613===n||1095650630===n)return!0}return!1}(e)}catch(e){}return t}(e)};function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function oe(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ae=function(){function e(){re(this,e),s(this,"$el",void 0),this.$el=document.createElement("pre"),this.$el.style.visibility="hidden",this.$el.style.display="inline-block",document.body.appendChild(this.$el)}return oe(e,[{key:"getTextWidth",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.$el)return 0;this.applyOption(n),this.$el.style.fontSize="".concat(t,"px"),this.$el.innerText=e;var r=window.getComputedStyle(this.$el);return Math.ceil(parseFloat(r.width)+(n.italic?t/10:0))}},{key:"getTextsWidth",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce((function(e,i){return Math.max(e,n.getTextWidth(i,t,r))}),0)}},{key:"getWidestText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.length?e.reduce((function(e,i){return n.getTextWidth(e,t,r)>n.getTextWidth(i,t,r)?e:i})):""}},{key:"getFitFontSize",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!this.$el)return 0;var i=l(n,2),o=i[0],a=i[1];for(this.applyOption(r),this.$el.innerText=e;o<a;){var c=o+a>>1;this.$el.style.fontSize="".concat(c,"px");var u=Math.ceil(parseFloat(window.getComputedStyle(this.$el).width)+(r.italic?c/10:0));t<=u?a=c:o=c+1}return a}},{key:"applyOption",value:function(e){this.$el.style.fontFamily=e.font||"",this.$el.style.fontWeight=e.bold?"bold":"",this.$el.style.fontStyle=e.italic?"italic":""}}],[{key:"getInstance",value:function(){return this.instance=this.instance||new e,this.instance}}]),e}();s(ae,"instance",void 0);var le=function(e,t){if("kage"===t){var n=l(new URL(e).hostname.split("."),1)[0];if(["alpha","sandbox","beta"].some((function(e){return e===n.split("-")[0]})))return"img1-beta.daumcdn.net"}return"img1.daumcdn.net"},ce=function(e){var t=l(e.split("?"),2),n=t[0],r=t[1];if(r){var i=r.split("&").filter((function(e){return"mode=edit"!==e})).join("&");return"".concat(n).concat(i?"?".concat(i):"")}return e},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:75,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:75,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"W",o=le(e,t),a=location,l=a.protocol,c=decodeURIComponent(e).split(/[http|https]:/i),u=c[c.length-1],s=/[^/:?#]+/,f=u.match(s)||[],d=t!==T?o:f;if(!d)return e;var p=encodeURIComponent(ce(l+u));return"".concat(l,"//").concat(d,"/thumb/").concat(n===r||"W"!==i?"C":"W").concat(n,"x").concat(r,"/?fname=").concat(p)},se=function(e){return"DIV"===e.tagName},fe=function(e){return"BUTTON"===e.tagName},de=function(e){return"A"===e.tagName},pe=function(e){return"INPUT"===e.tagName},he=function(e){return"IMG"===e.tagName},ge=function(e){return"TEXTAREA"===e.tagName},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return parseFloat(e.toFixed(t))},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;return t&&(n*=2),n=Math.round(n),t&&(n=ve(n/=2,1)),n},ye=function(e){var t;return null===(t=e.getContext("2d"))||void 0===t?void 0:t.getImageData(0,0,e.width,e.height)},be=function(e){return new Promise((function(t,n){try{var r=document.createElement("canvas"),i=new Image;i.onload=function(){var e;r.width=i.naturalWidth,r.height=i.naturalHeight,null===(e=r.getContext("2d"))||void 0===e||e.drawImage(i,0,0),t(ye(r))},i.crossOrigin="Anonymous",i.src=e}catch(e){n(e)}}))},we=function(e,t,n){var r=document.createElement("canvas");if(r.width=e,r.height=t,n){var i=r.getContext("2d");null==i||i.putImageData(n,0,0)}return r},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png",n="image/".concat(t),r=.92;return e.toDataURL(n,r)},Ee=function(e,t,n){var r=we(t,n),i=r.getContext("2d");return null==i||i.drawImage(e,0,0,e.width,e.height,0,0,t,n),xe(r)},Se=function(e){var t=e.naturalWidth,n=e.naturalHeight;return function(e){return e.width>y||e.height>b}({width:t,height:n})?t>n?{width:b,height:n*(y/t)}:{width:t*(b/n),height:b}:{width:t,height:n}},Oe=function(e){return new Promise((function(t,n){try{var r=document.createElement("canvas"),i=new Image;i.onload=function(){var e,n=Se(i),o=n.width,a=n.height;r.width=o,r.height=a,null===(e=r.getContext("2d"))||void 0===e||e.drawImage(i,0,0,o,a),t(ye(r))},i.crossOrigin="Anonymous",i.src=e}catch(e){n(e)}}))},_e=function(e){return new Promise((function(t,n){try{var r=new Image;r.onload=function(){var e=we(r.naturalWidth,r.naturalHeight),n=e.getContext("2d");null==n||n.drawImage(r,0,0),t(e)},r.crossOrigin="Anonymous",r.src=e}catch(e){n(e)}}))},ke=function(e){return new Promise((function(t,n){try{var r=new Image;r.onload=function(){t(r)},r.crossOrigin="Anonymous",r.src=e}catch(e){n(e)}}))},Pe=function(e,t,n){var r=document.querySelector(".ke_photos .box_canvas");if(!r)return{x:0,y:0};var i=r.scrollLeft,o=r.scrollTop,a=r.clientWidth,l=r.clientHeight,c=n||1,u=e.width*c,s=e.height*c;return{x:u<a?e.width-t.width>>1:i+(a-t.width>>1),y:s<l?e.height-t.height>>1:o+(l-t.height>>1)}},Ce=15,De=function(){function e(t,n,r,i,o,a){re(this,e),s(this,"REVERSE_UPDOWN",1),s(this,"REVERSE_LEFTRIGHT",2),s(this,"a",1),s(this,"b",0),s(this,"c",0),s(this,"d",1),s(this,"e",0),s(this,"f",0);var l={a:0,b:0,c:0,d:0,e:0,f:0};l.a=void 0===t?1:t,l.b=void 0===n?0:n,l.c=void 0===r?0:r,l.d=void 0===i?1:i,l.e=void 0===o?0:o,l.f=void 0===a?0:a,this.setData(l.a,l.b,l.c,l.d,l.e,l.f)}return oe(e,[{key:"setData",value:function(e,t,n,r,i,o){this.a=parseFloat(e.toFixed(Ce)),this.b=parseFloat(t.toFixed(Ce)),this.c=parseFloat(n.toFixed(Ce)),this.d=parseFloat(r.toFixed(Ce)),this.e=parseFloat(i.toFixed(Ce)),this.f=parseFloat(o.toFixed(Ce))}},{key:"matrixMulti",value:function(e){var t=e.a*this.a+e.c*this.b,n=e.b*this.a+e.d*this.b,r=e.a*this.c+e.c*this.d,i=e.b*this.c+e.d*this.d,o=e.a*this.e+e.c*this.f+e.e,a=e.b*this.e+e.d*this.f+e.f;this.setData(t,n,r,i,o,a)}},{key:"translate",value:function(t,n){this.matrixMulti(new e(1,0,0,1,t,n))}},{key:"rotateMatrix",value:function(t){var n=t*Math.PI/q;this.matrixMulti(new e(Math.cos(n),-Math.sin(n),Math.sin(n),Math.cos(n),0,0))}},{key:"reverseMatrix",value:function(e){var t=e===this.REVERSE_LEFTRIGHT?-1:1,n=e===this.REVERSE_UPDOWN?-1:1;this.scaleMatrix(t,n)}},{key:"scaleMatrix",value:function(t,n){this.matrixMulti(new e(t,0,0,n,0,0))}},{key:"getInverseMatrix",value:function(t){var n=this.a,r=this.b,i=this.c,o=this.d,a=this.e,c=this.f;if(t){var u=l(t,6);n=u[0],r=u[1],i=u[2],o=u[3],a=u[4],c=u[5]}var s=n*(1*o-0*c)-i*(1*r-0*c)+a*(0*r-0*o),f=[[1/s*+(1*o-0*c),1/s*-(1*i-0*a),1/s*+(i*c-a*o)],[1/s*-(1*r-0*c),1/s*+(1*n-0*a),1/s*-(n*c-a*r)],[1/s*+(0*r-0*o),1/s*-(0*n-0*i),1/s*+(n*o-i*r)]];return new e(f[0][0],f[1][0],f[0][1],f[1][1],f[0][2],f[1][2])}},{key:"pointMulti",value:function(e,t){var n="object"===c(e)?e.x:null!=e?e:0,r="object"===c(e)?e.y:null!=t?t:0;return{x:this.a*n+this.c*r+this.e,y:this.b*n+this.d*r+this.f}}},{key:"toArray",value:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]}}]),e}();function Te(e,t){return function(){return e.apply(t,arguments)}}const{toString:je}=Object.prototype,{getPrototypeOf:Ne}=Object,Me=(Ie=Object.create(null),e=>{const t=je.call(e);return Ie[t]||(Ie[t]=t.slice(8,-1).toLowerCase())});var Ie;const Re=e=>(e=e.toLowerCase(),t=>Me(t)===e),Ae=e=>t=>typeof t===e,{isArray:ze}=Array,Le=Ae("undefined");const Fe=Re("ArrayBuffer");const Ue=Ae("string"),He=Ae("function"),Be=Ae("number"),Ve=e=>null!==e&&"object"==typeof e,Xe=e=>{if("object"!==Me(e))return!1;const t=Ne(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},We=Re("Date"),Ye=Re("File"),$e=Re("Blob"),qe=Re("FileList"),Ke=Re("URLSearchParams");function Ge(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),ze(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Qe(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Je="undefined"==typeof self?"undefined"==typeof global?void 0:global:self,Ze=e=>!Le(e)&&e!==Je;const et=(tt="undefined"!=typeof Uint8Array&&Ne(Uint8Array),e=>tt&&e instanceof tt);var tt;const nt=Re("HTMLFormElement"),rt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),it=Re("RegExp"),ot=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ge(n,((n,i)=>{!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)};var at={isArray:ze,isArrayBuffer:Fe,isBuffer:function(e){return null!==e&&!Le(e)&&null!==e.constructor&&!Le(e.constructor)&&He(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||je.call(e)===t||He(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Fe(e.buffer),t},isString:Ue,isNumber:Be,isBoolean:e=>!0===e||!1===e,isObject:Ve,isPlainObject:Xe,isUndefined:Le,isDate:We,isFile:Ye,isBlob:$e,isRegExp:it,isFunction:He,isStream:e=>Ve(e)&&He(e.pipe),isURLSearchParams:Ke,isTypedArray:et,isFileList:qe,forEach:Ge,merge:function e(){const{caseless:t}=Ze(this)&&this||{},n={},r=(r,i)=>{const o=t&&Qe(n,i)||i;Xe(n[o])&&Xe(r)?n[o]=e(n[o],r):Xe(r)?n[o]=e({},r):ze(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Ge(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(Ge(t,((t,r)=>{n&&He(t)?e[r]=Te(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==n&&Ne(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Me,kindOfTest:Re,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(ze(e))return e;let t=e.length;if(!Be(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:nt,hasOwnProperty:rt,hasOwnProp:rt,reduceDescriptors:ot,freezeMethods:e=>{ot(e,((t,n)=>{if(He(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];He(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return ze(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Qe,global:Je,isContextDefined:Ze,toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ve(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=ze(e)?[]:{};return Ge(e,((e,t)=>{const o=n(e,r+1);!Le(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)}};function lt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}at.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:at.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ct=lt.prototype,ut={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ut[e]={value:e}})),Object.defineProperties(lt,ut),Object.defineProperty(ct,"isAxiosError",{value:!0}),lt.from=(e,t,n,r,i,o)=>{const a=Object.create(ct);return at.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),lt.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var st=lt,ft=n(6230);function dt(e){return at.isPlainObject(e)||at.isArray(e)}function pt(e){return at.endsWith(e,"[]")?e.slice(0,-2):e}function ht(e,t,n){return e?e.concat(t).map((function(e,t){return e=pt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const gt=at.toFlatObject(at,{},null,(function(e){return/^is[A-Z]/.test(e)}));var vt=function(e,t,n){if(!at.isObject(e))throw new TypeError("target must be an object");t=t||new(ft||FormData);const r=(n=at.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!at.isUndefined(t[e])}))).metaTokens,i=n.visitor||s,o=n.dots,a=n.indexes,l=(n.Blob||"undefined"!=typeof Blob&&Blob)&&((c=t)&&at.isFunction(c.append)&&"FormData"===c[Symbol.toStringTag]&&c[Symbol.iterator]);var c;if(!at.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(at.isDate(e))return e.toISOString();if(!l&&at.isBlob(e))throw new st("Blob is not supported. Use a Buffer instead.");return at.isArrayBuffer(e)||at.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function s(e,n,i){let l=e;if(e&&!i&&"object"==typeof e)if(at.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(at.isArray(e)&&function(e){return at.isArray(e)&&!e.some(dt)}(e)||at.isFileList(e)||at.endsWith(n,"[]")&&(l=at.toArray(e)))return n=pt(n),l.forEach((function(e,r){!at.isUndefined(e)&&null!==e&&t.append(!0===a?ht([n],r,o):null===a?n:n+"[]",u(e))})),!1;return!!dt(e)||(t.append(ht(i,n,o),u(e)),!1)}const f=[],d=Object.assign(gt,{defaultVisitor:s,convertValue:u,isVisitable:dt});if(!at.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!at.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),at.forEach(n,(function(n,o){!0===(!(at.isUndefined(n)||null===n)&&i.call(t,n,at.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),f.pop()}}(e),t};function mt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function yt(e,t){this._pairs=[],e&&vt(e,this,t)}const bt=yt.prototype;bt.append=function(e,t){this._pairs.push([e,t])},bt.toString=function(e){const t=e?function(t){return e.call(this,t,mt)}:mt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var wt=yt;function xt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Et(e,t,n){if(!t)return e;const r=n&&n.encode||xt,i=n&&n.serialize;let o;if(o=i?i(t,n):at.isURLSearchParams(t)?t.toString():new wt(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}var St=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){at.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ot={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_t="undefined"!=typeof URLSearchParams?URLSearchParams:wt,kt=FormData;const Pt=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)})();var Ct={isBrowser:!0,classes:{URLSearchParams:_t,FormData:kt,Blob:Blob},isStandardBrowserEnv:Pt,protocols:["http","https","file","blob","url","data"]};var Dt=function(e){function t(e,n,r,i){let o=e[i++];const a=Number.isFinite(+o),l=i>=e.length;if(o=!o&&at.isArray(r)?r.length:o,l)return at.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&at.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&at.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(at.isFormData(e)&&at.isFunction(e.entries)){const n={};return at.forEachEntry(e,((e,r)=>{t(function(e){return at.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Tt={"Content-Type":void 0};const jt={transitional:Ot,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=at.isObject(e);i&&at.isHTMLForm(e)&&(e=new FormData(e));if(at.isFormData(e))return r&&r?JSON.stringify(Dt(e)):e;if(at.isArrayBuffer(e)||at.isBuffer(e)||at.isStream(e)||at.isFile(e)||at.isBlob(e))return e;if(at.isArrayBufferView(e))return e.buffer;if(at.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return vt(e,new Ct.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ct.isNode&&at.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=at.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return vt(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(at.isString(e))try{return(t||JSON.parse)(e),at.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||jt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&at.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw st.from(e,st.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};at.forEach(["delete","get","head"],(function(e){jt.headers[e]={}})),at.forEach(["post","put","patch"],(function(e){jt.headers[e]=at.merge(Tt)}));var Nt=jt;const Mt=at.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const It=Symbol("internals");function Rt(e){return e&&String(e).trim().toLowerCase()}function At(e){return!1===e||null==e?e:at.isArray(e)?e.map(At):String(e)}function zt(e,t,n,r){return at.isFunction(r)?r.call(this,t,n):at.isString(t)?at.isString(r)?-1!==t.indexOf(r):at.isRegExp(r)?r.test(t):void 0:void 0}class Lt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Rt(t);if(!i)throw new Error("header name must be a non-empty string");const o=at.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=At(e))}const o=(e,t)=>at.forEach(e,((e,n)=>i(e,n,t)));return at.isPlainObject(e)||e instanceof this.constructor?o(e,t):at.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Mt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=Rt(e)){const n=at.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(at.isFunction(t))return t.call(this,e,n);if(at.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Rt(e)){const n=at.findKey(this,e);return!(!n||t&&!zt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Rt(e)){const i=at.findKey(n,e);!i||t&&!zt(0,n[i],i,t)||(delete n[i],r=!0)}}return at.isArray(e)?e.forEach(i):i(e),r}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const t=this,n={};return at.forEach(this,((r,i)=>{const o=at.findKey(n,i);if(o)return t[o]=At(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=At(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return at.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&at.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[It]=this[It]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Rt(e);t[r]||(!function(e,t){const n=at.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return at.isArray(e)?e.forEach(r):r(e),this}}Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),at.freezeMethods(Lt.prototype),at.freezeMethods(Lt);var Ft=Lt;function Ut(e,t){const n=this||Nt,r=t||n,i=Ft.from(r.headers);let o=r.data;return at.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Ht(e){return!(!e||!e.__CANCEL__)}function Bt(e,t,n){st.call(this,null==e?"canceled":e,st.ERR_CANCELED,t,n),this.name="CanceledError"}at.inherits(Bt,st,{__CANCEL__:!0});var Vt=Bt;var Xt=Ct.isStandardBrowserEnv?{write:function(e,t,n,r,i,o){const a=[];a.push(e+"="+encodeURIComponent(t)),at.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),at.isString(r)&&a.push("path="+r),at.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Wt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Yt=Ct.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=at.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};var $t=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(l){const c=Date.now(),u=r[a];i||(i=c),n[o]=l,r[o]=c;let s=a,f=0;for(;s!==o;)f+=n[s++],s%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const d=u&&c-u;return d?Math.round(1e3*f/d):void 0}};function qt(e,t){let n=0;const r=$t(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-n,c=r(l);n=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const Kt={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Ft.from(e.headers).normalize(),o=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}at.isFormData(r)&&Ct.isStandardBrowserEnv&&i.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const u=Wt(e.baseURL,e.url);function s(){if(!c)return;const r=Ft.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new st("Request failed with status code "+n.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),Et(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=s:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(s)},c.onabort=function(){c&&(n(new st("Request aborted",st.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new st("Network Error",st.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Ot;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new st(t,r.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,e,c)),c=null},Ct.isStandardBrowserEnv){const t=(e.withCredentials||Yt(u))&&e.xsrfCookieName&&Xt.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in c&&at.forEach(i.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),at.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",qt(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",qt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{c&&(n(!t||t.type?new Vt(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);f&&-1===Ct.protocols.indexOf(f)?n(new st("Unsupported protocol "+f+":",st.ERR_BAD_REQUEST,e)):c.send(r||null)}))}};at.forEach(Kt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var Gt=e=>{e=at.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=at.isString(n)?Kt[n.toLowerCase()]:n));i++);if(!r){if(!1===r)throw new st(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(at.hasOwnProp(Kt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!at.isFunction(r))throw new TypeError("adapter is not a function");return r};function Qt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vt}function Jt(e){Qt(e),e.headers=Ft.from(e.headers),e.data=Ut.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gt(e.adapter||Nt.adapter)(e).then((function(t){return Qt(e),t.data=Ut.call(e,e.transformResponse,t),t.headers=Ft.from(t.headers),t}),(function(t){return Ht(t)||(Qt(e),t&&t.response&&(t.response.data=Ut.call(e,e.transformResponse,t.response),t.response.headers=Ft.from(t.response.headers))),Promise.reject(t)}))}const Zt=e=>e instanceof Ft?e.toJSON():e;function en(e,t){t=t||{};const n={};function r(e,t,n){return at.isPlainObject(e)&&at.isPlainObject(t)?at.merge.call({caseless:n},e,t):at.isPlainObject(t)?at.merge({},t):at.isArray(t)?t.slice():t}function i(e,t,n){return at.isUndefined(t)?at.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!at.isUndefined(t))return r(void 0,t)}function a(e,t){return at.isUndefined(t)?at.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(e,t)=>i(Zt(e),Zt(t),!0)};return at.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){const o=c[r]||i,a=o(e[r],t[r],r);at.isUndefined(a)&&o!==l||(n[r]=a)})),n}const tn="1.2.0",nn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{nn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const rn={};nn.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new st(r(i," has been removed"+(t?" in "+t:"")),st.ERR_DEPRECATED);return t&&!rn[i]&&(rn[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var on={assertOptions:function(e,t,n){if("object"!=typeof e)throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new st("option "+o+" must be "+n,st.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new st("Unknown option "+o,st.ERR_BAD_OPTION)}},validators:nn};const an=on.validators;class ln{constructor(e){this.defaults=e,this.interceptors={request:new St,response:new St}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=en(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;let o;void 0!==n&&on.assertOptions(n,{silentJSONParsing:an.transitional(an.boolean),forcedJSONParsing:an.transitional(an.boolean),clarifyTimeoutError:an.transitional(an.boolean)},!1),void 0!==r&&on.assertOptions(r,{encode:an.function,serialize:an.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),o=i&&at.merge(i.common,i[t.method]),o&&at.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Ft.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let s,f=0;if(!l){const e=[Jt.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),s=e.length,u=Promise.resolve(t);f<s;)u=u.then(e[f++],e[f++]);return u}s=a.length;let d=t;for(f=0;f<s;){const e=a[f++],t=a[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{u=Jt.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,s=c.length;f<s;)u=u.then(c[f++],c[f++]);return u}getUri(e){return Et(Wt((e=en(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}at.forEach(["delete","get","head","options"],(function(e){ln.prototype[e]=function(t,n){return this.request(en(n||{},{method:e,url:t,data:(n||{}).data}))}})),at.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(en(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ln.prototype[e]=t(),ln.prototype[e+"Form"]=t(!0)}));var cn=ln;class un{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Vt(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new un((function(t){e=t})),cancel:e}}}var sn=un;const fn=function e(t){const n=new cn(t),r=Te(cn.prototype.request,n);return at.extend(r,cn.prototype,n,{allOwnKeys:!0}),at.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(en(t,n))},r}(Nt);fn.Axios=cn,fn.CanceledError=Vt,fn.CancelToken=sn,fn.isCancel=Ht,fn.VERSION=tn,fn.toFormData=vt,fn.AxiosError=st,fn.Cancel=fn.CanceledError,fn.all=function(e){return Promise.all(e)},fn.spread=function(e){return function(t){return e.apply(null,t)}},fn.isAxiosError=function(e){return at.isObject(e)&&!0===e.isAxiosError},fn.AxiosHeaders=Ft,fn.formToJSON=e=>Dt(at.isHTMLForm(e)?new FormData(e):e),fn.default=fn;var dn=fn,pn=function(){var e=d(h().mark((function e(t){var n,r,i,o,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn.get(t,{responseType:"arraybuffer"});case 2:return n=e.sent,r=n.data,i=new Uint8Array(r),o=Array.from(i.slice(0,12)).map((function(e){return String.fromCharCode(e)})).join("").toUpperCase(),a={mime:"png",isAnimation:!1},c=void 0,u=void 0,c=(l=i).slice(0,3),u=l.slice(l.length-2,l.length),255===c[0]&&216===c[1]&&255===c[2]&&255===u[0]&&217===u[1]?a.mime="jpeg":o.indexOf("GIF")>-1?(a.mime="gif",a.isAnimation=ee(i)):o.indexOf("WEBP")>-1?(a.mime="webp",a.isAnimation=ne(i)):o.indexOf("PNG")>-1&&(a.mime="png",a.isAnimation=te(i)),e.abrupt("return",a);case 9:case"end":return e.stop()}var l,c,u}),e)})));return function(t){return e.apply(this,arguments)}}();function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn=function(e,t){if(e&&t)return e>y||t>b},mn=function(){var e=d(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dn.get("".concat(t,"&property"));case 3:return n=e.sent,r=n.data,e.abrupt("return",{width:r.i_data.i_width,height:r.i_data.i_height,mimeType:r["content-type"]});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),yn=function(e,t){if(e&&t){if(e>t){var n=y/e;return{width:y,height:Math.floor(t*n)}}var r=b/t;return{width:Math.floor(e*r),height:b}}},bn=function(e,t){if(e&&t)return e<=y&&t<b?{width:e,height:t}:yn(e,t)},wn=function(e,t){return vn(e,t)?gn({editable:!0,editableMsg:g},yn(e,t)):{editable:!0,width:e,height:t}},xn=function(){var e=d(h().mark((function e(t){var n,r,i,o,a,c,u,s,f,d,p,y,b,w,x,E,S,O,_,k=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(k.length>1&&void 0!==k[1])||k[1],r=k.length>2&&void 0!==k[2]&&k[2],e.prev=2,i=t.src.split("?"),o=l(i,2),a=o[0],c=o[1],!n){e.next=26;break}return e.next=7,mn(t.src);case 7:if(u=e.sent,s=u.width,f=u.height,(d=u.mimeType)&&d.match(/\/(gif|webp|png|apng)$/gi)){e.next=24;break}if(!s||!f){e.next=23;break}if(p={width:s,height:f,editable:!0},y=vn(s,f),!d||!r){e.next=20;break}return b=d.split("/"),w=l(b,2),x=w[1],E=D.includes(x)?x:"jpeg",S=gn(gn({},p),{},{type:E}),e.abrupt("return",y?gn(gn({},S),{},{editableMsg:g}):S);case 20:return e.abrupt("return",y?gn(gn({},p),{},{editableMsg:g}):p);case 23:return e.abrupt("return",{editable:!0});case 24:e.next=28;break;case 26:if(a.match(/\.(gif|webp|png|apng)$/gi)){e.next=28;break}return e.abrupt("return",{editable:!0});case 28:return O="".concat(a,"?").concat(c?"".concat(Date.now(),"&").concat(c):Date.now()),e.next=31,pn(O);case 31:if(!(_=e.sent).isAnimation){e.next=34;break}return e.abrupt("return",{editable:!1,editableMsg:v});case 34:return e.abrupt("return",{type:_.mime,editable:!0});case 37:return e.prev=37,e.t0=e.catch(2),e.abrupt("return",{editable:!1,editableMsg:m});case 40:case"end":return e.stop()}}),e,null,[[2,37]])})));return function(t){return e.apply(this,arguments)}}(),En=function(e){var t=l(e.split("?"),2),n=(t[0],t[1]);return"".concat(e).concat(n?"&":"?").concat("mode=edit")},Sn=function(e){return U(e,(function(e,t){if(!(t>1)){var n={src:""},r="string"==typeof e?e:e.src;if(n.originData={src:r},n.src=En(r),function(e){return!(Array.isArray(e)||"string"==typeof e||!e.width&&!e.height)}(e)){var i=Number(e.width),o=Number(e.height);n.originData.width=i,n.originData.height=o,n=gn(gn({},n),wn(i,o))}return"string"!=typeof e&&(n.extraData=e.extraData),n}}))};function On(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _n="function"==typeof Symbol&&Symbol.observable||"@@observable",kn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Pn={INIT:"@@redux/INIT"+kn(),REPLACE:"@@redux/REPLACE"+kn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+kn()}};function Cn(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Dn(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(On(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(On(1));return n(Dn)(e,t)}if("function"!=typeof e)throw new Error(On(2));var i=e,o=t,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function s(){if(c)throw new Error(On(3));return o}function f(e){if("function"!=typeof e)throw new Error(On(4));if(c)throw new Error(On(5));var t=!0;return u(),l.push(e),function(){if(t){if(c)throw new Error(On(6));t=!1,u();var n=l.indexOf(e);l.splice(n,1),a=null}}}function d(e){if(!Cn(e))throw new Error(On(7));if(void 0===e.type)throw new Error(On(8));if(c)throw new Error(On(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=a=l,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!=typeof e)throw new Error(On(10));i=e,d({type:Pn.REPLACE})}function h(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(On(11));function n(){e.next&&e.next(s())}return n(),{unsubscribe:t(n)}}})[_n]=function(){return this},e}return d({type:Pn.INIT}),(r={dispatch:d,subscribe:f,getState:s,replaceReducer:p})[_n]=h,r}var Tn=Dn;var jn,Nn=n(91757),Mn="EDIT/UPDATE_IMAGE",In="EDIT/REMOVE_IMAGE",Rn="EDIT/REMOVE_HISTORY",An="EDIT/UPDATE_HISTORY",zn="EDIT/DELETE_HISTORY_KEY",Ln="EDIT/UPDATE_IMAGE_STATUS",Fn=(0,Nn.createAction)(Mn)(),Un=((0,Nn.createAction)(In)(),(0,Nn.createAction)(Rn)()),Hn=(0,Nn.createAction)(An)(),Bn=(0,Nn.createAction)(zn)(),Vn=(0,Nn.createAction)(Ln)();function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yn=(0,Nn.createReducer)([],(s(jn={},Mn,(function(e,t){return t.payload.images})),s(jn,In,(function(e,t){return function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(Array.isArray(i)){var o=i.filter((function(e){return!t(e)}));o.length&&n.push(o)}else t(i)||n.push(i)}return n}(e,(function(e){var n=e.id;return t.payload.id===n}))})),s(jn,Rn,(function(e,t){return W(e,(function(e){return t.payload.ids.includes(e.id)?Wn(Wn({},e),{},{history:void 0}):e}))})),s(jn,An,(function(e,t){return W(e,(function(e){return t.payload.ids.includes(e.id)?"function"==typeof t.payload.history?Wn(Wn({},e),{},{history:Wn({},t.payload.history(e))}):Wn(Wn({},e),{},{history:Object.assign(e.history||{},t.payload.history)}):e}))})),s(jn,zn,(function(e,t){return W(e,(function(e){return t.payload.ids.includes(e.id)&&e.history&&t.payload.historyKey?(e.history[t.payload.historyKey]&&delete e.history[t.payload.historyKey],e):e}))})),s(jn,Ln,(function(e,t){return W(e,(function(e){return e.id!==t.payload.id?e:Wn(Wn({},e),t.payload.image)}))})),jn)),$n=Yn,qn="MENU/UPDATE_STATE",Kn=(0,Nn.createAction)(qn)();function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jn=(0,Nn.createReducer)({isCompleting:!1,isCropping:!1,showSaveModal:!1,tab:"size"},s({},qn,(function(e,t){var n=t.payload;return Qn(Qn({},e),{},s({},n.key,n.history))}))),Zn=Jn,er={menus:j,fileSystem:T,exportFormat:"png",options:{}},tr=(0,Nn.createReducer)(er,{}),nr="PIPELINE/UPDATE_STATE",rr=(0,Nn.createAction)(nr)(),ir=n(82492),or=n.n(ir);function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr,ur=function(e){return"object"===c(e)},sr=(0,Nn.createReducer)({},s({},nr,(function(e,t){var n=t.payload;return lr(lr({},e),{},s({},n.key,function(e,t){return void 0===e?void 0!==t&&ur(t)?lr({},t):t:ur(e)&&ur(t)?or()({},e,t):t}(e[n.key],n.history)))}))),fr=sr,dr="PREVIEW/UPDATE_PREVIEW",pr="PREVIEW/EXPAND",hr="PREVIEW/COLLAPSE",gr="PREVIEW/UPDATE_EXPANDABLE",vr="PREVIEW/UPDATE_LOADING",mr="PREVIEW/UPDATE_SCALE",yr="PREVIEW/UPDATE_PAINT_STATUS",br="PREVIEW/UPDATE_CLICK_STATUS",wr=(0,Nn.createAction)(dr)(),xr=(0,Nn.createAction)(pr)(),Er=(0,Nn.createAction)(hr)(),Sr=(0,Nn.createAction)(gr)(),Or=(0,Nn.createAction)(vr)(),_r=(0,Nn.createAction)(mr)(),kr=(0,Nn.createAction)(yr)(),Pr=(0,Nn.createAction)(br)();function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tr,jr=(0,Nn.createReducer)({selectedId:0,loading:!1,expand:!1,expandable:!1,scale:1,isPainted:!1,isClicked:!1},(s(cr={},dr,(function(e,t){return Dr(Dr({},e),{},{selectedId:t.payload.id})})),s(cr,pr,(function(e){return Dr(Dr({},e),{},{expand:!0})})),s(cr,hr,(function(e){return Dr(Dr({},e),{},{expand:!1})})),s(cr,gr,(function(e,t){return Dr(Dr({},e),{},{expandable:t.payload.expandable})})),s(cr,vr,(function(e,t){return Dr(Dr({},e),{},{loading:t.payload.loading})})),s(cr,mr,(function(e,t){return Dr(Dr({},e),{},{scale:t.payload.scale})})),s(cr,yr,(function(e,t){return Dr(Dr({},e),{},{isPainted:t.payload.isPainted})})),s(cr,br,(function(e,t){return Dr(Dr({},e),{},{isClicked:t.payload.isClicked})})),cr)),Nr="SELECTIONS/OPEN",Mr="SELECTIONS/CLOSE",Ir="SELECTIONS/APPEND",Rr="SELECTIONS/UPDATE",Ar="SELECTIONS/REMOVE",zr="SELECTIONS/RESIZE",Lr=(0,Nn.createAction)(Nr)(),Fr=(0,Nn.createAction)(Mr)(),Ur=(0,Nn.createAction)(Ir)(),Hr=(0,Nn.createAction)(Rr)(),Br=(0,Nn.createAction)(Ar)(),Vr=(0,Nn.createAction)(zr)(),Xr=n(91966),Wr=n.n(Xr);function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qr,Kr=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Pn.INIT}))throw new Error(On(12));if(void 0===n(void 0,{type:Pn.PROBE_UNKNOWN_ACTION()}))throw new Error(On(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},l=0;l<a.length;l++){var c=a[l],u=n[c],s=e[c],f=u(s,t);if(void 0===f){t&&t.type;throw new Error(On(14))}i[c]=f,r=r||f!==s}return(r=r||a.length!==Object.keys(e).length)?i:e}}({images:$n,selections:(0,Nn.createReducer)({editable:!0,open:!1,images:[],isResize:!1,editHistory:{}},(s(Tr={},Nr,(function(e,t){return $r($r({},e),{},{open:!0,images:t.payload.ids,editHistory:t.payload.history,exceptions:t.payload.exceptions,submitCallback:t.payload.submitCallback,cancelCallback:t.payload.cancelCallback})})),s(Tr,Mr,(function(e){return $r($r({},e),{},{open:!1,images:[],editHistory:{}})})),s(Tr,Ir,(function(e,t){var n;return $r($r({},e),{},{images:(n=e.images).concat.apply(n,a(t.payload.ids))})})),s(Tr,Rr,(function(e,t){return $r($r({},e),{},{images:t.payload.ids})})),s(Tr,Ar,(function(e,t){return $r($r({},e),{},{images:Wr()(e.images,t.payload.ids)})})),s(Tr,zr,(function(e){return $r($r({},e),{},{isResize:!e.isResize})})),Tr)),preview:jr,options:tr,menu:Zn,pipeline:fr}),Gr=Kr,Qr={client:{width:0,height:0},padding:x},Jr=function(){var e=d(h().mark((function e(t,n,r){var i,o,a,l,c,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={status:0,positions:[]},e.prev=1,o={url:n},e.next=5,dn.post(t,o,{headers:{"content-type":"application/json"}});case 5:a=e.sent,l=a.status,c=a.data,u=r?r.width:1,s=r?r.height:1,i.status=l,i.positions=c.result.map((function(e){var t=e.x,n=e.y,r=e.w,i=e.h;return{x:t*u,y:n*s,w:r*u,h:i*s}})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Zr=[-1,-1,1,1,-1,1,1,1,1,-1,1,1],ei=[0,0,1,0,1,1,0,1],ti=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ni=function(){function e(t,n){if(re(this,e),s(this,"originalCanvas",void 0),s(this,"canvas",void 0),s(this,"gl",void 0),s(this,"vertexShader",void 0),s(this,"fragmentShader",void 0),s(this,"isCompiled",void 0),s(this,"source",void 0),s(this,"program",void 0),s(this,"originalImageTexture",void 0),s(this,"textures",void 0),s(this,"framebuffers",void 0),s(this,"lookupImage",void 0),s(this,"lookupTexture",void 0),this.originalCanvas=t instanceof HTMLCanvasElement?t:document.createElement("canvas"),this.canvas=document.createElement("canvas"),this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),this.vertexShader="attribute vec4 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 matrix;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n   gl_Position = matrix * a_position;\n   v_texCoord = a_texCoord;\n}",this.fragmentShader="precision mediump float;\n\nuniform sampler2D texOrigin;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n   gl_FragColor = texture2D(texOrigin, v_texCoord);\n}",this.isCompiled=!1,this.textures=[],this.framebuffers=[],!this.gl)throw new Error("WebGL을 지원하지 않는 브라우저입니다.");var r=t instanceof HTMLImageElement?t.naturalWidth:t.width,i=t instanceof HTMLImageElement?t.naturalHeight:t.height;this.setCanvas(this.canvas,{width:r,height:i}),n&&this.resizeCanvas(n)}return oe(e,[{key:"setCanvas",value:function(e,t){var n=t.width,r=t.height;e.width=n,e.height=r;var i=e.getContext("2d");null==i||i.clearRect(0,0,n,r)}},{key:"getImageData",value:function(){return ye(this.originalCanvas)}},{key:"resizeCanvas",value:function(e){var t=this.canvas,n=t instanceof HTMLImageElement?t.naturalWidth:t.width,r=t instanceof HTMLImageElement?t.naturalHeight:t.height;if(e!==r){var i,o=document.createElement("canvas"),a=n/r;o.height=e*devicePixelRatio,o.width=o.height*a,null===(i=o.getContext("2d"))||void 0===i||i.drawImage(t,0,0,o.width,o.height),this.setCanvas(this.originalCanvas,o),this.setCanvas(this.canvas,o)}}},{key:"setImage",value:function(e,t){var n=this.gl;if(n){var r=this.createTexture(t);return n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),this.originalImageTexture=r,r}}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr,n=arguments.length>2?arguments[2]:void 0,r=this.gl,i=this.program,o=this.isCompiled,a=this.canvas,l=this.lookupImage,c=this.lookupTexture;if(r&&i){n&&this.resizeCanvas(n),o||this.createProgram();var u=r.getUniformLocation(i,"texOrigin");r.uniform1i(u,0);var s=r.getUniformLocation(i,"texOrigin_size");if(r.uniform2fv(s,new Float32Array([a.width,a.height])),l&&c){var f=r.getUniformLocation(i,"lookup1");r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,c),r.uniform1i(f,2)}this.setPositionBuffer(t),this.setTexCoordBuffer(e),this.setMetrixLocation(),r.viewport(0,0,r.canvas.width,r.canvas.height),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,4),r.flush(),this.updateCanvas()}}},{key:"createTexture",value:function(e){var t=this.gl;if(t){var n=t.createTexture();return e&&t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,n),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),n}}},{key:"createProgram",value:function(){var e=this.gl,t=this.isCompiled;if(e&&!t){var n=e.createProgram(),r=this.compileShader(this.vertexShader,e.VERTEX_SHADER),i=this.compileShader(this.fragmentShader,e.FRAGMENT_SHADER);n&&r&&i&&(e.attachShader(n,r),e.attachShader(n,i),e.linkProgram(n),e.deleteShader(r),e.deleteShader(i),this.program=n,this.isCompiled=!0,e.useProgram(n))}}},{key:"compileShader",value:function(e,t){var n=this.gl;if(n){var r=n.createShader(t);if(r)return n.shaderSource(r,e),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)?r:(console.error("Shader Compile Error: ".concat(n.getShaderInfoLog(r))),n.deleteShader(r),null)}}},{key:"setPositionBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,t=this.gl,n=this.program;if(t&&n){var r=t.getAttribLocation(n,"a_position"),i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,e.length/4,t.FLOAT,!1,0,0)}}},{key:"setTexCoordBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei,t=this.gl,n=this.program;if(t&&n){var r=t.getAttribLocation(n,"a_texCoord"),i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0)}}},{key:"setMetrixLocation",value:function(){var e=this.gl,t=this.program;if(e&&t){var n=e.getUniformLocation(t,"matrix");e.uniformMatrix4fv(n,!1,new Float32Array(ti))}}},{key:"updateCanvas",value:function(){var e=this.originalCanvas.getContext("2d");null==e||e.drawImage(this.canvas,0,0,this.originalCanvas.width,this.originalCanvas.height,0,0,this.canvas.width,this.canvas.height)}},{key:"createFrameBuffers",value:function(){for(var e=this.gl,t=0;t<2;t++){var n=this.createTexture();this.textures.push(n),null==e||e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.canvas.width,this.canvas.height,0,e.RGBA,e.UNSIGNED_BYTE,null);var r=null==e?void 0:e.createFramebuffer();this.framebuffers.push(r),null==e||e.bindFramebuffer(e.FRAMEBUFFER,r),null==e||e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}}},{key:"setFrameBuffer",value:function(e,t,n){var r=this.gl,i=this.program,o=null==r?void 0:r.getUniformLocation(i,"u_resolution");null==r||r.bindFramebuffer(r.FRAMEBUFFER,e),null==r||r.uniform2f(o,t,n),null==r||r.viewport(0,0,t,n)}}]),e}(),ri=function(e,t,n){var r=n.flipH,i=n.flipV;if(!i&&!r)return e;var o=e.x-t.x,a=e.y-t.y;return{x:e.x-(r?2*o:0),y:e.y-(i?2*a:0)}},ii=function(e){var t=e.width>>1,n=e.height>>1,r=2===e.rotate||3===e.rotate?t:-t,i=1===e.rotate||2===e.rotate?n:-n;return{x:e.centerX+r,y:e.centerY+i}},oi=function(e,t){var n,r={x:t.centerX,y:t.centerY},i={x:t.width>>1,y:t.height>>1},o=ii(t),a=null!==(n=e.rotate)&&void 0!==n?n:0,l=t.angle*((t.flipH+t.flipV)%2?-1:1),c=(K+a-(t.rotate*$+l))%K,u=J(o,t.angle,r),s={x:e.x+(e.width>>1),y:e.y+(e.height>>1)},f=ri(s,i,{flipV:!!t.flipV,flipH:!!t.flipH}),d=f.x,p=f.y,h=(t.angle+t.rotate*$)/q*Math.PI,g=d*Math.cos(h)+p*Math.sin(h),v=d*Math.sin(h)-p*Math.cos(h),m=u.x+g,y=u.y-v,b={x:m-(e.width>>1),y:y-(e.height>>1)};return{x:b.x,y:b.y,rotate:c}},ai=function(e,t,n){var r,i={x:t.centerX,y:t.centerY},o={x:t.width>>1,y:t.height>>1},a=ii(t),l=null!==(r=e.rotate)&&void 0!==r?r:0,c=J(a,t.angle,i),u=e.x+(e.width>>1),s=e.y+(e.height>>1),f=u-c.x,d=s-c.y,p=(t.rotate*$+t.angle)*Math.PI/q,h={x:f*Math.cos(p)-d*Math.sin(p),y:f*Math.sin(p)+d*Math.cos(p)},g=ri(h,o,{flipV:!!t.flipV,flipH:!!t.flipH}),v={x:g.x-(e.width>>1),y:g.y-(e.height>>1)},m=(l+n.rotate+K)%K;return{x:v.x,y:v.y,rotate:((n.flipV!==n.flipH?-m:m)+K)%K}},li=n(97461);function ci(e){return/.*\.tistory\.com.*/.test(e)?"tistory.com":e}var ui=new(function(){function e(){re(this,e),s(this,"__$photoEditor",void 0),s(this,"__editorTrackerInstance",void 0)}return oe(e,[{key:"init",value:function(e,t,n){this.__$photoEditor=t;var r,i=document.location.hostname;this.__editorTrackerInstance=new li.EditorTracker({service:{key:(r=i,/.*\.tistory\.com.*/.test(r)?"tistory-web":/.*cafe\.daum\.net.*/.test(r)?"cafe-web":"etc-web"),domain:null!=n?n:ci(i)},editor:{version:"photos-web-".concat(e)},trackDomain:"https://kelog.kakao.com/api/event"})}},{key:"startLogging",value:function(){var e,t=this;if(this.__editorTrackerInstance&&this.__$photoEditor){try{this.__editorTrackerInstance.send({event:"load"})}catch(e){}qr=function(e){return t.__sendClickLog(e)},null===(e=this.__$photoEditor)||void 0===e||e.addEventListener("click",qr,{capture:!0})}}},{key:"endLogging",value:function(){var e;this.__editorTrackerInstance&&this.__$photoEditor&&(null===(e=this.__$photoEditor)||void 0===e||e.removeEventListener("click",qr))}},{key:"getClickAction",value:function(e){return this.__editorTrackerInstance&&this.__$photoEditor?this.__editorTrackerInstance.getClickAction(e):null}},{key:"setAction",value:function(e){this.__editorTrackerInstance&&this.__$photoEditor&&this.__editorTrackerInstance.setAction(e)}},{key:"__sendClickLog",value:function(e){var t;if(this.__editorTrackerInstance&&this.__$photoEditor){var n=null!==(t=this.__editorTrackerInstance.action)&&void 0!==t?t:this.__editorTrackerInstance.getClickAction(e.target);if(n)try{this.__editorTrackerInstance.send(n)}catch(e){}}}}]),e}()),si=n(67294),fi=n(20745),di=n(61688),pi=n(52798),hi=n(73935);let gi=function(e){e()};const vi=()=>gi,mi=(0,si.createContext)(null);function yi(){return(0,si.useContext)(mi)}let bi=()=>{throw new Error("uSES not initialized!")};const wi=(e,t)=>e===t;function xi(e=mi){const t=e===mi?yi:()=>(0,si.useContext)(e);return function(e,n=wi){const{store:r,subscription:i,getServerState:o}=t(),a=bi(i.addNestedSub,r.getState,o||r.getState,e,n);return(0,si.useDebugValue)(a),a}}const Ei=xi();n(8679),n(59864);const Si={notify(){},get:()=>[]};function Oi(e,t){let n,r=Si;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=vi();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Si)},getListeners:()=>r};return a}const _i=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?si.useLayoutEffect:si.useEffect;let ki=null;var Pi=function({store:e,context:t,children:n,serverState:r}){const i=(0,si.useMemo)((()=>{const t=Oi(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0}}),[e,r]),o=(0,si.useMemo)((()=>e.getState()),[e]);_i((()=>{const{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),o!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[i,o]);const a=t||mi;return si.createElement(a.Provider,{value:i},n)};function Ci(e=mi){const t=e===mi?yi:()=>(0,si.useContext)(e);return function(){const{store:e}=t();return e}}const Di=Ci();function Ti(e=mi){const t=e===mi?Di:Ci(e);return function(){return t().dispatch}}const ji=Ti();var Ni,Mi;Ni=pi.useSyncExternalStoreWithSelector,bi=Ni,(e=>{ki=e})(di.useSyncExternalStore),Mi=hi.unstable_batchedUpdates,gi=Mi;n(94500);var Ii="0.2.7";function Ri(e,t){return Ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ri(e,t)}function Ai(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ri(e,t)}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Li(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zi(e)}function Fi(e){return Fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fi(e)}var Ui=n(81763),Hi=n.n(Ui);function Bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fi(e);if(t){var i=Fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Li(this,n)}}var Wi=function(e){Ai(n,e);var t=Xi(n);function n(){return re(this,n),t.apply(this,arguments)}return oe(n,[{key:"name",get:function(){return"SET_CROP_RANGE"}},{key:"execute",value:function(e){var t,n=l(e.sizeString.split(" * ").map((function(e){return Number(e)})),2),r=n[0],i=n[1];if(Hi()(r)&&Hi()(i)&&(t=i,r>=100&&t>=100)){var o=this._store.getState().pipeline.crop;o.width=r,o.height=i,this._store.dispatch(rr({key:"crop",history:Vi({},o)}))}else alert("자르기 범위는 ".concat(100,"px 이상이고 원본 크기 이하여야합니다."));return!0}}]),n}(oe((function e(t){re(this,e),s(this,"_store",void 0),this._store=t}))),Yi=n(94184),$i=n.n(Yi);var qi=function(){return si.createElement("div",{className:"direct-link"},si.createElement("a",{href:"#mainContent"},"본문 바로가기"),si.createElement("a",{href:"#gnbContent"},"메뉴 바로가기"))},Ki=n(47037),Gi=n.n(Ki),Qi=function(e){var t=e.id,n=e.currentValue,r=void 0===n?0:n,i=e.min,o=void 0===i?0:i,a=e.max,c=void 0===a?100:a,u=e.disableStatus,s=e.label,f=e.isInput,d=e.step,p=void 0===d?1:d,h=e.isTwoWay,g=e.isInLayer,v=e.removeTopMargin,m=e.changeValue,y=e.updateValue,b=e.defaultValue,w=e.title,x=e.hide,E=l((0,si.useState)(r),2),S=E[0],O=E[1],_=l((0,si.useState)(!1),2),k=_[0],P=_[1],C=(0,si.useRef)(null),D=(0,si.useRef)(null),T=function(e){var t=e.target.value;if(""!==t&&"-"!==t){var n=function(e){return e.match(/^-?\d*\.{0,1}\d+$/)}(t);if(n){var r=parseFloat(t);if(!isNaN(r)){var i=Math.max(Math.min(r,c),Math.min(0,o));O(i)}}else O(b||0)}else O(t)},j=function(){if(Gi()(S)){var e=b||0;O(e),y&&y(e)}if(Hi()(S)&&y){var t=Math.max(Math.min(S,c),o);O(t),y(t)}};return(0,si.useEffect)((function(){r!==S&&O(r)}),[r]),(0,si.useEffect)((function(){if(Hi()(S)){var e=Math.max(Math.min(S,c),o),t=Math.round((e-o)/(c-o)*100);D.current&&C.current&&(h?(D.current.style.left="".concat(t,"%"),C.current.style.left="".concat(Math.min(t,50),"%"),C.current.style.width="".concat(Math.abs(t-50),"%")):(D.current.style.left="".concat(t,"%"),C.current.style.width="".concat(t,"%")),k&&m&&m(e),P(!0))}}),[S]),si.createElement("div",{className:$i()("box_inp_range",{box_inp_range1:s&&!v},{box_inp_range2:g},{disabled:u},{hide:x}),"data-log-action-layer":"".concat(s)},s&&si.createElement("div",{className:"range_lab"},si.createElement("label",{htmlFor:t,className:"lab_g"},s),f&&si.createElement("input",{type:"text",value:S,disabled:u,onChange:T,onBlur:j,className:"range_value"})),si.createElement("input",{type:"range",className:"inp_range",id:t,title:w||s||t,min:o,max:c,step:p,disabled:u,value:S,onChange:T,onMouseUp:j}),si.createElement("div",{className:$i()("range_type",{range_type1:h})},si.createElement("div",{className:"bg_slide_track"}),si.createElement("div",{className:"range_slide_track",ref:C}),si.createElement("div",{className:"range_slide_thumb",ref:D})))},Ji=[{r:0,g:0,b:0},{r:51,g:51,b:51},{r:102,g:102,b:102},{r:157,g:157,b:157},{r:221,g:221,b:221},{r:255,g:255,b:255},{r:238,g:35,b:35},{r:248,g:144,b:9},{r:243,g:192,b:0},{r:13,g:180,b:160},{r:0,g:109,b:215},{r:138,g:61,b:182},{r:126,g:152,b:177},{r:255,g:193,b:200},{r:255,g:201,b:175},{r:246,g:225,b:153},{r:159,g:238,b:195},{r:153,g:206,b:250},{r:193,g:190,b:249},{r:192,g:209,b:231},{r:239,g:83,b:105},{r:239,g:111,b:83},{r:166,g:188,b:0},{r:64,g:157,b:0},{r:5,g:147,b:211},{r:97,g:100,b:198},{r:140,g:179,b:190},{r:120,g:27,b:51},{r:149,g:59,b:52},{r:95,g:109,b:43},{r:27,g:113,b:29},{r:26,g:84,b:144},{r:87,g:51,b:177},{r:69,g:103,b:113}],Zi=[{r:221,g:221,b:221},{r:255,g:255,b:255},{r:255,g:193,b:200},{r:255,g:201,b:175},{r:246,g:225,b:153},{r:159,g:238,b:195},{r:153,g:206,b:250},{r:193,g:190,b:249},{r:192,g:209,b:231}];function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var to=function(e){var t=e.r,n=e.g;return(e.b<<16)+(n<<8)+t},no=function(e){var t=e.type,n=e.open,r=e.selectedColor,i=void 0===r?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ji[0]):r,o=e.position,a=e.onColorChange,c=e.toggleDispatch,u=e.onBlur,f=l((0,si.useState)(!1),2),d=f[0],p=f[1];return si.createElement("div",{className:$i()("opt_edit",{opt_open:n}),onClick:function(e){var t=e.target;if(!n)return de(t)&&t.focus(),void c();pe(t)||c()},onBlur:function(){d||u()},onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},"data-log-action-layer":"".concat("fore"===t?"fontcolor":"backgroundcolor")},si.createElement("strong",{className:"screen_out"},"fore"===t?"글자색상":"배경색상"),si.createElement("a",{href:"#none",className:"link_selected link_selected1 colorPalette",onClick:function(e){return e.preventDefault()}},"fore"===t?"글자색":"배경색",si.createElement("span",{className:"dot_color"},si.createElement("span",{className:"inner_dot",style:{backgroundColor:"string"==typeof i?i:"rgb(".concat(i.r,", ").concat(i.g,", ").concat(i.b,")")}}))),si.createElement("div",{className:"box_opt1",style:"right"===o?{left:"auto",right:"0"}:{}},si.createElement("em",{className:"screen_out"},"선택옵션"),si.createElement("ul",{className:"list_opt",onMouseDown:function(e){var t=e.target;if(fe(t)){var n=t.dataset.color;if(n){var r,i="transparent"!==n?{r:(r=Number(n))%256,g:(r>>8)%256,b:r>>16}:n;a(i)}}}},si.createElement("li",{className:"opt_g"},si.createElement("button",{type:"button",className:"btn_color btn_color1",style:{backgroundColor:"transparent"},"data-color":"transparent"})),Ji.map((function(e,t){var n=!(!i||"transparent"===i)&&(i.r===e.r&&i.g===e.g&&i.b===e.b),r=Zi.includes(e);return si.createElement("li",{key:t,className:"opt_g"},si.createElement("button",{type:"button",className:$i()("btn_color",{btn_color2:n&&!r,btn_color3:n&&r,btn_color4:!n&&255===e.r&&255===e.g&&255===e.b}),style:{backgroundColor:"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")},"data-color":to(e)}))}))),si.createElement(Qi,{id:"color-palette-slider",label:"불투명도",min:10,max:100,defaultValue:10,currentValue:i&&"transparent"!==i&&void 0!==i.a?i.a:_,isInput:!0,isInLayer:!0,removeTopMargin:!0,updateValue:function(e){i&&"transparent"!==i&&(i.a=e,a(i))}})))},ro=[{text:"기본서체",style:'AppleSDGothicNeo-Regular,"Malgun Gothic","맑은 고딕",dotum,"돋움",sans-serif'},{text:"본고딕 R",style:"Noto Sans Demilight, Noto Sans KR"},{text:"본고딕 L",style:"Noto Sans Light"},{text:"나눔고딕",style:"Nanum Gothic"},{text:"본명조",style:"Noto Serif KR"}],io=function(e){var t=e.open,n=e.position,r=e.fontStyle,i=e.styleChange,o=e.toggleDispatch,a=e.onBlur;return si.createElement("div",{className:$i()("opt_edit",{opt_open:t}),onClick:function(e){var n=e.target;!t&&de(n)&&n.focus(),o()},onBlur:a,"data-log-action-layer":"fontstyle"},si.createElement("strong",{className:"screen_out"},"폰트선택상자"),si.createElement("a",{href:"#none",className:"link_selected",onClick:function(e){return e.preventDefault()}},function(e){for(var t=0;t<ro.length;t++)if(ro[t].style===e)return ro[t].text;return ro[0].text}(r)),si.createElement("div",{className:"box_opt",style:"right"===n?{left:"auto",right:"0"}:{}},si.createElement("em",{className:"screen_out"},"선택옵션"),si.createElement("ul",{className:"list_opt",onMouseDown:function(e){var t=e.target;if(de(t)){var n=t.dataset,r=n.text,o=n.style;i(r||"기본서체",o||"");var a=ui.getClickAction(t);a&&ui.setAction(a)}}},ro.map((function(e,t){var n=e.text,r=e.style;return si.createElement("li",{key:t,className:"opt_g","data-log-action-ordnum":"".concat(t)},si.createElement("a",{href:"#none",style:{fontFamily:r},"data-text":n,"data-style":r},n))})))))},oo=function(e){var t=e.id,n=e.children,r=e.root,i=e.selector,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return"string"==typeof e?document.querySelector(e):e}(r)||document.body,a=o.querySelector("#".concat(t))||function(e,t){var n=document.createElement("div");return n.id=e,(t?document.querySelector(t)||document.querySelector(".ke_photos")||document.body:document.querySelector(".ke_photos")||document.body).appendChild(n),n}(t,i);return hi.createPortal(n,a,t)},ao=n.p+"images/956e99de578c6cf13389.gif",lo=function(e){var t=e.selector,n=e.width,r=e.height;return t?si.createElement(oo,{id:"loading-portal",selector:t},si.createElement("div",{className:"box_loading",style:{width:n,height:r}},si.createElement("img",{src:ao,width:"80",height:"80"}))):si.createElement("div",{className:"box_loading",style:{width:n,height:r}},si.createElement("img",{src:ao,width:"80",height:"80"}))},co=function(e){var t=e.open,n=e.dispatch,r=e.root,i=e.children,o=(0,si.useCallback)((function(){n(!1)}),[t]);return t?si.createElement(oo,{root:r,id:"modal-portal",selector:".ke_photos .container-doc"},si.createElement("div",{className:"dimmed_layer",onClick:o}),si.createElement("div",{className:"editor_layer"},i)):null},uo=function(e){var t=e.open,n=e.dispatch,r=e.onSubmit,i=e.onCancel,o=e.title,a=e.description,l=(0,si.useCallback)((function(){n(!1)}),[t]),c=(0,si.useCallback)((function(){r&&r(),l()}),[t]),u=(0,si.useCallback)((function(){i&&i(),l()}),[t]);return si.createElement(co,{open:t,dispatch:n},si.createElement("div",{className:"inner_layer"},si.createElement("div",{className:"layer_body"},si.createElement("strong",{className:"em_editor"},o),si.createElement("p",{className:"desc_editor"},a)),si.createElement("div",{className:"layer_foot"},si.createElement("button",{type:"button",className:"btn_layer",onClick:u},"취소"),si.createElement("button",{type:"button",className:"btn_layer btn_layer1",onClick:c},"확인"))))},so=function(e){var t=e.root,n=e.open,r=e.dispatch,i=e.type,o=e.message,a=e.x,c=e.y,u=e.duration,s=e.onDisplay,f=e.onDismiss,d=l((0,si.useState)(!!n),2),p=d[0],h=d[1],g=i||"desc",v={top:c||0,left:a||0},m=(0,si.useCallback)((function(){p&&(h(!1),r&&r(!1),f&&f())}),[p]);(0,si.useEffect)((function(){var e=setTimeout((function(){m()}),u||3e3);return function(){clearTimeout(e),m()}}),[]),(0,si.useEffect)((function(){return h(!!n)}),[n]),(0,si.useEffect)((function(){p&&s&&s()}),[p]);var y;return si.createElement(oo,{root:t,id:"toast-portal",selector:".ke_photos .box_canvas"},si.createElement("div",{className:$i()("inner_toast",g,{hide:!p}),style:v,onClick:m},si.createElement("p",{className:"desc_toast",dangerouslySetInnerHTML:(y=o,{__html:y?y.replaceAll("\r\n","<br>"):""})})))},fo=function(e){var t=e.name,n=e.id,r=e.isAuto,i=e.handleAutoStatus;return si.createElement("div",{className:"box_edit"},si.createElement("div",{className:"btn_type1 btn_type2 btn_inp"},si.createElement("input",{type:"checkbox",className:"inp_g",id:n,checked:r,onChange:i,"data-log-action-layer":"".concat(t.split(" ").join(""))}),si.createElement("label",{htmlFor:n,className:"lab_toggle"},si.createElement("span",{className:"txt_lab"},t),si.createElement("span",{className:"ico_g"}))))},po=function(e){var t=e.open,n=e.dispatch,r=e.arrow,i=e.x,o=e.y,a=e.duration,l=e.selector,c=e.children,u=(0,si.useRef)(null),s={top:o||0,left:i||0},f=(0,si.useCallback)((function(){var e;null===(e=u.current)||void 0===e||e.classList.add("fade-out")}),[t]),d=function(e){var t=e.target;if(se(t)){var r=t.classList;r.contains("fade-in")?r.remove("fade-in"):r.contains("fade-out")&&(r.remove("fade-out"),r.add("hide"),n(!1))}};return(0,si.useEffect)((function(){if(t){var e=setTimeout((function(){f()}),a||3e3);return function(){clearTimeout(e),f()}}}),[t]),l?si.createElement(oo,{id:"tooltip-portal",selector:l},si.createElement("div",{ref:u,className:"area_tooltip fade-in ".concat("arrow-".concat(r||"bottom")," ",t?"":"hide"),style:s,onAnimationEnd:d},c,si.createElement("button",{type:"button",className:"btn_ico btn_close_tooltip",onClick:f},"닫기"))):si.createElement("div",{ref:u,className:"area_tooltip fade-in ".concat("arrow-".concat(r||"bottom")," ",t?"":"hide"),style:s,onAnimationEnd:d},c,si.createElement("button",{type:"button",className:"btn_ico btn_close_tooltip",onClick:f},"닫기"))},ho={left:"왼쪽정렬",center:"중앙정렬",right:"오른쪽정렬"},go=function(e){var t=e.align,n=e.alignCallback;return si.createElement("button",{type:"button",className:"btn_align_".concat(t||"left"),onClick:n,"data-log-action-layer":"".concat(t||"left")},ho[t||"left"])},vo=function(e){var t=e.on,n=e.onClick;return si.createElement("button",{type:"button",className:$i()("btn_bold",{on:t}),onClick:n,"data-log-action-layer":"bold"},"굵게")},mo=function(e){var t=e.on,n=e.onClick;return si.createElement("button",{type:"button",className:$i()("btn_italic",{on:t}),onClick:n,"data-log-action-layer":"italic"},"이탤릭체")},yo=function(e){var t=e.on,n=e.onClick;return si.createElement("button",{type:"button",className:$i()("btn_underline",{on:t}),onClick:n,"data-log-action-layer":"underline"},"밑줄")},bo=function(e){var t=e.tab,n=e.list,r=e.onClick,i=(0,si.useCallback)((function(e){return function(t){t.preventDefault(),r(e)}}),[]);return si.createElement("ul",{className:"list_tab"},n.map((function(e){var n=e.key,r=e.name;return si.createElement("li",{key:n,className:$i()({on:t===n})},si.createElement("a",{onClick:i(n),"data-log-action-layer":"".concat(r)},r))})))};var wo={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let xo;const Eo=new Uint8Array(16);function So(){if(!xo&&(xo="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xo(Eo)}const Oo=[];for(let e=0;e<256;++e)Oo.push((e+256).toString(16).slice(1));function _o(e,t=0){return(Oo[e[t+0]]+Oo[e[t+1]]+Oo[e[t+2]]+Oo[e[t+3]]+"-"+Oo[e[t+4]]+Oo[e[t+5]]+"-"+Oo[e[t+6]]+Oo[e[t+7]]+"-"+Oo[e[t+8]]+Oo[e[t+9]]+"-"+Oo[e[t+10]]+Oo[e[t+11]]+Oo[e[t+12]]+Oo[e[t+13]]+Oo[e[t+14]]+Oo[e[t+15]]).toLowerCase()}var ko=function(e,t,n){if(wo.randomUUID&&!t&&!e)return wo.randomUUID();const r=(e=e||{}).random||(e.rng||So)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return _o(r)},Po=n.p+"images/586e35e0126c7e0b674d.svg",Co=0,Do=1,To=2,jo=3,No=function(e){return void 0!==e.cx},Mo=function(e){return e.cx&&e.cy&&e.radius?{startX:e.cx-e.radius,startY:e.cy-e.radius,width:2*e.radius,height:2*e.radius,id:e.id?e.id:void 0,angle:e.angle}:{startX:0,startY:0,width:0,height:0,id:e.id?e.id:void 0,angle:0}},Io=function(e){return e===Do?"move":e===To?"pointer":e===jo?"nwse-resize":"default"};function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ao=18,zo=function(e,t,n,r,i,o,c,u,f,p,g){var v=t.width,m=t.height,y=l((0,si.useState)(null),2),b=y[0],w=y[1],x=l((0,si.useState)(!0),2),E=x[0],S=x[1],O=(0,si.useRef)({}),_=(0,si.useRef)(u?u(p):null),k=(0,si.useRef)({}),P=l((0,si.useState)(Co),2),C=P[0],D=P[1],T=(0,si.useRef)(!1),j=(0,si.useRef)(!1),N=function(){e.current&&(e.current.width=v,e.current.height=m,e.current.style.width="".concat(v,"px"),e.current.style.height="".concat(m,"px"))},I=function e(){return new Promise((function(t){try{var n=document.createElement("canvas"),r=new Image;r.onload=function(){var e;n.width=Ao,n.height=Ao,null===(e=n.getContext("2d"))||void 0===e||e.drawImage(r,0,0,Ao,Ao),S(!1),t(n)},r.src=Po}catch(t){setTimeout((function(){return e()}),0)}}))},R=function(){var e=d(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return t=e.sent,w(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(t){if(!e.current)return{x:void 0,y:void 0};var n=e.current.getBoundingClientRect();return{x:Math.floor((t.clientX-n.left)/i),y:Math.floor((t.clientY-n.top)/i)}},z=function(){var t;e.current&&(null===(t=e.current.getContext("2d"))||void 0===t||t.clearRect(0,0,e.current.width,e.current.height))},L=function(){var t=d(h().mark((function t(n){var r,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current&&!M()(n)){t.next=2;break}return t.abrupt("return");case 2:if(b){t.next=8;break}return t.next=5,R();case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=b;case 9:if(r=t.t0){t.next=12;break}return t.abrupt("return");case 12:if(o=e.current.getContext("2d")){t.next=15;break}return t.abrupt("return");case 15:o.save(),n.angle&&(o.translate(n.startX+n.width/2,n.startY+n.height/2),o.rotate(n.angle*Math.PI/180),o.translate(-(n.startX+n.width/2),-(n.startY+n.height/2))),o.drawImage(r,0,0,null==r?void 0:r.width,null==r?void 0:r.height,n.startX-r.width/i,n.startY-r.height/i,r.width/i,r.height/i),o.beginPath(),o.arc(n.startX+n.width,n.startY+n.height,6/i,0,2*Math.PI),o.fillStyle="#ffffff",o.fill(),o.stroke(),o.restore();case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(t){if(e.current){var n=e.current.getContext("2d");n&&(n.clearRect(0,0,e.current.width,e.current.height),n.save(),n.strokeStyle="#ffffff",n.lineWidth=1/i,t.angle&&(n.translate(t.startX+t.width/2,t.startY+t.height/2),n.rotate(t.angle*Math.PI/180),n.translate(-(t.startX+t.width/2),-(t.startY+t.height/2))),n.strokeRect(t.startX,t.startY,t.width,t.height),n.restore())}},U=function(e){var t=e.x,n=e.y,r=e.minX,o=e.minY,a=e.maxX,c=e.maxY,u=e.angle,s=u?function(e,t,n,r,i){if(!i)return[e,t];var o=G(i);return[(e-n)*Math.cos(o)-(t-r)*Math.sin(o)+n,(e-n)*Math.sin(o)+(t-r)*Math.cos(o)+r]}(t,n,r+(a-r)/2,o+(c-o)/2,-u):[t,n],f=l(s,2),d=f[0],p=f[1];return d>r-Ao/i&&d<r&&p>o-Ao/i&&p<o?To:d>a-6/i&&d<a+6/i&&p>c-6/i&&p<c+6/i?jo:d>r&&d<a&&p>o&&p<c?Do:Co},H=function(e,t,n,r){return{minX:Math.min(e,e+n),minY:Math.min(t,t+r),maxX:Math.max(e,e+n),maxY:Math.max(t,t+r)}},B=function(e){var t=e.x,n=e.y,i=a(r),o=r.findIndex((function(e){return e.id===O.current.id}));o>-1&&(i[o]=O.current);var c=l(i.map((function(e){var r=No(e)?Mo(e):e,i=r,o=i.startX,a=i.startY,l=i.width,c=i.height,u=H(o,a,l,c),s=u.minX,f=u.minY,d=u.maxX,p=u.maxY;return r.offsetType=U({x:t,y:n,minX:s,minY:f,maxX:d,maxY:p,angle:e.angle}),r})).sort((function(e,t){return void 0===e.offsetType||void 0===t.offsetType?1:e.offsetType>t.offsetType?-1:1})),1)[0];c?(O.current=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c),g&&c.id&&c.id!==p&&c.offsetType&&c.offsetType>0&&g(c.id)):O.current={startX:t,startY:n,offsetType:Co}},V=function(t){T.current=!1;var n=r.findIndex((function(e){return e.id===O.current.id}));if(j.current){var i=A(t),l=i.x,u=i.y;if(l&&u){var s,d="circle"===_.current?function(e){var t=Math.min(e.width/2,e.height/2);return{cx:e.startX+t,cy:e.startY+t,radius:t,id:e.id?e.id:void 0,angle:e.angle}}(O.current):O.current;j.current=!1,D(Co),n>-1?(s=a(r).filter((function(e){return e.id!==d.id})),s=[d].concat(a(s))):s=[d].concat(a(r)),null===p&&L(O.current),c(s)}}else{if(O.current.offsetType===Do)return void(f&&f(Do));if(O.current.offsetType===To){z(),o(O.current),O.current={};var h=ui.getClickAction(e.current);return void(h&&(h.layer3="remove-button",ui.setAction(h)))}z()}};return(0,si.useEffect)((function(){var t;if(!n)if(r.length){if(void 0===p||p){var i=l(r,1)[0],o=No(i)?Mo(i):i;O.current=o,_.current=No(i)?"circle":"square",v!==(null===(t=e.current)||void 0===t?void 0:t.width)&&N(),F(o),L(o)}}else z()}),[r,n]),(0,si.useEffect)((function(){e.current&&i&&!n&&(S(!0),N(),!b&&E?R():S(!1),M()(O.current)||(F(O.current),L(O.current)))}),[i,n]),{onMouseDown:function(e){var t=A(e),n=t.x,i=t.y;if(n&&i){B({x:n,y:i});var o=O.current,a=o.startX,l=o.startY,c=o.offsetType;if(c===jo)k.current.x=a,k.current.y=l;else if(k.current.x=n,k.current.y=i,c===Do){if(z(),F(O.current),L(O.current),u){var s=O.current.id;void 0!==s&&(_.current=u(s)||null)}}else c===Co&&g&&r.length&&null!==p&&g(null);T.current=!0}},onMouseMove:function(t){if(f){var n=function(e){if(void 0!==p&&!p)return Co;if(C===Do||C===jo)return C;var t=A(e),n=t.x,i=t.y;if(!n||!i)return Co;var o=void 0===p?r[0]:r.find((function(e){return Object.prototype.hasOwnProperty.call(e,"id")&&e.id===p}));if(!o)return Co;var a=No(o)?Mo(o):o,l=a,c=l.startX,u=l.startY,s=l.width,f=l.height,d=H(c,u,s,f),h=d.minX,g=d.minY,v=d.maxX,m=d.maxY;return U({x:n,y:i,minX:h,minY:g,maxX:v,maxY:m,angle:a.angle})}(t);f(n)}if(T.current)if(function(t){var n=t.pageX,r=t.pageY;if(!e.current)return!0;var i=e.current.getBoundingClientRect(),o=i.top,a=i.left,l=i.right,c=i.bottom;return!(n>a+10&&n<l-10&&r<c-10&&r>o+10)}(t))V(t);else{j.current=!0;var i=A(t),o=i.x,a=i.y;if(o&&a){var l=O.current,c=l.startX,u=l.startY,s=l.offsetType,d=k.current,h=d.x,g=d.y;if(s!==To){if(s===Co||s===jo)if(s===Co?(O.current.id=ko(),O.current.angle&&(O.current.angle=0)):D(jo),"circle"===_.current){var v=Math.min(Math.abs(o-h),Math.abs(a-g));O.current.startX=h>o?h-v:h,O.current.startY=g>a?g-v:g,O.current.width=Math.max(v,20),O.current.height=Math.max(v,20)}else O.current.startX=Math.min(h,o),O.current.startY=Math.min(g,a),O.current.width=Math.max(Math.abs(o-h),20),O.current.height=Math.max(Math.abs(a-g),20);else D(Do),O.current.startX=c+(o-h),O.current.startY=u+(a-g),k.current.x=o,k.current.y=a;z(),F(O.current)}}}},onMouseUp:V,isLoading:E}},Lo=[{name:"원형",icon:"circle",type:"circle"},{name:"사각형",icon:"linear",type:"square"}],Fo=50,Uo=function(e){var t=e.shapes,n=e.currentTab;return si.createElement(si.Fragment,null,si.createElement("h4",{className:"tit_feature1"},"모양"),si.createElement("div",{className:"box_tab1"},si.createElement("h4",{className:"screen_out"},"탭목록"),si.createElement("ul",{className:"list_tab1"},t.map((function(e,t){return si.createElement("li",{className:$i()({on:n&&n.name===e.name}),key:t},si.createElement("a",{onClick:function(){return function(e){e&&e.callback&&e.callback(e)}(e)},"data-log-action-layer":"".concat(e.name)},si.createElement("span",{className:$i()("ico_txt","txt_".concat(e.icon))},e.name)))})))))},Ho=n(50361),Bo=n.n(Ho);function Vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fi(e);if(t){var i=Fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Li(this,n)}}var Xo,Wo=function(e){Ai(n,e);var t=Vo(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,r)).fragmentShader="precision mediump float;\n\nuniform sampler2D u_image;\nuniform vec2 u_image_size;\nuniform vec2 u_resolution;\nuniform mat3 u_kernel;\nuniform float u_strength;\nuniform float u_is_circle;\nuniform vec2 u_data_position;\nuniform vec2 u_data_size;\nuniform float u_data_radius;\nuniform float u_data_radian;\n\nvarying vec2 v_texCoord;\n\n// rect 좌표값을 받아서, rect 내부의 경우 1, 외부의 경우 0을 반환\nvec3 rect(vec2 coord, vec2 location, vec2 size) {\n  vec2 position = (gl_FragCoord.xy - location * u_image_size.xy) / u_image_size.y;\n  float c = cos(u_data_radian);\n  float s = sin(u_data_radian);\n  mat2 rotation = mat2(c, -s, s, c);\n  vec2 pct = step(abs(position * rotation), u_data_size / u_image_size.y * 0.5);\n  return vec3(pct.x * pct.y);\n}\n\n// circle 좌표값을 받아서, circle 내부의 경우 1, 외부의 경우 0을 반환\nvec3 circle(vec2 coord, vec2 location, float radius) {\n  float d;\n  d = length(coord - location);\n  // smoothstep을 사용해야 원과 블러 사이 부드럽게 처리가 됨\n  d = 1.0 - smoothstep(radius, radius + 0.01, d);\n  return vec3(d);\n}\n\nvec4 kawase_blur(vec2 coord, vec2 uv, vec4 color) {\n  color += texture2D(u_image, coord + uv);\n  color += texture2D(u_image, coord - uv);\n  color += texture2D(u_image, coord + uv * vec2(1.0, -1.0));\n  color += texture2D(u_image, coord + uv * vec2(-1.0, 1.0));\n  return color;\n}\n\nvoid main() {\n  vec2 texCoordSample = vec2(0, 0);\n  vec2 textureSize = vec2(1.0 / u_image_size);\n  vec2 textureSize05 = textureSize * 0.5;\n  vec2 uvOffset = textureSize * vec2(u_strength, u_strength) + textureSize05;\n\n  vec4 color = vec4(0, 0, 0, 0);\n  // square\n  if (u_is_circle < 1.0) {\n    vec2 centerLoc = u_data_position + u_data_size * (-0.5, 0.5);\n    vec3 squareOffset = rect(gl_FragCoord.xy / u_image_size.xy, centerLoc / u_image_size, u_data_size / u_image_size);\n    // square 바깥 영역에 블러 처리\n    if (squareOffset.r < 1.0 && squareOffset.g < 1.0 && squareOffset.b < 1.0) {\n      color = kawase_blur(v_texCoord, uvOffset, color);\n    } \n    // square 내부의 경우 이미지 그대로 out\n    else {\n      color = texture2D(u_image, gl_FragCoord.xy / u_image_size.xy);\n    }\n  } \n  // circle\n  else {\n    float circleResolition = min(1.0 / u_image_size.x, 1.0 / u_image_size.y);\n    vec3 circleOffset = circle(gl_FragCoord.xy * vec2(circleResolition), u_data_position * vec2(circleResolition), u_data_radius * circleResolition);\n    // circle 바깥 영역에 블러 처리\n    if (circleOffset.r < 1.0 && circleOffset.g < 1.0 && circleOffset.b < 1.0) {\n      color = kawase_blur(v_texCoord, uvOffset, color);\n    } \n    // circle 내부의 경우 이미지 그대로 out\n    else {\n      color = texture2D(u_image, gl_FragCoord.xy / u_image_size.xy);\n    }\n  }\n  gl_FragColor = color * 0.25;\n}",i}return oe(n,[{key:"setLocations",value:function(e){var t=this.gl,n=this.program;if(t&&n){var r=t.getUniformLocation(n,"u_image");t.uniform1i(r,0);var i=t.getUniformLocation(n,"u_image_size");t.uniform2fv(i,new Float32Array([this.canvas.width,this.canvas.height]));var o=t.getUniformLocation(n,"matrix");t.uniformMatrix4fv(o,!1,new Float32Array(ti)),"circle"===e.type?this.setCircleLocation(e):this.setSquareLocation(e)}}},{key:"drawBlur",value:function(e,t){this.gl&&(this.textures=[],this.framebuffers=[],t&&(this.originalCanvas=t,this.setCanvas(this.canvas,{width:t.width,height:t.height}),this.setImage(t)),this.isCompiled||this.createProgram(),this.setPositionBuffer(),this.setTexCoordBuffer(),this.setLocations(e),this.createFrameBuffers(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.originalImageTexture),this.loopBlurShader(null==e?void 0:e.hardness),this.setFrameBuffer(null,this.canvas.width,this.canvas.height),this.drawCanvas(this.gl))}},{key:"getParsedValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,o=(e-r)/(i-r)*(n-t)+t;return Math.round(100*o)/100}},{key:"drawCanvas",value:function(e){e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),e.flush(),this.updateCanvas()}},{key:"setCircleLocation",value:function(e){var t=this.gl,n=this.program;if(t&&n&&e&&e.position&&e.size){var r=t.getUniformLocation(n,"u_is_circle");t.uniform1f(r,1);var i=t.getUniformLocation(n,"u_data_position");t.uniform2fv(i,new Float32Array([e.position.cx,this.canvas.height-e.position.cy]));var o=t.getUniformLocation(n,"u_data_radius");t.uniform1f(o,e.size.radius)}}},{key:"setSquareLocation",value:function(e){var t=this.gl,n=this.program;if(t&&n&&e&&e.position&&e.size){var r=t.getUniformLocation(n,"u_is_circle");t.uniform1f(r,0);var i=t.getUniformLocation(n,"u_data_position");t.uniform2fv(i,new Float32Array([e.position.startX,this.canvas.height-e.position.startY-e.size.height]));var o=t.getUniformLocation(n,"u_data_size");t.uniform2fv(o,new Float32Array([e.size.width,e.size.height]));var a=e.position.angle?Math.round(e.position.angle*(Math.PI/180)*100)/100:0,l=t.getUniformLocation(n,"u_data_radian");t.uniform1f(l,a)}}},{key:"loopBlurShader",value:function(e){var t=this.gl,n=this.program,r=this.getParsedValue(e,10,100);if(t&&n)for(var i=0;i<4;i++){this.setFrameBuffer(this.framebuffers[i%2],this.canvas.width,this.canvas.height);var o=t.getUniformLocation(n,"u_strength"),a=(i+.5)*(r/100);t.uniform1f(o,a),t.drawArrays(t.TRIANGLE_FAN,0,4),t.bindTexture(t.TEXTURE_2D,this.textures[i%2])}}}]),n}(ni),Yo=function(e,t,n){return"circle"===e?[t.cx,t.cy]:[t.startX+n.width/2,t.startY+n.height/2]},$o=function(e,t,n,r,i){var o=e.type,a=e.position,c=e.size;if(!o||!a||!c)return e;var u=l(Yo(o,a,c),2),s=u[0],f=u[1];if(!s||!f)return e;var d=me(r&&s!==t?s<t?s+2*(t-s):s-2*(s-t):s,!0),p=me(i&&f!==n?f<n?f+2*(n-f):f-2*(f-n):f,!0);return e.position="circle"===o?{cx:d,cy:p}:{startX:d-c.width/2,startY:p-c.height/2},e},qo=function(e,t){var n=t.flipH,r=t.flipV,i=t.rotate,o=t.centerX,a=t.centerY,c=t.angle,u=t.width,s=t.height,f=Bo()(e);return(n||r)&&(f=$o(f,o,a,n,r)),f=function(e,t,n,r,i,o,a,c){var u=e.type,s=e.position,f=e.size;if(!u||!s||!f)return e;var d=l(Yo(u,s,f),2),p=d[0],h=d[1];if(!p||!h)return e;var g=(!c&&t%2?1:-1)*G(t*$+(c?-1:1)*(t%2?1:-1)*(n||0)),v=t%2?a/2:o/2,m=t%2?o/2:a/2,y=me((p-r)*Math.cos(g)-(h-i)*Math.sin(g)+v,!0),b=me((p-r)*Math.sin(g)+(h-i)*Math.cos(g)+m,!0),w=(c?-1:1)*((s.angle||0)+n);if("circle"===u)e.position={cx:y,cy:b,angle:w};else{var x=t%2?f.height:f.width,E=t%2?f.width:f.height;e.position={startX:y-x/2,startY:b-E/2,angle:w},e.size={width:x,height:E}}return e}(f,i,c,o,a,u,s,!(!n&&!r||n&&r)),f},Ko=function(e,t){var n=t.flipH,r=t.flipV,i=t.rotate,o=t.angle,a=t.centerX,c=t.centerY,u=t.width,s=t.height,f=Bo()(e);return f=function(e,t,n,r,i,o,a,c){var u,s=e.type,f=e.position,d=e.size;if(!s||!f||!d)return e;var p=l(Yo(s,f,d),2),h=p[0],g=p[1];if(!h||!g)return e;var v=(!c&&t%2?1:-1)*G(t*$+(c?-1:1)*(t%2?1:-1)*(n||0)),m=t%2?a/2:o/2,y=t%2?o/2:a/2,b=me(1/(Math.pow(Math.cos(v),2)+Math.pow(Math.sin(v),2))*(h-m)*Math.cos(v)+(g-y)*Math.sin(v)+r,!0),w=me(1/(Math.pow(Math.cos(v),2)+Math.pow(Math.sin(v),2))*(-(h-m)*Math.sin(v))+(g-y)*Math.cos(v)+i,!0),x=(c?-1:1)*(((null===(u=e.position)||void 0===u?void 0:u.angle)||0)-n);if("circle"===s)e.position={cx:b,cy:w,angle:x};else{var E=t%2?d.height:d.width,S=t%2?d.width:d.height;e.position={startX:b-E/2,startY:w-S/2,angle:x},e.size={width:E,height:S}}return e}(f,i,o,a,c,u,s,!(!n&&!r||n&&r)),(n||r)&&(f=$o(f,a,c,n,r)),f},Go=function(e,t){return new Promise((function(n,r){try{if(!e)return;Xo||(Xo=new Wo(e)),Xo.drawBlur(t,e);var i=Xo.getImageData();if(!i)return;n(i)}catch(e){r(e)}}))};function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zo=function(e){var t,n=e.isActive,r=e.image,i=e.updateHistory,o=e.updatePipeline,a=e.updatePreview,c=l((0,si.useState)(null),2),u=c[0],s=c[1],f=l((0,si.useState)(Fo),2),d=f[0],p=f[1],h=l((0,si.useState)(Fo),2),g=h[0],v=h[1],m=l((0,si.useState)(Fo),2),y=m[0],b=m[1],w=l((0,si.useState)(!1),2),x=w[0],E=w[1],S=l((0,si.useState)(!1),2),O=S[0],_=S[1],k=Lo.map((function(e){return Jo(Jo({},e),{},{callback:function(e){E(!0),p(u?"circle"===e.type?g:y:d),s(e)}})})),P=function(){var e,t;if(r&&u&&u.type){var n=function(e,t,n,r){var i,o,a,l,c,u,s,f=n.width,d=n.height,p=n.history,h=(null==r?void 0:r.type)!==e,g=!(r&&!h),v=null==p?void 0:p.size,m=v&&v.scale?Math.floor(100/v.scale):100,y=v&&v.scale?Math.floor(200/v.scale):200,b={type:e,hardness:t},w=null==p?void 0:p.crop,x=f,E=d;if(w){var S=w.rotate,O=w.width,_=w.height;if(!O||!_||!Hi()(S))return;x=S%2?_:O,E=S%2?O:_}return"circle"===e?(b.size={radius:g?m:null==r||null===(i=r.size)||void 0===i?void 0:i.radius},b.position={cx:g?x/2:null==r||null===(o=r.position)||void 0===o?void 0:o.cx,cy:g?E/2:null==r||null===(a=r.position)||void 0===a?void 0:a.cy,angle:0}):(b.size={width:g?y:null==r||null===(l=r.size)||void 0===l?void 0:l.width,height:g?y:null==r||null===(c=r.size)||void 0===c?void 0:c.height},b.position={startX:g?x/2-y/2:null==r||null===(u=r.position)||void 0===u?void 0:u.startX,startY:g?E/2-y/2:null==r||null===(s=r.position)||void 0===s?void 0:s.startY,angle:0}),b.id=null!=r&&r.id?r.id:ko(),b}(u.type,d,r,null==r||null===(e=r.history)||void 0===e?void 0:e.blur);R()(n,null===(t=r.history)||void 0===t?void 0:t.blur)||i(n)}};return(0,si.useEffect)((function(){var e,t;t=d,o({shape:(e=u)?e.type:void 0,intensity:t}),x&&P()}),[u,d]),(0,si.useEffect)((function(){var e,t,i;if(r){_(!(null!==(e=r.history)&&void 0!==e&&e.blur)),null!==(t=r.history)&&void 0!==t&&t.blur||E(!1);var o=null!==(i=r.history)&&void 0!==i&&i.blur?{blur:r.history.blur}:{};n&&a(r,o)}}),[null==r||null===(t=r.history)||void 0===t?void 0:t.blur]),(0,si.useEffect)((function(){var e,t;if(_(!(null!=r&&null!==(e=r.history)&&void 0!==e&&e.blur)),v(Fo),b(Fo),null!=r&&null!==(t=r.history)&&void 0!==t&&t.blur){var n,i,o=k.find((function(e){var t,n;return e.type===(null===(t=r.history)||void 0===t||null===(n=t.blur)||void 0===n?void 0:n.type)}));s(o||k[0]),p((null===(n=r.history)||void 0===n||null===(i=n.blur)||void 0===i?void 0:i.hardness)||Fo)}else(u||d!==Fo)&&(s(k[0]),p(Fo));E(!1)}),[null==r?void 0:r.id]),si.createElement("div",{className:$i()("content-snb",{on:n,off:!n}),"data-log-action-layer":"blur-tab"},si.createElement(Uo,{shapes:k,currentTab:u}),si.createElement(Qi,{id:"slider-blur",min:1,max:100,label:"강도",isInput:!0,currentValue:d,changeValue:function(e){return t=e,E(!0),p(t),void("circle"===(null==u?void 0:u.type)?v(t):("square"===(null==u?void 0:u.type)||v(t),b(t)));var t},defaultValue:1,disableStatus:O}))};function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ta=si.forwardRef((function(e,t){var n,r,i=e.editCanvas,o=e.scale,a=e.waitPaint,c=e.updateHistory,u=e.removeHistory,f=Ei((function(e){return e.images})),d=Ei((function(e){return e.preview.selectedId})),p=Ei((function(e){return e.pipeline.blur})),h=l((0,si.useState)(null),2),g=h[0],v=h[1],m=l((0,si.useState)(!1),2),y=m[0],b=m[1],w=l((0,si.useState)([]),2),x=w[0],E=w[1],S=l((0,si.useState)(Co),2),O=S[0],_=S[1],k=B(f,(function(e){return e.id===d})),P=function(e){if(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=l(x,1)[0];if("circle"===e.type){var r=n,i=r.cx,o=r.cy,a=r.radius;t.position={cx:i,cy:o},t.size={radius:a}}else{var c=n,u=c.startX,f=c.startY,d=c.width,p=c.height,h=c.angle;t.position={startX:u,startY:f,angle:h},t.size={width:d,height:p}}return t.id||(t.id=n.id),t}},C=zo(t,(r=i)?{width:r.width,height:r.height}:{width:0,height:0},a,x,o,(function(){k&&(E([]),u())}),E,(function(){return p.shape}),_),D=C.onMouseDown,T=C.onMouseMove,j=C.onMouseUp,N=C.isLoading,M=function(e){var t,n,r,i,o,a,c,u,s;(function(e){if(!x.length)return!0;if(x.length>1)return!0;var t=l(x,1)[0];if("circle"===e.type){var n,r,i,o=t,a=o.cx,c=o.cy,u=o.radius;return!((null===(n=e.position)||void 0===n?void 0:n.cx)===a&&(null===(r=e.position)||void 0===r?void 0:r.cy)===c&&(null===(i=e.size)||void 0===i?void 0:i.radius)===u)}var s,f,d,p,h=t,g=h.startX,v=h.startY,m=h.width,y=h.height;return!((null===(s=e.position)||void 0===s?void 0:s.startX)===g&&(null===(f=e.position)||void 0===f?void 0:f.startY)===v&&(null===(d=e.size)||void 0===d?void 0:d.width)===m&&(null===(p=e.size)||void 0===p?void 0:p.height)===y)})(e)&&("circle"===e.type?E([{cx:(null===(t=e.position)||void 0===t?void 0:t.cx)||0,cy:(null===(n=e.position)||void 0===n?void 0:n.cy)||0,radius:(null===(r=e.size)||void 0===r?void 0:r.radius)||0,angle:null===(i=e.position)||void 0===i?void 0:i.angle}]):E([{startX:(null===(o=e.position)||void 0===o?void 0:o.startX)||0,startY:(null===(a=e.position)||void 0===a?void 0:a.startY)||0,width:(null===(c=e.size)||void 0===c?void 0:c.width)||0,height:(null===(u=e.size)||void 0===u?void 0:u.height)||0,angle:null===(s=e.position)||void 0===s?void 0:s.angle}]))};return(0,si.useEffect)((function(){b(!g||!g.type)}),[g]),(0,si.useEffect)((function(){null!=k&&k.history&&k.history.blur?v(k.history.blur):v({type:p.shape,hardness:p.intensity})}),[p]),(0,si.useEffect)((function(){x.length&&function(){var e;if(k){var t=null!=k&&null!==(e=k.history)&&void 0!==e&&e.blur?k.history.blur:{type:p.shape,hardness:p.intensity},n=P(t);R()(t,n)||c(n)}}()}),[x]),(0,si.useEffect)((function(){var e;null!=k&&null!==(e=k.history)&&void 0!==e&&e.blur?M(k.history.blur):E([])}),[null==k||null===(n=k.history)||void 0===n?void 0:n.blur]),(0,si.useEffect)((function(){t&&(t.current.style.cursor=Io(O))}),[O]),si.createElement("canvas",{className:$i()("canvas-preview blur-layer",{hide:N||y}),ref:t,onMouseDown:D,onMouseUp:j,onMouseMove:T})}));ta.displayName="BlurView";var na=ta,ra=[{name:"원형",icon:"circle",type:"circle"},{name:"사각형",icon:"linear",type:"square"}],ia=50,oa={useFaceDetection:!0},aa=function(e){var t=e.shapes,n=e.currentTab;return si.createElement(si.Fragment,null,si.createElement("h4",{className:"tit_feature1"},"모양"),si.createElement("div",{className:"box_tab1"},si.createElement("h4",{className:"screen_out"},"탭목록"),si.createElement("ul",{className:"list_tab1"},t.map((function(e,t){return si.createElement("li",{className:$i()({on:n&&n.name===e.name}),key:t},si.createElement("a",{onClick:function(){return function(e){e&&e.callback&&e.callback(e)}(e)},"data-log-action-layer":"".concat(e.name)},si.createElement("span",{className:$i()("ico_txt","txt_".concat(e.icon))},e.name)))})))))};function la(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fi(e);if(t){var i=Fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Li(this,n)}}var ca,ua=function(e){Ai(n,e);var t=la(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,r)).fragmentShader="precision mediump float;\n\nuniform sampler2D u_image;\nuniform vec2 u_image_size;\nuniform vec2 u_resolution;\nuniform mat3 u_kernel;\nuniform float u_strength;\nuniform float u_is_circle;\nuniform vec2 u_data_position;\nuniform vec2 u_data_size;\nuniform float u_data_radius;\nuniform float u_data_radian;\n\nvarying vec2 v_texCoord;\n\n// rect 좌표값을 받아서, rect 내부의 경우 0, 외부의 경우 1을 반환\nvec3 rect(vec2 coord, vec2 location, vec2 size) {\n  vec2 position = (gl_FragCoord.xy - location * u_image_size.xy) / u_image_size.y;\n  float c = cos(u_data_radian);\n  float s = sin(u_data_radian);\n  mat2 rotation = mat2(c, -s, s, c);\n  vec2 pct = step(abs(position * rotation), u_data_size / u_image_size.y * 0.5);\n  return vec3(1.0) - vec3(pct.x * pct.y);\n}\n\n// circle 좌표값을 받아서, circle 내부의 경우 0, 외부의 경우 1을 반환\nvec3 circle(vec2 coord, vec2 location, float radius) {\n  float d;\n  d = length(coord - location);\n  // step 사용해야 원과 블러 사이 모자이크처럼 끊긴 느낌으로 구현됨\n  d = step(radius, d);\n  return vec3(d);\n}\n\nvec4 pixelate(vec2 coord, vec2 uv, vec4 color) {\n  color = texture2D(u_image, coord - mod(coord, vec2(1.0 / u_strength / u_image_size.xy)));\n  return color;\n}\n\nvoid main() {\n  vec2 texCoordSample = vec2(0, 0);\n  vec2 textureSize = vec2(1.0 / u_image_size);\n\n  vec4 color = vec4(0, 0, 0, 0);\n  // square\n  if (u_is_circle < 1.0) {\n    vec2 centerLoc = u_data_position + u_data_size * (-0.5, 0.5);\n    vec3 squareOffset = rect(gl_FragCoord.xy / u_image_size.xy, centerLoc / u_image_size, u_data_size / u_image_size);\n    // square 안쪽 영역에 모자이크 처리\n    if (squareOffset.r < 1.0 && squareOffset.g < 1.0 && squareOffset.b < 1.0) {\n      color = pixelate(v_texCoord, gl_FragCoord.xy / u_image_size.xy, color);\n    } \n    // square 내부의 경우 이미지 그대로 out\n    else {\n      color = texture2D(u_image, gl_FragCoord.xy / u_image_size.xy);\n    }\n  } \n  // circle\n  else {\n    float circleResolition = min(1.0 / u_image_size.x, 1.0 / u_image_size.y);\n    vec3 circleOffset = circle(gl_FragCoord.xy * vec2(circleResolition), u_data_position * vec2(circleResolition), u_data_radius * circleResolition);\n    // circle 안쪽 영역에 모자이크 처리\n    if (circleOffset.r < 1.0 && circleOffset.g < 1.0 && circleOffset.b < 1.0) {\n      color = pixelate(v_texCoord, gl_FragCoord.xy / u_image_size.xy, color);\n    } \n    // circle 내부의 경우 이미지 그대로 out\n    else {\n      color = texture2D(u_image, gl_FragCoord.xy / u_image_size.xy);\n    }\n  }\n  gl_FragColor = color;\n}",i}return oe(n,[{key:"getParsedValue",value:function(e){var t=.46-(e-1)/99*.45+.01;return Math.round(100*t)/100}},{key:"setLocations",value:function(){var e=this.gl,t=this.program;if(e&&t){var n=e.getUniformLocation(t,"u_image");e.uniform1i(n,0);var r=e.getUniformLocation(t,"u_image_size");e.uniform2fv(r,new Float32Array([this.canvas.width,this.canvas.height]));var i=e.getUniformLocation(t,"matrix");e.uniformMatrix4fv(i,!1,new Float32Array(ti))}}},{key:"setCircleLocation",value:function(e){var t=this.gl,n=this.program;if(t&&n&&e&&e.position&&e.size){var r=t.getUniformLocation(n,"u_is_circle");t.uniform1f(r,1);var i=t.getUniformLocation(n,"u_data_position");t.uniform2fv(i,new Float32Array([e.position.cx,this.canvas.height-e.position.cy]));var o=t.getUniformLocation(n,"u_data_radius");t.uniform1f(o,e.size.radius)}}},{key:"setSquareLocation",value:function(e){var t=this.gl,n=this.program;if(t&&n&&e&&e.position&&e.size){var r=t.getUniformLocation(n,"u_is_circle");t.uniform1f(r,0);var i=t.getUniformLocation(n,"u_data_position");t.uniform2fv(i,new Float32Array([e.position.startX,this.canvas.height-e.position.startY-e.size.height]));var o=t.getUniformLocation(n,"u_data_size");t.uniform2fv(o,new Float32Array([e.size.width,e.size.height]));var a=e.position.angle?Math.round(e.position.angle*(Math.PI/180)*100)/100:0,l=t.getUniformLocation(n,"u_data_radian");t.uniform1f(l,a)}}},{key:"loopMosaicShader",value:function(e){var t=this,n=this.gl,r=this.program;n&&r&&e.forEach((function(e,i){t.setFrameBuffer(t.framebuffers[i%2],t.canvas.width,t.canvas.height),"circle"===e.type?t.setCircleLocation(e):t.setSquareLocation(e);var o=e.hardness||0,a=n.getUniformLocation(r,"u_strength"),l=t.getParsedValue(o);n.uniform1f(a,l),n.drawArrays(n.TRIANGLE_FAN,0,4),n.bindTexture(n.TEXTURE_2D,t.textures[i%2])}))}},{key:"drawMosaic",value:function(e,t){this.gl&&(this.textures=[],this.framebuffers=[],t&&(this.originalCanvas=t,this.setCanvas(this.canvas,{width:t.width,height:t.height}),this.setImage(t)),this.isCompiled||this.createProgram(),this.setPositionBuffer(),this.setTexCoordBuffer(),this.setLocations(),this.createFrameBuffers(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.originalImageTexture),this.loopMosaicShader(e),this.setFrameBuffer(null,this.canvas.width,this.canvas.height),this.drawCanvas(this.gl))}},{key:"drawCanvas",value:function(e){e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),e.flush(),this.updateCanvas()}}]),n}(ni),sa=function(e,t,n){return"circle"===e?[t.cx,t.cy]:[t.startX+n.width/2,t.startY+n.height/2]},fa=function(e,t,n,r,i){var o=e.type,a=e.position,c=e.size;if(!o||!a||!c)return e;var u=l(sa(o,a,c),2),s=u[0],f=u[1];if(!s||!f)return e;var d=me(r&&s!==t?s<t?s+2*(t-s):s-2*(s-t):s,!0),p=me(i&&f!==n?f<n?f+2*(n-f):f-2*(f-n):f,!0);return e.position="circle"===o?{cx:d,cy:p}:{startX:d-c.width/2,startY:p-c.height/2},e},da=function(e,t,n,r){var i,o,a,l,c,u,s,f=n.width,d=n.height,p=n.history,h=(null==r?void 0:r.type)!==e,g=!(r&&!h),v=null==p?void 0:p.size,m=v&&v.scale?Math.floor(100/v.scale):100,y=v&&v.scale?Math.floor(200/v.scale):200,b={type:e,hardness:t},w=null==p?void 0:p.crop,x=f,E=d;if(w){var S=w.rotate,O=w.width,_=w.height;if(!O||!_||!Hi()(S))return;x=S%2?_:O,E=S%2?O:_}"circle"===e?(b.size={radius:g?m:null==r||null===(i=r.size)||void 0===i?void 0:i.radius},b.position={cx:g?x/2:null==r||null===(o=r.position)||void 0===o?void 0:o.cx,cy:g?E/2:null==r||null===(a=r.position)||void 0===a?void 0:a.cy,angle:0}):(b.size={width:g?y:null==r||null===(l=r.size)||void 0===l?void 0:l.width,height:g?y:null==r||null===(c=r.size)||void 0===c?void 0:c.height},b.position={startX:g?x/2-y/2:null==r||null===(u=r.position)||void 0===u?void 0:u.startX,startY:g?E/2-y/2:null==r||null===(s=r.position)||void 0===s?void 0:s.startY,angle:0});return b.id=null!=r&&r.id?r.id:ko(),b},pa=function(e,t){var n=t.flipH,r=t.flipV,i=t.rotate,o=t.centerX,a=t.centerY,c=t.angle,u=t.width,s=t.height,f=Bo()(e);return(n||r)&&(f=fa(f,o,a,n,r)),f=function(e,t,n,r,i,o,a,c){var u=e.type,s=e.position,f=e.size;if(!u||!s||!f)return e;var d=l(sa(u,s,f),2),p=d[0],h=d[1];if(!p||!h)return e;var g=(!c&&t%2?1:-1)*G(t*$+(c?-1:1)*(t%2?1:-1)*(n||0)),v=t%2?a/2:o/2,m=t%2?o/2:a/2,y=me((p-r)*Math.cos(g)-(h-i)*Math.sin(g)+v,!0),b=me((p-r)*Math.sin(g)+(h-i)*Math.cos(g)+m,!0),w=(c?-1:1)*((s.angle||0)+n);if("circle"===u)e.position={cx:y,cy:b,angle:w};else{var x=t%2?f.height:f.width,E=t%2?f.width:f.height;e.position={startX:y-x/2,startY:b-E/2,angle:w},e.size={width:x,height:E}}return e}(f,i,c,o,a,u,s,!(!n&&!r||n&&r)),f},ha=function(e,t){var n=t.flipH,r=t.flipV,i=t.rotate,o=t.angle,a=t.centerX,c=t.centerY,u=t.width,s=t.height,f=Bo()(e);return f=function(e,t,n,r,i,o,a,c){var u,s=e.type,f=e.position,d=e.size;if(!s||!f||!d)return e;var p=l(sa(s,f,d),2),h=p[0],g=p[1];if(!h||!g)return e;var v=(!c&&t%2?1:-1)*G(t*$+(c?-1:1)*(t%2?1:-1)*(n||0)),m=t%2?a/2:o/2,y=t%2?o/2:a/2,b=me(1/(Math.pow(Math.cos(v),2)+Math.pow(Math.sin(v),2))*(h-m)*Math.cos(v)+(g-y)*Math.sin(v)+r,!0),w=me(1/(Math.pow(Math.cos(v),2)+Math.pow(Math.sin(v),2))*(-(h-m)*Math.sin(v))+(g-y)*Math.cos(v)+i,!0),x=(c?-1:1)*(((null===(u=e.position)||void 0===u?void 0:u.angle)||0)-n);if("circle"===s)e.position={cx:b,cy:w,angle:x};else{var E=t%2?d.height:d.width,S=t%2?d.width:d.height;e.position={startX:b-E/2,startY:w-S/2,angle:x},e.size={width:E,height:S}}return e}(f,i,o,a,c,u,s,!(!n&&!r||n&&r)),(n||r)&&(f=fa(f,a,c,n,r)),f},ga=function(e,t){return new Promise((function(n,r){try{if(!e)return;ca||(ca=new ua(e)),ca.drawMosaic(t,e);var i=ca.getImageData();if(!i)return;n(i)}catch(e){r(e)}}))};function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ya=function(e){var t,n,r,i=e.isActive,o=e.image,c=e.pipeline,u=e.updateHistory,s=e.updatePipeline,f=e.updatePreview,p=e.removeHistory,g=Ei((function(e){return e.options.faceDetection})),v=l((0,si.useState)(!1),2),m=v[0],y=v[1],b=l((0,si.useState)(null),2),w=b[0],x=b[1],E=l((0,si.useState)(ia),2),S=E[0],O=E[1],_=l((0,si.useState)(ia),2),P=_[0],D=_[1],T=l((0,si.useState)(ia),2),j=T[0],N=T[1],M=l((0,si.useState)(null),2),I=M[0],R=M[1],A=l((0,si.useState)(!1),2),z=A[0],L=A[1],F=l((0,si.useState)(!1),2),U=F[0],H=F[1],B=l((0,si.useState)(!1),2),V=B[0],X=B[1],W=null==c?void 0:c.selectedId,$=ra.map((function(e){return ma(ma({},e),{},{callback:function(e){L(!0),w&&e.type===w.type?K(!0):(O(w?"circle"===e.type?P:j:S),x(e))}})})),q=function(){var e=d(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.checked,g&&o){e.next=3;break}return e.abrupt("return");case 3:if(!n){e.next=16;break}return e.next=6,Jr(g,o.originData.src,{width:o.width,height:o.height});case 6:if(r=e.sent,(i=r.positions).length){e.next=12;break}return X(!0),setTimeout((function(){X(!1)}),k),e.abrupt("return");case 12:a=i.map((function(e){var t,n=e.x,r=e.y,i=e.w,a=e.h,l=Math.max(i,a)/2,c={type:"circle",hardness:ia,id:ko(),position:{cx:n+l,cy:r+l},size:{radius:l}};return null!==(t=o.history)&&void 0!==t&&t.crop&&(c=pa(c,o.history.crop)),c})),s({selectedId:a[0].id||null}),u(a),R(a);case 16:x($[0]),L(!1),O(ia),y(n);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o&&w&&w.type){var n=null===(e=o.history)||void 0===e?void 0:e.mosaic,r=n?a(n):[],i=r.findIndex((function(e){return e.id===W})),l=n?n.find((function(e){return e.id===W})):void 0;if(w.type!==(null==l?void 0:l.type)||t){var c=da(w.type,S,o);if(!c)return;r=[c].concat(a(r)),c.id&&s({selectedId:c.id})}else{var f=da(w.type,S,o,l);if(!f)return;r[i]=f}Y(n,r)||u(r)}},G=function(e,t){return H(!e||!t||!t.length)};return(0,si.useEffect)((function(){var e,t;t=S,s({shape:(e=w)?e.type:void 0,intensity:t}),z&&K()}),[w,S]),(0,si.useEffect)((function(){var e,t,n;if(o){m&&!Y(null===(e=o.history)||void 0===e?void 0:e.mosaic,I)&&(L(!1),y(!1),R(null));var r=null!==(t=o.history)&&void 0!==t&&t.mosaic?{mosaic:o.history.mosaic}:{};i&&f(o,r),G(W,null===(n=o.history)||void 0===n?void 0:n.mosaic)}}),[null==o||null===(t=o.history)||void 0===t?void 0:t.mosaic]),(0,si.useEffect)((function(){var e;if(o){if(D(ia),N(ia),null!==(e=o.history)&&void 0!==e&&e.mosaic){var t=l(o.history.mosaic,1)[0],n=$.find((function(e){return e.type===t.type}));x(n||$[0]),O(t.hardness||ia)}else x($[0]),O(ia);L(!1),y(!1)}}),[null==o?void 0:o.id]),(0,si.useEffect)((function(){var e,t,n;if(G(W,null==o||null===(e=o.history)||void 0===e?void 0:e.mosaic),W&&null!=o&&null!==(t=o.history)&&void 0!==t&&t.mosaic){var r=null==o||null===(n=o.history)||void 0===n?void 0:n.mosaic.find((function(e){return e.id===W})),i=r.type,a=r.hardness,l=$.find((function(e){return e.type===i}));l&&a&&((null==w?void 0:w.type)===l.type&&a===S||((null==w?void 0:w.type)!==l.type&&x(l),a!==S&&O(a),L(!1)))}}),[W]),si.createElement("div",{className:$i()("content-snb",{on:i,off:!i}),"data-log-action-layer":"mosaic-tab"},g&&si.createElement("div",null,si.createElement(fo,{name:"자동 인식",id:"autoRecognition",isAuto:m,handleAutoStatus:q})),si.createElement(aa,{shapes:$,currentTab:w}),si.createElement(Qi,{id:"slider-mosaic",min:1,max:100,label:"강도",isInput:!0,disableStatus:U,currentValue:S,changeValue:function(e){return t=e,L(!0),O(t),void("circle"===(null==w?void 0:w.type)?D(t):("square"===(null==w?void 0:w.type)||D(t),N(t)));var t},defaultValue:1}),si.createElement("p",{className:"desc_feature"},"사진 위에 드래그해서 모자이크를 추가할 수 있습니다."),si.createElement("div",{className:"box_edit"},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:!(null!=o&&null!==(n=o.history)&&void 0!==n&&n.mosaic)}),disabled:!(null!=o&&null!==(r=o.history)&&void 0!==r&&r.mosaic),onClick:function(e){var t;fe(e.target)&&(e.target.blur(),o&&null!==(t=o.history)&&void 0!==t&&t.mosaic&&o.history.mosaic.length&&(p(),s({selectedId:null})))},"data-log-action-layer":"removeall"},"전체 삭제")),V&&si.createElement(so,{open:V,x:"50%",y:"50%",duration:k,message:C}))};function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wa=si.forwardRef((function(e,t){var n,r,i=e.editCanvas,o=e.scale,a=e.waitPaint,c=e.updateHistory,u=e.updatePipeline,f=e.removeHistory,d=Ei((function(e){return e.images})),p=Ei((function(e){return e.preview.selectedId})),h=Ei((function(e){return e.pipeline.mosaic})),g=l((0,si.useState)(null),2),v=g[0],m=g[1],y=l((0,si.useState)(!1),2),b=y[0],w=y[1],x=l((0,si.useState)([]),2),E=x[0],S=x[1],O=l((0,si.useState)(Co),2),_=O[0],k=O[1],P=B(d,(function(e){return e.id===p})),C=function(e){return u({selectedId:e})},D=function(e){return E.map((function(t){var n=e.find((function(e){return e.id===t.id}));n||((n={}).type=null==v?void 0:v.type,n.hardness=null==v?void 0:v.hardness,n.id=t.id?t.id:void 0);var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);if("circle"===r.type){var i=t,o=i.cx,a=i.cy,l=i.radius,c=i.angle;r.position={cx:o,cy:a,angle:c},r.size={radius:l}}else{var u=t,f=u.startX,d=u.startY,p=u.width,h=u.height,g=u.angle;r.position={startX:f,startY:d,angle:g},r.size={width:p,height:h}}return r}))},T=zo(t,(r=i)?{width:r.width,height:r.height}:{width:0,height:0},a,E,o,(function(e){var t;if(e&&P){var n=null==P||null===(t=P.history)||void 0===t?void 0:t.mosaic,r=(null==n?void 0:n.filter((function(t){return t.id!==e.id})))||[],i=E.filter((function(t){return t.id!==e.id}))||[];S(i),r.length?c(r):f(),C(null)}}),S,(function(e){var t;if(void 0===e||null==P||null===(t=P.history)||void 0===t||!t.mosaic)return h.shape;var n=P.history.mosaic.find((function(t){return t.id===e}));return(null==n?void 0:n.type)||h.shape}),k,h.selectedId,C),j=T.onMouseDown,N=T.onMouseMove,M=T.onMouseUp,I=T.isLoading;return(0,si.useEffect)((function(){w(!v||!v.type)}),[v]),(0,si.useEffect)((function(){var e;null!=P&&P.history&&null!==(e=P.history.mosaic)&&void 0!==e&&e.length?m(P.history.mosaic[0]):m({type:h.shape,hardness:h.intensity})}),[h]),(0,si.useEffect)((function(){E.length&&function(){var e;if(P){var t=(null===(e=P.history)||void 0===e?void 0:e.mosaic)||[],n=D(t);JSON.stringify(t)!==JSON.stringify(n)&&(c(n),null!=n&&n.length&&h.selectedId!==n[0].id&&C(n[0].id||null))}}()}),[E]),(0,si.useEffect)((function(){var e;null!=P&&null!==(e=P.history)&&void 0!==e&&e.mosaic?function(e){var t=D(e);if(!Y(e,t)){var n=e.map((function(e){var t,n,r,i,o,a,l,c,u;return"circle"===e.type?{cx:(null===(t=e.position)||void 0===t?void 0:t.cx)||0,cy:(null===(n=e.position)||void 0===n?void 0:n.cy)||0,radius:(null===(r=e.size)||void 0===r?void 0:r.radius)||0,id:e.id||void 0,angle:null===(i=e.position)||void 0===i?void 0:i.angle}:{startX:(null===(o=e.position)||void 0===o?void 0:o.startX)||0,startY:(null===(a=e.position)||void 0===a?void 0:a.startY)||0,width:(null===(l=e.size)||void 0===l?void 0:l.width)||0,height:(null===(c=e.size)||void 0===c?void 0:c.height)||0,id:e.id||void 0,angle:null===(u=e.position)||void 0===u?void 0:u.angle}}));S(n)}}(P.history.mosaic):S([])}),[null==P||null===(n=P.history)||void 0===n?void 0:n.mosaic]),(0,si.useEffect)((function(){t&&(t.current.style.cursor=Io(_))}),[_]),si.createElement("canvas",{className:$i()("canvas-preview mosaic-layer",{hide:I||b}),ref:t,onMouseDown:j,onMouseUp:M,onMouseMove:N})}));wa.displayName="MosaicView";var xa=wa,Ea=function(e,t,n){if(e&&n)return Ko(n,t)},Sa=function(e,t,n){if(e&&n)return n.map((function(e){return ha(e,t)}))},Oa=function(e,t){if(e&&t&&t.scale)return{width:e.width*t.scale,height:e.height*t.scale,scale:t.scale}},_a=function(e,t,n,r,i){if(e&&n){var o=r&&i?Ko(n,i):n;return qo(o,t)}},ka=function(e,t,n,r,i){if(e&&n)return n.map((function(e){var n=r&&i?ha(e,i):e;return pa(n,t)}))},Pa=function(e,t,n){if(e&&n&&Hi()(t.width)&&Hi()(t.height)&&Hi()(t.rotate)){var r=t.width*(n.scale||1),i=t.height*(n.scale||1);return{width:t.rotate%2?i:r,height:t.rotate%2?r:i,scale:n.scale}}},Ca="protractor",Da="cropbox",Ta=512,ja={display:"none"},Na="free",Ma="origin",Ia="origin_r",Ra=[{name:"원본",type:Ma,className:"ico_img_origin"},{name:"자유",type:Na,className:"ico_img_user"},{name:"1:1",type:"1_1",className:"ico_img_1_1"},{name:"4:3",type:"4_3",className:"ico_img_4_3"},{name:"3:2",type:"3_2",className:"ico_img_3_2"},{name:"16:9",type:"16_9",className:"ico_img_16_9"},{name:"2:3",type:"2_3",className:"ico_img_2_3"},{name:"3:4",type:"3_4",className:"ico_img_3_4"}],Aa=/translate\((.?\d+\.?\d*?)px, (.?\d+\.?\d*?)px\)/,za=/scale\((.?\d+\.?\d*?)\)/,La=/scale\((.?\d+\.?\d*?), (.?\d+\.?\d*?)\)/,Fa=/rotateX\((.?\d+\.?\d*?)deg\) rotateY\((.?\d+\.?\d*?)deg\) rotateZ\((.?\d+\.?\d*?)deg\)/,Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{flipV:0,flipH:0,rotate:0,angle:0,centerX:e/2,centerY:t/2,width:e,height:t,ratioType:Na}},Ha=function(e){var t=Aa.exec(e),n=La.exec(e),r=za.exec(e),i=Fa.exec(e),o={};return t&&3===t.length&&(o.translateX=parseFloat(t[1]),o.translateY=parseFloat(t[2])),n&&3===n.length?(o.scaleX=parseFloat(n[1]),o.scaleY=parseFloat(n[2])):r&&3===r.length&&(o.scaleX=parseFloat(r[1]),o.scaleY=parseFloat(r[2])),i&&4===i.length&&(o.rotateX=parseFloat(i[1]),o.rotateY=parseFloat(i[2]),o.rotateZ=parseFloat(i[3])),o},Ba=function(e){var t=[];return void 0!==e.translateX&&("number"==typeof e.translateX?t.push("translate(".concat(e.translateX,"px, ").concat(e.translateY,"px)")):t.push("translate(".concat(e.translateX,", ").concat(e.translateY,")"))),void 0!==e.scaleX&&t.push("scale(".concat(e.scaleX,", ").concat(e.scaleY,")")),void 0===e.rotateX&&void 0===e.rotateY&&void 0===e.rotateZ||t.push("rotateX(".concat(e.rotateX||0,"deg) rotateY(").concat(e.rotateY||0,"deg) rotateZ(").concat(e.rotateZ||0,"deg)")),t.join(" ")},Va=function(e){return Number(e.toFixed(0))},Xa=function(e,t,n,r){var i=n/2,o=r/2,a=function(e,t,n){var r=!(1!==e.rotate&&3!==e.rotate),i=Math.floor(t*e.width),o=Math.floor(n*e.height);if(r){var a=i;i=o,o=a}var l=0===e.flipV?0:q,c=0===e.flipH?0:q,u=e.rotate*$+e.angle,s=t*e.centerX,f=n*e.centerY,d=new De;return d.translate(-s,-f),0!==u&&d.rotateMatrix(-u),0!==c&&d.reverseMatrix(d.REVERSE_LEFTRIGHT),0!==l&&d.reverseMatrix(d.REVERSE_UPDOWN),d.translate(i/2,o/2),{width:i,height:o,matrix:d}}({angle:t.angle?t.angle:0,centerX:t.centerX/i/2,centerY:t.centerY/o/2,flipH:t.flipH||0,flipV:t.flipV||0,height:t.height/r,width:t.width/n,ratioType:"free",rotate:t.rotate?t.rotate:0},e.width,e.height),l=we(a.width,a.height),c=l.getContext("2d");return null==c||c.save(),null==c||c.transform.apply(c,a.matrix.toArray()),null==c||c.drawImage(e,0,0),null==c||c.restore(),ye(l)},Wa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return parseFloat(e.toFixed(t))},Ya=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;return t&&(n*=2),n=Math.round(n),t&&(n=Wa(n/=2,1)),n},$a=function(e,t,n){var r=G(Math.abs(n)),i=Math.atan(t/e),o=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))/2;return{width:Math.cos(i-r)*o,height:Math.sin(i+r)*o}},qa=function(e,t,n,r,i){var o=0,a=1,l=0;(e>0?(o=e,a=-1):t>0&&(o=t),i)&&(l=o>0?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return(1-1/(e*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:.55)/t+1))*t}(o,(n+r)/30):0);return a*(l-o)};function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qa=function(e){var t=e.isActive,n=e.image,r=e.updatePreview,i=e.updatePipeline,o=e.removeHistory,a=ji(),c=Ei((function(e){return e.pipeline.crop})),u=Ei((function(e){return e.options.options.crop})),s=Ei((function(e){return e.menu.showSaveModal})),f=Ei((function(e){return e.menu.isCropping})),d=Ei((function(e){return e.menu.isCompleting})),p=Ei((function(e){return e.preview.isPainted})),h=l((0,si.useState)(Ra.map((function(e){return Ga({},e)}))),1)[0],g=l((0,si.useState)(),2),v=g[0],m=g[1],y=l((0,si.useState)(),2),b=y[0],w=y[1],x=l((0,si.useState)(!1),2),E=x[0],S=x[1],O=l((0,si.useState)(!1),2),_=O[0],P=O[1],C=l((0,si.useState)(!1),2),D=C[0],T=C[1],j=l((0,si.useState)(!1),2),N=j[0],M=j[1],I=function(e){if(!n||!e)return e;var t=function(e){return Ga(Ga({},e),{},{position:Ga({},e.cropPosition),flip:{flipH:!1,flipV:!1}})};return e.sticker&&(e.sticker=e.sticker.map(t)),e.text&&(e.text=e.text.map(t)),e},A=function(e,t){var r,i,o,a,l,c;if(!n||!e)return e;var u=t.rotate*$+t.angle-((null!==(r=null===(i=e.crop)||void 0===i?void 0:i.rotate)&&void 0!==r?r:0)*$+(null!==(o=null===(a=e.crop)||void 0===a?void 0:a.angle)&&void 0!==o?o:0)),s={flipH:!(null===(l=e.crop)||void 0===l||!l.flipH)!=!!t.flipH,flipV:!(null===(c=e.crop)||void 0===c||!c.flipV)!=!!t.flipV},f=function(e){var n=e.cropPosition,r={width:e.width,height:e.height,x:n.x,y:n.y,rotate:e.position.rotate},i=ai(r,t,Ga({rotate:u},s)),o={flipV:!!t.flipV!==e.cropFlip.flipV,flipH:!!t.flipH!==e.cropFlip.flipH};return Ga(Ga({},e),{},{flip:o,position:Ga({},i)})};return e.sticker&&(e.sticker=e.sticker.map(f)),e.text&&(e.text=e.text.map(f)),e},z=function(e){return i(Ga({},e))},L=function(e,t){var n=c.angle,r=c.centerX,i=c.centerY;if(v){var o=function(e,t,n,r,i,o,a){var l=$a(e,t,n);return{left:Math.max(0,l.width-r),right:Math.max(0,l.width-o+r),top:Math.max(0,l.height-i),bottom:Math.max(0,l.height-a+i)}}(e,t,n,r,i,v.width,v.height),a=o.left,l=o.right,u=o.top,s=o.bottom,f=c.centerX-qa(l,a,e,t,!1),d=c.centerY-qa(s,u,e,t,!1);return{centerX:Ya(f,!0),centerY:Ya(d,!0)}}return{centerX:r,centerY:i}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n){var r=Ga({},n.history),i=b&&!R()(v,b);if(R()(v,e)||t){if(r&&r.crop){var l=Ea(n,r.crop,r.blur),c=Sa(n,r.crop,r.mosaic),u=Oa(n,r.size),s=I(r);l&&(r.blur=l),c&&(r.mosaic=c),u&&(r.size=u),s&&(r=s),delete r.crop,o()}}else{var f,d,p=_a(n,e,r.blur,i,null===(f=n.history)||void 0===f?void 0:f.crop),h=ka(n,e,r.mosaic,i,null===(d=n.history)||void 0===d?void 0:d.crop),g=Pa(n,e,r.size);p&&(r.blur=p),h&&(r.mosaic=h),g&&(r.size=g),r=Ga(Ga({},r=A(r,e)),{},{crop:e})}a(Hn({ids:[n.id],history:r})),w(e),a(Kn({key:"isCropping",history:!1})),S(!1)}},U=(0,si.useCallback)((function(){v&&(z(Ga({},v)),F(v,!0),P(!0))}),[v]),H=(0,si.useCallback)((function(){F(c),P(!0)}),[c]);return(0,si.useEffect)((function(){var e,o,a,l;if(n)if(t){var c=Ua(n.width,n.height),u=n.editable&&n.width>100&&n.height>100;i(null!==(e=null===(o=n.history)||void 0===o?void 0:o.crop)&&void 0!==e?e:c),m(c),w(null!==(a=null===(l=n.history)||void 0===l?void 0:l.crop)&&void 0!==a?a:c),P(!1),T(u),n.width&&n.height&&!u&&(M(!0),setTimeout((function(){return M(!1)}),k))}else v&&_&&n.history&&r(n,n.history)}),[t,null==n?void 0:n.id,p]),(0,si.useEffect)((function(){t&&f!==E&&a(Kn({key:"isCropping",history:E}))}),[t,f,E]),(0,si.useEffect)((function(){if(t){var e=!R()(c,b);R()(v,c)&&(e=!1),S(e)}}),[c,b,v]),(0,si.useEffect)((function(){d&&H()}),[d]),si.createElement("div",{className:$i()("cont_crop",{on:t,off:!t}),"data-log-action-layer":"crop-tab"},si.createElement("h3",{className:"tit_feature"},"자르기"),si.createElement("div",{className:"box_y_scroll"},si.createElement("div",{className:"content-snb"},si.createElement("div",{className:$i()("box_edit box_edit2",{disabled:!D}),"data-log-action-layer":"ratio"},si.createElement("h4",{className:"screen_out"},"자르기 편집 목록"),h.map((function(e,t){return si.createElement("div",{className:"btn_cut btn_inp",key:t},si.createElement("input",{type:"radio",id:"cut_".concat(e.type),className:"inp_g",name:"cutting",value:e.type,checked:D&&c.ratioType===e.type,onChange:function(){return t=e.type,z(Ga(Ga({},c),{},{ratioType:t}));var t},disabled:!D,"data-log-action-layer":e.name,"data-log-action-command":"setratio"}),si.createElement("label",{htmlFor:"cut_".concat(e.type)},si.createElement("span",{className:$i()("ico_editor",e.className)}),si.createElement("span",{className:"txt_toolbar"},e.name)))}))),si.createElement("h4",{className:"tit_feature1"},"회전"),si.createElement("div",{className:"box_edit","data-log-action-layer":"rotate"},si.createElement("button",{type:"button",className:"btn_type3",onClick:function(){var e=c.rotate,t=e+1===4?0:e+1;z(Ga(Ga({},c),{},{rotate:t}))},"data-log-action-layer":"rotate90","data-log-action-command":"rotate"},si.createElement("span",{className:"ico_editor1 ico_img_rotate"}),si.createElement("span",{className:"txt_rotate"},"회전")),si.createElement("button",{type:"button",className:$i()("btn_type3",{on:c.flipH}),onClick:function(){return z(Ga(Ga({},c),{},{flipH:c.flipH?0:1}))},"data-log-action-layer":"fliph","data-log-action-command":"rotate"},si.createElement("span",{className:"ico_editor1 ico_img_hor_chg"}),si.createElement("span",{className:"txt_rotate"},"좌우반전")),si.createElement("button",{type:"button",className:$i()("btn_type3",{on:c.flipV}),onClick:function(){return z(Ga(Ga({},c),{},{flipV:c.flipV?0:1}))},"data-log-action-layer":"flipv","data-log-action-command":"rotate"},si.createElement("span",{className:"ico_editor1 ico_img_ver_chg"}),si.createElement("span",{className:"txt_rotate"},"상하반전"))),(null==u?void 0:u.preset)&&u.preset.length>0&&si.createElement(si.Fragment,null,si.createElement("h4",{className:"tit_feature1"},"프리셋"),si.createElement("div",{className:"box_edit preset_box","data-log-action-layer":"preset"},u.preset.map((function(e){var t="".concat(e.width," * ").concat(e.height),r=e.name.length>10?"".concat(e.name.slice(0,10),"..."):e.name;return si.createElement("button",{type:"button",className:"btn_type2 preset_btn",onClick:function(){return function(e){var t=l(e.split(" * ").map((function(e){return Number(e)})),2),r=t[0],i=t[1];if(Hi()(r)&&Hi()(i)&&function(e,t){if(!n)return!1;var r=e>=100&&t>=100,i=e<=n.width&&t<=n.height;return r&&i}(r,i)){var o=L(r,i),a=o.centerX,u=o.centerY,s=Ga(Ga({},c),{width:r,height:i,centerX:a,centerY:u});z(s)}else alert("자르기 범위는 ".concat(100,"px 이상이고 원본 크기 이하여야합니다."))}(t)},"data-log-action-command":"setcropsize",key:t},"".concat(r," (").concat(t,")"))})))),si.createElement("div",{className:"box_edit box_edit1","data-log-action-layer":"save"},si.createElement("button",{type:"button",className:$i()("btn_type1","btn_type2",{disabled:R()(c,v)}),onClick:U,disabled:R()(c,v),"data-log-action-layer":"reset","data-log-action-command":"resetcrop"},"재설정"),si.createElement("button",{type:"button",className:"btn_type1 btn_type2 btn_type1_type1",onClick:H,"data-log-action-layer":"tempsave","data-log-action-command":"tempsave"},"임시저장")))),si.createElement(uo,{open:s,dispatch:function(e){return a(Kn({key:"showSaveModal",history:e}))},onSubmit:function(){n&&(F(c),r(n,Ga(Ga({},null==n?void 0:n.history),{},{crop:Ga({},c)})))},onCancel:function(){(a(Kn({key:"isCropping",history:!1})),n)&&(b&&!R()(v,b)&&b?(F(b),z(b),r(n,Ga(Ga({},n.history),{},{crop:Ga({},b)}))):(o(),v&&z(v)),S(!1))},title:"임시저장을 하시겠습니까?",description:"자르기/회전한 이미지는 임시저장을 해야합니다\n취소를 누르면 편집 전 상태로 돌아갑니다."}),N&&si.createElement(so,{open:N,x:"50%",y:"50%",duration:k,message:"100px 이하의 이미지는 자르기 기능을 사용할 수 없습니다."}))},Ja=["n","w","s","e"],Za=["nw","ne","sw","se"];function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var tl=function(e,t){var n=G(-t);return{dx:e.dx*Math.cos(n)-e.dy*Math.sin(n),dy:e.dy*Math.cos(n)+e.dx*Math.sin(n)}},nl=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return("flipV"in t||"flipH"in t)&&(n=function(e,t,n){return{dx:(n||0)%2==1?e.dx*=-1:e.dx,dy:(t||0)%2==1?e.dy*=-1:e.dy}}(n,t.flipV,t.flipH)),"rotate"in t&&(n=function(e,t){return tl(e,90*t)}(n,t.rotate)),"angle"in t&&(n=tl(n,t.angle)),"scale"in t&&(n=function(e,t){return{dx:e.dx/t,dy:e.dy/t}}(n,t.scale)),n},rl=function(e,t,n,r){var i=Math.atan2(t,e),o=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))/2,a=n>o?Math.PI:i-Math.acos(n/o),l=r>o?Math.PI:-i+Math.asin(r/o),c=Math.abs(Math.min(a,l));return c*q/Math.PI},il=function(e,t){return 0===t?0:e/t},ol=function(e,t,n,r){var i=Math.atan2(t,e),o=Math.sqrt(Math.pow(e,2)+Math.pow(t,2));return{width:(o=Math.max(0,o-il(n,Math.cos(i))-il(r,Math.sin(i))))*Math.cos(i),height:o*Math.sin(i)}},al=function(e,t,n){var r,i;if("free"===e)r=0,i=0;else if("origin"===e)r=Math.max(t,n),i=Math.min(t,n);else{var o=e.split("_");r=parseInt(o[0]),i=parseInt(o[1])}return il(r,i)},ll=function(e,t){var n=e.dx,r=e.dy,i=tl({dx:n,dy:r},t);return Math.abs(i.dx)>Math.abs(i.dy)?i.dx>0?"right":"left":i.dy>0?"bottom":"top"},cl=function(e,t,n,r,i,o,a){var l=a*o/i,c=ol(e,t,n/i,r/o);return c.height=il(c.width*c.height,c.width+l*c.height),c.width=c.height*l,c.width*=i,c.height*=o,c},ul=function(e,t,n,r){var i=[Math.round(e*n),Math.round(t*n)],o=i[0],a=i[1];return{width:r?a:o,height:r?o:a}},sl=function(e,t){var n=e.width,r=e.height;return{width:n,height:r,x:(t.width-n)/2,y:(t.height-r)/2}},fl=function(e,t,n,r,i,o){var a=(n-i)/e,l=(r-o)/t;return Math.min(a,l)};function dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dl(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hl=si.forwardRef((function(e,t){var n=e.previewSize,r=e.minSize,i=e.cropBoxInfo,o=e.editData,a=e.dragInfo,c=e.isDragging,u=e.updateEditData,s=e.previewScale,f=e.frameSize,d=e.updateStyleInfo,p=e.angle,h=e.isReset,g=e.updateAngle,v=Ei((function(e){return e.pipeline.crop})),m=l((0,si.useState)(ja),2),y=m[0],b=m[1],w=l((0,si.useState)({cx:o.centerX,cy:o.centerY}),2),x=w[0],E=w[1],S=l((0,si.useState)({width:o.width,height:o.height}),2),O=S[0],_=S[1],k=l((0,si.useState)({width:o.width,height:o.height}),2),P=k[0],C=k[1],D=l((0,si.useState)({dx:0,dy:0}),2),T=D[0],j=D[1],N=(0,si.useRef)(pl({},o)),M=(0,si.useRef)(pl({},o)),I=function(){var e=N.current,t=e.width,r=e.height,i=e.angle,o=e.centerX,a=e.centerY,l=$a(t,r,i);return{left:Math.max(0,l.width-o),right:Math.max(0,l.width-n.width+o),top:Math.max(0,l.height-a),bottom:Math.max(0,l.height-n.height+a)}},A=function(e,t){N.current=pl(pl({},N.current),{},{centerX:Ya(e,!0),centerY:Ya(t,!0)})},z=function(e){var t=N.current,n=t.centerX,r=t.centerY,i=t.width,o=t.height,a=I();A(n-qa(a.right,a.left,i,o,e),r-qa(a.bottom,a.top,i,o,e))},L=function(e,t,n){var r={dx:e,dy:t};r=nl(r,{flipV:N.current.flipV,flipH:N.current.flipH,rotate:N.current.rotate,angle:N.current.angle,scale:s}),A(x.cx-r.dx,x.cy-r.dy),z(n)},F=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=al(N.current.ratioType,n.width,n.height),l=o?e/t:a,c=e,u=t;u<r.height&&(u=r.height,c=0===l?c:u*l),c<r.width&&(c=r.width,u=0===l?u:c/l),!i&&u>n.height&&(u=n.height,c=0===l?c:u*l),!i&&c>n.width&&(c=n.width,u=0===l?u:c/l),N.current=pl(pl({},N.current),{},{width:Ya(c,!0),height:Ya(u,!0)})},U=function(e){var t={dx:0,dy:0},n=N.current,r=n.width,i=n.height,o=n.angle;e.dx<0?t.dx=(O.width-r)/2:e.dx>0&&(t.dx=-(O.width-r)/2),e.dy<0?t.dy=(O.height-i)/2:e.dy>0&&(t.dy=-(O.height-i)/2),t=tl(t,o),A(x.cx+t.dx,x.cy+t.dy)},H=function(e,t){var r=function(){var e=I(),t=G(Math.abs(N.current.angle)),n=Math.sin(t),r=Math.cos(t),i={};for(var o in i[ll({dx:-1,dy:-1},N.current.angle)]="top-left",i[ll({dx:1,dy:-1},N.current.angle)]="top-right",i[ll({dx:-1,dy:1},N.current.angle)]="bottom-left",i[ll({dx:1,dy:1},N.current.angle)]="bottom-right",e)if(o){var a=e[o];"left"===o||"right"===o?(e["".concat(i[o],"-w")]=il(a,r),e["".concat(i[o],"-h")]=il(a,n)):(e["".concat(i[o],"-w")]=il(a,n),e["".concat(i[o],"-h")]=il(a,r))}return e}(),i={width:0,height:0},o=al(N.current.ratioType,n.width,n.height);if(0===N.current.angle){if(i.width=Math.max(r.right,r.left),i.height=Math.max(r.bottom,r.top),o){i.width*=0===e.dx?2:1,i.height*=0===e.dy?2:1;var a=i.height*o,l=i.width/o;a>i.width?i.width=a:l>i.height&&(i.height=l)}}else i=0===e.dx?function(e,t,n,r){var i,o,a,l,c=e.dy;return c>0?(i="bottom",o="top"):c<0&&(i="top",o="bottom"),0===r?n.height=Math.max(t["".concat(i,"-left-h")],t["".concat(i,"-right-h")]):(n.width=2*Math.max(t["".concat(o,"-left-w")],t["".concat(o,"-right-w")]),n.height=n.width/r,a=cl(t["".concat(i,"-left-w")],t["".concat(i,"-left-h")],n.width,n.height,2,1,r),l=cl(t["".concat(i,"-right-w")],t["".concat(i,"-right-h")],n.width,n.height,2,1,r),n.width+=a.width>l.width?a.width:l.width,n.height+=a.height>l.height?a.height:l.height),n}(e,r,i,o):0===e.dy?function(e,t,n,r){var i,o,a,l,c=e.dx;return c>0?(i="right",o="left"):c<0&&(i="left",o="right"),0===r?n.width=Math.max(t["top-".concat(i,"-w")],t["bottom-".concat(i,"-w")]):(n.height=2*Math.max(t["top-".concat(o,"-h")],t["bottom-".concat(o,"-h")]),n.width=n.height*r*1,a=cl(t["top-".concat(i,"-w")],t["top-".concat(i,"-h")],n.width,n.height,1,2,r),l=cl(t["bottom-".concat(i,"-w")],t["bottom-".concat(i,"-h")],n.width,n.height,1,2,r),n.width+=a.width>l.width?a.width:l.width,n.height+=a.height>l.height?a.height:l.height),n}(e,r,i,o):function(e,t,n,r){var i,o,a=e.dx,l=e.dy,c="".concat(l>0?"bottom":"top","-").concat(a>0?"right":"left"),u="".concat(l>0?"top":"bottom","-").concat(a>0?"right":"left"),s="".concat(l>0?"bottom":"top","-").concat(a>0?"left":"right");n.width=t["".concat(u,"-w")],n.height=t["".concat(s,"-h")],r&&(i=n.height*r,o=n.width/r,i>n.width?n.width=i:o>n.height&&(n.height=o));var f=ol(t["".concat(c,"-w")],t["".concat(c,"-h")],n.width,n.height);return r?(f.height=il(f.width*f.height,f.width+r*f.height),f.width=f.height*r):(f.width*=.5,f.height*=.5),n.width+=f.width,n.height+=f.height,n}(e,r,i,o);var c=N.current,u=c.width,s=c.height;F(u-qa(i.width,0,u,s,t),s-qa(i.height,0,u,s,t),!0)},B=function(e,t,r,i){var o={dx:t,dy:r},a=N.current,l=a.angle,c=a.rotate,u=a.flipV,f=a.flipH,d=a.ratioType;(function(e,t,r){var i=e.dx<0?-1*t:t,o=e.dy<0?-1*r:r,a=al(N.current.ratioType,n.width,n.height);0===e.dx?i=0===a?0:o*a:0===e.dy?o=0===a?0:i/a:0!==a&&(o=(i=(i+o*a)/2)/a),F(O.width+i,O.height+o,!0),U(e)})(e,(o=nl(o,{flipV:u,flipH:f,rotate:c,angle:l,scale:s})).dx,o.dy),H(e,i);var p=al(d,n.width,n.height),h=function(e,t){if(0===t)return e;var n=e.width/e.height;return{width:t>n?e.width:e.height*t,height:t>n?e.width/t:e.height}}({width:N.current.width,height:N.current.height},p),g=h.width,v=h.height;N.current=pl(pl({},N.current),{},{width:Ya(g,!0),height:Ya(v,!0)}),U(e)},V=function(e){b({width:"".concat(e.width+2,"px"),height:"".concat(e.height+2,"px"),transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")})},X=function(){var e=Qr.padding.left+Qr.padding.right,t=Qr.padding.top+Qr.padding.bottom,n=N.current,r=n.rotate,i=n.width,o=n.height,a=r%2==0,l=a?i:o,c=a?o:i;!function(e,t,n){var r=Math.round(e*n),i=Math.round(t*n),o=sl({width:r,height:i},f);d(o),V(o)}(l,c,fl(l,c,f.width,f.height,e,t))},W=function(){var e=P.width,t=P.height,i=r.width,o=r.height,a=N.current,l=a.width,c=a.height;F(e,t),function(){var e=N.current,t=e.width,r=e.height,i=e.centerX,o=e.centerY,a=n.width,l=n.height,c=$a(t,r,p),u=Math.min(Math.min(a-i,i)/c.width,1),s=Math.min(Math.min(l-o,o)/c.height,1),f=Math.min(u,s);F(t*f,r*f,!1,!0)}(),l<=i||c<=o?function(){var e=N.current,t=e.width,r=e.height,i=e.centerX,o=e.centerY,a=n.width,l=n.height,c=rl(t,r,Math.min(i,a-i),Math.min(o,l-o)),u=Math.abs(p)>c?c*(p>0?1:-1):p;N.current=pl(pl({},N.current),{},{angle:u}),g(u)}():(N.current=pl(pl({},N.current),{},{angle:p}),g(p))},Y=function(e){var t=N.current,r=t.width,i=t.height,o=t.rotate%2==0?e:function(e){var t=e.split("_");return e!==Na&&e?e===Ma?Ia:e===Ia?Ma:(t=t.reverse()).join("_"):e}(e),a=al(o,n.width,n.height),l=r*i,c=function(e,t,n){if(0===t)return e;var r=Math.sqrt(n*t);return{width:r,height:r/t}}(N.current,a,l),s=c.width,f=c.height;N.current=pl(pl({},N.current),{},{width:s,height:f,ratioType:o}),function(){var e=N.current,t=e.width,r=e.height,i=$a(t,r,p),o=Math.min(n.width/(2*i.width),1),a=Math.min(n.height/(2*i.height),1),l=Math.min(o,a);F(t*l,r*l)}(),z(!1),X(),u(N.current),C({width:s,height:f})};return(0,si.useEffect)((function(){if(null!=a&&a.type){var e=a.position,t=a.wrapper,n=a.type,r=a.dx,i=a.dy;t===Da&&("box"===e?"start"===n?(M.current=pl({},N.current),E({cx:N.current.centerX,cy:N.current.centerY})):"move"===n?(L(r,i,!0),u(N.current)):"end"===n&&(L(r,i,!1),u(N.current)):"start"===n?(M.current=pl({},N.current),E({cx:N.current.centerX,cy:N.current.centerY}),_({width:N.current.width,height:N.current.height}),e&&j(function(e){var t={dx:e.indexOf("e")>=0?1:e.indexOf("w")>=0?-1:0,dy:e.indexOf("s")>=0?1:e.indexOf("n")>=0?-1:0};return t=nl(t,{flipV:N.current.flipV,flipH:N.current.flipH,rotate:N.current.rotate}),{dx:Wa(t.dx),dy:Wa(t.dy)}}(e))):"move"===n?B(T,r,i,!0):"end"===n&&(B(T,r,i,!1),u(N.current),C({width:N.current.width,height:N.current.height})))}}),[a]),(0,si.useEffect)((function(){i&&(X(),C({width:o.width,height:o.height}))}),[i]),(0,si.useEffect)((function(){a.position&&a.wrapper===Da&&("end"===a.type||"box"===a.position?X():function(){var e=a.position;if(e){var t=N.current,n=t.rotate,r=t.width,i=t.height,o=M.current,l=o.width,c=o.height,u=n%2!=0,p=ul(r,i,s,u),h=ul(l,c,s,u),g=sl(p,f);e.indexOf("w")>=0?g.x=(f.width-h.width)/2+(h.width-p.width):e.indexOf("e")>=0&&(g.x=(f.width-h.width)/2),e.indexOf("n")>=0?g.y=(f.height-h.height)/2+(h.height-p.height):e.indexOf("s")>=0&&(g.y=(f.height-h.height)/2),d(g),V(g)}}())}),[N.current]),(0,si.useEffect)((function(){R()(N.current,o)||(N.current=pl({},o),Y(o.ratioType))}),[o.ratioType]),(0,si.useEffect)((function(){R()(N.current,o)||(N.current=pl({},o),X())}),[o.rotate,o.flipH,o.flipV]),(0,si.useEffect)((function(){h&&(N.current=pl({},o),X())}),[h]),(0,si.useEffect)((function(){N.current.angle!==p&&(W(),u(N.current))}),[p]),(0,si.useEffect)((function(){N.current=pl({},v),X(),u(N.current)}),[v.width,v.height]),si.createElement("div",{className:"box_area",ref:t,style:y},si.createElement("div",{className:"crop_draggable","data-position":"".concat(Da,":box")}),Ja.map((function(e){return si.createElement("span",{key:e,className:$i()("corner_area corner_".concat(e)),"data-position":"".concat(Da,":").concat(e)})})),Za.map((function(e){return si.createElement("span",{key:e,className:$i()("corner_area corner_".concat(e)),"data-position":"".concat(Da,":").concat(e)},si.createElement("span",{className:"corner_mark"}))})),si.createElement("span",{className:$i()("resize_guide guide_v",{hide:!c}),style:{left:"33%"}}),si.createElement("span",{className:$i()("resize_guide guide_v",{hide:!c}),style:{left:"66%"}}),si.createElement("span",{className:$i()("resize_guide guide_h",{hide:!c}),style:{top:"33%"}}),si.createElement("span",{className:$i()("resize_guide guide_h",{hide:!c}),style:{top:"66%"}}),si.createElement("div",{className:$i()("tooltip_size",{hide:!c})},Va(N.current.width),"×",Va(N.current.height)))}));hl.displayName="CropBox";var gl=hl,vl=function(e){var t=e.styleInfo,n=e.frameSize,r=e.isEditing,i=l((0,si.useState)(),2),o=i[0],a=i[1],c=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="".concat(Math.max(0,e[n]),"px"));return t};return(0,si.useEffect)((function(){if(t){var e=t.width,r=t.height,i=t.x,o=t.y,l=n.width,u=n.height;a({top:c({width:e,height:o,left:i}),bottom:c({width:e,height:2*u,left:i,top:o+r}),left:c({width:i,height:2*u}),right:c({width:2*l,height:2*u,left:i+e})})}}),[t]),si.createElement("div",{className:$i()("crop_dimmed",{crop_editing:r}),style:{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")}},si.createElement("div",{className:"crop_dimmed_top",style:o&&o.top}),si.createElement("div",{className:"crop_dimmed_bottom",style:o&&o.bottom}),si.createElement("div",{className:"crop_dimmed_left",style:o&&o.left}),si.createElement("div",{className:"crop_dimmed_right",style:o&&o.right}))},ml=n(23493),yl=n.n(ml);function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xl=function(e){var t=e.updateDragInfo,n=e.updateDraggingStatus,r=(0,si.useRef)({startX:0,startY:0,x:0,y:0,dx:0,dy:0}),i=(0,si.useRef)(!1),o=function(e,t){return{x:e,y:t,dx:e-r.current.startX,dy:t-r.current.startY}},a=function(e){e.preventDefault();var a=e.pageX,l=e.pageY,c=e.target;if(c instanceof HTMLElement){var u=c.closest("[data-position]"),s=u?u.dataset.position:null,f=s?s.split(":")[0]:void 0,d=s?s.split(":")[1]:void 0;i.current=!(!f||!d),r.current=wl(wl({},o(a,l)),{},{startX:a,startY:l,wrapper:f,position:d,type:"start"}),t(r.current),n(i.current)}},l=yl()((function(e){e.preventDefault();var n=e.pageX,a=e.pageY;i.current&&(r.current=wl(wl(wl({},r.current),o(n,a)),{},{type:"move"}),t(r.current))}),50),c=function(e){e.preventDefault();var a=e.pageX,l=e.pageY;r.current=wl(wl(wl({},r.current),o(a,l)),{},{type:"end"}),i.current=!1,t(r.current),n(i.current)};return(0,si.useEffect)((function(){return window.addEventListener("mousedown",a),window.addEventListener("mousemove",l),window.addEventListener("mouseup",c),function(){window.removeEventListener("mousedown",a),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",c)}}),[]),null},El=function(e){var t=e.dragInfo,n=e.isDragging,r=e.editData,i=e.cropStatus,o=e.previewInfo,a=e.updateAngle,c=l((0,si.useState)(0),2),u=c[0],s=c[1],f=l((0,si.useState)(),2),d=f[0],p=f[1],h=l((0,si.useState)(ja),2),g=h[0],v=h[1],m=l((0,si.useState)(),2),y=m[0],b=m[1],w=(0,si.useRef)(null),x=(0,si.useRef)(null);return(0,si.useEffect)((function(){if(t.type){var e=t.wrapper,n=t.type,i=t.dy;if(e===Ca)if("start"===n){var o=Ha(w.current.style.transform);s(o.rotateZ||0)}else if("move"===n){var l=Math.floor(function(e){var t=u+e/5*(y?-1:1);return t>45?t=45:t<-45?t=-45:t<1&&t>-1&&(t=0),t}(i));if(r.angle===l)return;a(l)}}}),[t]),(0,si.useEffect)((function(){var e=(r.flipH+1)*(r.flipV+1)==2;b(e)}),[r.flipH,r.flipV]),(0,si.useEffect)((function(){var e,t;e=r.angle,(t=Ha(w.current.style.transform)).rotateX=t.rotateX||0,t.rotateY=t.rotateY||0,t.rotateZ=e,p({width:"".concat(512,"px"),height:"".concat(Ta,"px"),transform:Ba(t)})}),[r.angle]),(0,si.useEffect)((function(){if(!n&&i&&r){var e=o.box,t=o.image,a=i.scale*t.display.scale,l=Ya(r.width*a,!0),c=Ya(r.height*a,!0),u=r.rotate%2?c:l,s=r.rotate%2?l:c;!function(e){var t=e.width,n=e.height,r=e.translateX,i=e.translateY,o=Ha(x.current.style.transform),a=(Math.max(n,Ta)-n)/2;o.translateX=Math.floor(r+t),o.translateY=Math.floor(i-a),v({height:"".concat(Math.max(n,Ta),"px"),transform:Ba(o)})}({width:u,height:s,translateX:(e.client.width-u)/2,translateY:(e.client.height-s)/2})}}),[i]),(0,si.useEffect)((function(){!function(e){if(w.current){var t=512*e,n=Ta*e,r=[Math.floor(t/2),Math.floor(n/2)],i=r[0],o=r[1];w.current.width=t,w.current.height=n;var a=w.current.getContext("2d");if(a){a.save(),a.clearRect(0,0,t,n),a.translate(i,o),a.fillStyle="#000000";for(var l=2,c=G(5),u=2-o,s=72;s>0;s--)l=s%3==0?2:1,a.lineWidth=1*e,a.globalAlpha=s%3==0?1:.3,a.beginPath(),a.moveTo(-l,u),a.lineTo(-l,u+5*e),a.stroke(),a.closePath(),a.rotate(c);a.restore()}}}(window.devicePixelRatio||1)}),[]),si.createElement("div",{className:"crop_info"},si.createElement("div",{className:$i()("info_rotate",{hide:t.wrapper===Da&&n}),style:g,ref:x,"data-position":"".concat(Ca,":box")},si.createElement("div",{className:"wrap_protractor"},si.createElement("canvas",{className:"protractor",ref:w,style:d})),si.createElement("p",{className:"protractor_angle"},y?-1*Math.round(r.angle):Math.round(r.angle),"°")))};function Sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _l=function(e){var t=e.id,n=e.isActive,r=e.previewStatus,i=e.cropStatus,o=e.updatePipeline,a=Ei((function(e){return e.images})),c=Ei((function(e){return e.pipeline.crop})),u=l((0,si.useState)(),2),s=u[0],f=u[1],d=l((0,si.useState)({width:0,height:0}),2),p=d[0],h=d[1],g=l((0,si.useState)(null),2),v=g[0],m=g[1],y=l((0,si.useState)(null),2),b=y[0],w=y[1],x=l((0,si.useState)({startX:0,startY:0,x:0,y:0,dx:0,dy:0}),2),E=x[0],S=x[1],O=l((0,si.useState)(!1),2),_=O[0],k=O[1],P=l((0,si.useState)(0),2),C=P[0],D=P[1],T=l((0,si.useState)(!1),2),j=T[0],N=T[1],M=l((0,si.useState)(),2),I=M[0],A=M[1],z=l((0,si.useState)(!1),2),L=z[0],F=z[1],U=l((0,si.useState)(!1),2),H=U[0],V=U[1],X=(0,si.useRef)(null),W=B(a,(function(e){return e.id===t})),Y=(0,si.useCallback)((function(e){R()(e,v)||(j&&N(!1),m(Ol({},e)))}),[v,j]),$=(0,si.useCallback)((function(e){if(!v)return!1;var t=e.ratioType,n=e.rotate,r=e.flipH,i=e.flipV;return t!==v.ratioType||n!==v.rotate||r!==v.flipH||i!==v.flipV}),[v]);return(0,si.useEffect)((function(){if(n&&c.width&&c.height&&!R()(c,v)){var e=Ua(null==W?void 0:W.width,null==W?void 0:W.height);if(R()(c,e))return N(!0),m(Ol({},c)),void D(c.angle);N(!1),($(c)||t!==I)&&(m(Ol({},c)),D(c.angle),t!==I&&A(t))}}),[t,c]),(0,si.useEffect)((function(){n&&v&&!R()(c,v)&&o(v)}),[n,v]),(0,si.useEffect)((function(){var e;if(n){var t=r.box,i=r.image;if(t.client.width&&t.client.height&&i.original.width&&i.original.height){var o=Ol({},i.display.size),a=null==W||null===(e=W.history)||void 0===e?void 0:e.crop;if(a){var l=a.rotate%2==0?a.width:a.height,u=a.rotate%2==0?a.height:a.width,s=t.padding.left+t.padding.right,d=t.padding.top+t.padding.bottom,p=fl(l,u,t.client.width,t.client.height,s,d)/i.display.scale*i.display.scale;o={width:l*p,height:u*p},D(a.angle)}var h=(t.client.width-o.width)/2,g=(t.client.height-o.height)/2;f(Ol(Ol({},o),{},{translateX:h,translateY:g})),w(Ol(Ol({},o),{},{x:h,y:g})),Y(Ol({},c))}}}),[r,n]),(0,si.useEffect)((function(){if(W){var e=W.width,t=W.height;h({width:Math.min(100,e),height:Math.min(100,t)}),F(W.editable&&e>100&&t>100)}}),[W]),(0,si.useEffect)((function(){V(n&&L)}),[n,L]),si.createElement("div",{className:$i()("wrap_cropbox",{hide:!H})},H&&si.createElement(xl,{updateDragInfo:S,updateDraggingStatus:k}),si.createElement(vl,{styleInfo:b,frameSize:r.box.client,isEditing:_}),v&&si.createElement(gl,{ref:X,previewSize:r.image.original,minSize:p,cropBoxInfo:s,editData:v,dragInfo:E,isDragging:_,updateEditData:Y,previewScale:i.scale*r.image.display.scale,frameSize:r.box.client,updateStyleInfo:w,angle:C,updateAngle:D,isReset:j}),v&&si.createElement(El,{dragInfo:E,isDragging:_,editData:v,updateAngle:D,previewInfo:r,cropStatus:i}))},kl=[0,1,1,1,1,0,0,0],Pl=[{code:"",name:"원본",intensity:1},{code:"AQ02",name:"부드러운",intensity:1},{code:"AQ05",name:"깨끗한",intensity:1},{code:"AQ04",name:"그겨울",intensity:1},{code:"SO11",name:"따스한",intensity:1},{code:"CL02",name:"빛나는",intensity:1},{code:"CL01",name:"달빛",intensity:1},{code:"AQ01",name:"샴페인",intensity:1},{code:"RE01",name:"선명",intensity:1},{code:"CL09",name:"단아함",intensity:1},{code:"AQ07",name:"일상",intensity:1},{code:"RE08",name:"아련한",intensity:1},{code:"SO01",name:"달콤",intensity:1},{code:"BW04",name:"그레이",intensity:1},{code:"CL10",name:"우아한",intensity:1},{code:"SO02",name:"따뜻함",intensity:1},{code:"AQ10",name:"화사",intensity:1},{code:"AQ09",name:"솜사탕",intensity:1},{code:"BW02",name:"회상",intensity:1},{code:"CL07",name:"필름",intensity:1},{code:"RE03",name:"가을날",intensity:1},{code:"RE05",name:"로맨틱",intensity:1},{code:"SO04",name:"늦은 오후",intensity:1},{code:"SO05",name:"빛바랜",intensity:1},{code:"BW09",name:"안개",intensity:1},{code:"PO09",name:"블루베리",intensity:1},{code:"PO10",name:"옐로우",intensity:1}],Cl=(Pl[0].code,[{code:"AQ02",name:"부드러운"},{code:"AQ05",name:"깨끗한"},{code:"AQ04",name:"그겨울"},{code:"SO11",name:"따스한"},{code:"CL02",name:"빛나는"},{code:"CL01",name:"달빛"},{code:"AQ01",name:"샴페인"},{code:"RE01",name:"선명"},{code:"CL09",name:"단아함"},{code:"AQ07",name:"일상"},{code:"RE08",name:"아련한"},{code:"SO01",name:"달콤"},{code:"BW04",name:"그레이"},{code:"CL10",name:"우아한"},{code:"SO02",name:"따뜻함"},{code:"AQ10",name:"화사"},{code:"AQ09",name:"솜사탕"},{code:"BW02",name:"회상"},{code:"CL07",name:"필름"},{code:"RE03",name:"가을날"},{code:"RE05",name:"로맨틱"},{code:"SO04",name:"늦은 오후"},{code:"SO05",name:"빛바랜"},{code:"BW09",name:"안개"},{code:"PO09",name:"블루베리"},{code:"PO10",name:"옐로우"}]);function Dl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fi(e)););return e}function Tl(){return Tl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Dl(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Tl.apply(this,arguments)}function jl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fi(e);if(t){var i=Fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Li(this,n)}}var Nl,Ml=function(e){Ai(r,e);var t,n=jl(r);function r(e,t){var i;return re(this,r),s(zi(i=n.call(this,e,t)),"filters",void 0),i.fragmentShader="precision mediump float;\n\nuniform sampler2D texOrigin;\nuniform sampler2D lookup1;\nuniform float u_intensity;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n  vec4 color = texture2D(texOrigin, v_texCoord);\n  float blueColor = color.b * 63.0;\n  vec2 quad1;\n  quad1.y = floor(floor(blueColor) / 8.0);\n  quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n  vec2 quad2;\n  quad2.y = floor(ceil(blueColor) / 8.0);\n  quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n  vec2 texPos1;\n  texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n  texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n\n  vec2 texPos2;\n  texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n  texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n\n  vec3 newColor1 = texture2D(lookup1, texPos1).rgb;\n  vec3 newColor2 = texture2D(lookup1, texPos2).rgb;\n\n  vec3 resultColor = mix(newColor1, newColor2, fract(blueColor));\n  gl_FragColor = vec4(mix(color.rgb, resultColor, u_intensity), color.a);\n}",i.filters={},i}return oe(r,[{key:"getLookupImage",value:function(e){var t=this;return new Promise((function(n,r){try{t.filters&&t.filters[e]?n(t.filters[e]):n(t.loadLookupImage(e))}catch(e){r(e)}}))}},{key:"loadLookupImage",value:function(e){var t=this;return new Promise((function(n,r){var i="".concat(e.toLocaleLowerCase(),".png"),o=new Image;o.crossOrigin="Anonymous",o.onload=function(){t.filters[e]=o,n(o)},o.onerror=function(){return r(new Error("".concat(e,"를 로드하는데 에러가 발생했습니다.")))},o.src="//t1.daumcdn.net/keditor/image-filter/filter/resources/".concat(i)}))}},{key:"setFilterLookup",value:function(e){var t=this.gl;t&&(this.lookupImage=e,this.lookupTexture=this.setImage(e,t.TEXTURE2))}},{key:"resetFilterLookup",value:function(){this.lookupImage=void 0,this.lookupTexture=void 0}},{key:"setImage",value:function(e,t){var n=this.gl;if(n){var r=n.createTexture();return t&&n.activeTexture(t),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),r}}},{key:"setIntensity",value:function(e){var t=this.gl,n=this.program;if(t&&n){var r;r=e<0?0:e>1?1:e;var i=t.getUniformLocation(n,"u_intensity");t.uniform1f(i,r)}}},{key:"filter",value:(t=d(h().mark((function e(t,n,i,o,a,l){var c,u,s,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=this.isCompiled,u=this.gl,o&&(this.originalCanvas=o,null==(s=this.originalCanvas.getContext("2d"))||s.clearRect(0,0,this.originalCanvas.width,this.originalCanvas.height),this.setCanvas(this.canvas,{width:o.width,height:o.height})),c||this.createProgram(),t&&this.setImage(t,u.TEXTURE0),!n){e.next=12;break}return e.next=7,this.getLookupImage(n);case 7:f=e.sent,this.setFilterLookup(f),i&&this.setIntensity(i),e.next=14;break;case 12:this.resetFilterLookup(),this.setIntensity(0);case 14:Tl(Fi(r.prototype),"render",this).call(this,kl,Zr,a),l&&(d=this.getImageData())&&l(d);case 16:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,o,a){return t.apply(this,arguments)})}]),r}(ni),Il=function(e,t,n,r){var i=n.type,o=n.intensity;return new Promise(function(){var n=d(h().mark((function n(a,l){var c;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e){n.next=3;break}return n.abrupt("return");case 3:if("string"!=typeof e){n.next=9;break}return n.next=6,_e(e);case 6:n.t0=n.sent,n.next=10;break;case 9:n.t0=e;case 10:c=n.t0,Nl||(Nl=new Ml(c)),Nl.filter(c,i,o,t,r,(function(e){return a(e)})),n.next=18;break;case 15:n.prev=15,n.t1=n.catch(0),l(n.t1);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}())};function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zl,Ll=function(e){var t=e.isActive,n=e.image,r=e.singleImage,i=e.isPreviewClicked,o=e.updateHistory,c=e.removeHistory,u=e.updatePreview,s=ji(),f=Ei((function(e){return e.options.fileSystem})),p=Ei((function(e){return e.options.options.filter})),g=l((0,si.useState)(p.reduce((function(e,t){var n=Pl.find((function(e){return e.code===t.code}));return n?[].concat(a(e),[{code:t.code,name:t.name||n.name,intensity:n.intensity}]):e}),[Pl[0]])),1)[0],v=l((0,si.useState)(g[0].code),1)[0],m=(0,si.useRef)(g.map((function(){return si.createRef()}))),y=l((0,si.useState)(1),2),b=y[0],w=y[1],x=l((0,si.useState)(a(g.map((function(e){return Al({},e)})))),2),E=x[0],S=x[1],O=l((0,si.useState)(v),2),_=O[0],P=O[1],C=l((0,si.useState)(!1),2),D=C[0],T=C[1],j=(0,si.useRef)(null),N=(0,si.useRef)(null),M=(0,si.useRef)(0),I=function(e){if(e){var t=e.width,n=e.height;return t/n>1.1590909090909092?88:n*(102/t)}},R=function e(t,n){j.current.filter(t,E[M.current].code,1,m.current[M.current].current,n,(function(){M.current<E.length-1&&(++M.current,e(t,n))}))},A=function(){var e=d(h().mark((function e(){var t,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return 100,90,t=ue(n.originData.src,f,100,90,"C"),e.next=7,ke(t);case 7:r=e.sent,i=I(n),j.current||(j.current=new Ml(r,i)),R(r,i);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;n&&u(n,{filter:{type:t,intensity:e}})},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,n=arguments.length>2?arguments[2]:void 0,r=n?a(g.map((function(e){return Al({},e)}))):E,i=r.findIndex((function(t){return t.code===e}));S(i?[].concat(a(r.slice(0,i)),[Al(Al({},r[i]),{},{intensity:t})],a(r.slice(i+1))):r)},F=function(e){L(_,e),w(e)};return(0,si.useEffect)((function(){n&&(_?o({type:_,intensity:b}):c()),t&&z(b,_)}),[_,b]),(0,si.useEffect)((function(){n&&A()}),[null==n?void 0:n.id]),(0,si.useEffect)((function(){var e,t,r,i,o=null!=n&&null!==(e=n.history)&&void 0!==e&&null!==(t=e.filter)&&void 0!==t&&t.type?n.history.filter.type:v,a=null!=n&&null!==(r=n.history)&&void 0!==r&&null!==(i=r.filter)&&void 0!==i&&i.intensity?n.history.filter.intensity:1;L(o,a,!0),P(o),w(a),M.current=0}),[null==n?void 0:n.id,null==n?void 0:n.history]),(0,si.useEffect)((function(){!t||1===b&&v===_||(i?z(1,v):z(b,_))}),[t,i]),si.createElement(si.Fragment,null,si.createElement("div",{ref:N,className:$i()("content-snb",{on:t,off:!t}),"data-log-action-layer":"filter-tab"},si.createElement("h4",{className:"screen_out"},"필터"),si.createElement("div",{className:"box_edit box_edit3"},si.createElement("strong",{className:"screen_out"},"적용필터비교"),si.createElement("div",{className:"list_filter"},E.map((function(e,t){return si.createElement("div",{className:$i()("box_filter",{box_origin:!e.code},{on:_===e.code}),key:e.code},si.createElement("div",{className:"cont_img"},si.createElement("div",{className:"box_thumb",onClick:function(){return function(e,t){var n;P(e.code),w(e.intensity||1),N.current&&N.current.offsetHeight+N.current.offsetTop<(null===(n=m.current[t].current)||void 0===n?void 0:n.getBoundingClientRect()).top+180&&(N.current.scrollTop=N.current.scrollTop+180-24)}(e,t)},"data-log-action-layer":"".concat(e.name.split(" ").join("")),"data-log-action-command":"setfilter"},si.createElement("canvas",{className:"thumb_g",ref:m.current[t]})),si.createElement("div",{className:"tit_img"},e.name)),_&&si.createElement(Qi,{id:"slider-".concat(e.code),title:e.name,min:.1,max:1,disableStatus:!_,changeValue:function(e){return z(e,_)},updateValue:F,currentValue:e.intensity,step:.01,hide:_!==e.code}))}))))),si.createElement("div",{className:$i()("box_edit",{on:t,off:!t})},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:r}),disabled:r,onClick:function(){var e;n&&!r&&s(Lr({ids:[n.id],history:{filter:null==n||null===(e=n.history)||void 0===e?void 0:e.filter},submitCallback:function(){return T(!0)}}))},"data-log-action-layer":"applymultiple"},"여러장 적용")),D&&si.createElement(so,{root:".ke_photos .box_canvas",open:D,dispatch:T,x:"50%",y:"50%",duration:k,message:"선택한 사진에 효과가 적용되었습니다."}))},Fl="frame0",Ul=[{type:"frame0"},{type:"frame1"},{type:"frame2"},{type:"frame3"},{type:"frame4"},{type:"frame5"},{type:"frame6"},{type:"frame7"},{type:"frame8"}],Hl={frame0:{edge:{},line:{}},frame1:{edge:{topLeft:{position:[0,0],size:[50,50]},topRight:{position:[274,0],size:[50,50]},bottomRight:{position:[274,274],size:[50,50]},bottomLeft:{position:[0,274],size:[50,50]}},line:{top:{position:[50,0],size:[224,50]},right:{position:[274,50],size:[50,224]},bottom:{position:[50,274],size:[224,50]},left:{position:[0,50],size:[50,224]}}},frame2:{edge:{topLeft:{position:[349,0],size:[50,50]},topRight:{position:[623,0],size:[50,50]},bottomRight:{position:[623,274],size:[50,50]},bottomLeft:{position:[349,274],size:[50,50]}},line:{top:{position:[399,0],size:[224,50]},right:{position:[623,50],size:[50,224]},bottom:{position:[399,274],size:[224,50]},left:{position:[349,50],size:[50,224]}}},frame3:{edge:{topLeft:{position:[698,0],size:[50,50]},topRight:{position:[972,0],size:[50,50]},bottomRight:{position:[972,274],size:[50,50]},bottomLeft:{position:[698,274],size:[50,50]}},line:{top:{position:[748,0],size:[224,50]},right:{position:[972,50],size:[50,224]},bottom:{position:[748,274],size:[224,50]},left:{position:[698,50],size:[50,224]}}},frame4:{edge:{topLeft:{position:[1047,0],size:[50,50]},topRight:{position:[1321,0],size:[50,50]},bottomRight:{position:[1321,274],size:[50,50]},bottomLeft:{position:[1047,274],size:[50,50]}},line:{top:{position:[1097,0],size:[224,50]},right:{position:[1321,50],size:[50,224]},bottom:{position:[1097,274],size:[224,50]},left:{position:[1047,50],size:[50,224]}}},frame5:{edge:{topLeft:{position:[1396,0],size:[50,50]},topRight:{position:[1670,0],size:[50,50]},bottomRight:{position:[1670,274],size:[50,50]},bottomLeft:{position:[1396,274],size:[50,50]}},line:{top:{position:[1446,0],size:[224,50]},right:{position:[1670,50],size:[50,224]},bottom:{position:[1446,274],size:[224,50]},left:{position:[1396,50],size:[50,224]}}},frame6:{edge:{topLeft:{position:[1745,0],size:[50,50]},topRight:{position:[2019,0],size:[50,50]},bottomRight:{position:[2019,274],size:[50,50]},bottomLeft:{position:[1745,274],size:[50,50]}},line:{top:{position:[1795,0],size:[224,50]},right:{position:[2019,50],size:[50,224]},bottom:{position:[1795,274],size:[224,50]},left:{position:[1745,50],size:[50,224]}}},frame7:{edge:{topLeft:{position:[2094,0],size:[50,50]},topRight:{position:[2368,0],size:[50,50]},bottomRight:{position:[2368,274],size:[50,50]},bottomLeft:{position:[2094,274],size:[50,50]}},line:{top:{position:[2144,0],size:[224,50]},right:{position:[2368,50],size:[50,224]},bottom:{position:[2144,274],size:[224,50]},left:{position:[2094,50],size:[50,224]}}},frame8:{edge:{topLeft:{position:[2443,0],size:[50,50]},topRight:{position:[2717,0],size:[50,50]},bottomRight:{position:[2717,274],size:[50,50]},bottomLeft:{position:[2443,274],size:[50,50]}},line:{top:{position:[2493,0],size:[224,50]},right:{position:[2717,50],size:[50,224]},bottom:{position:[2493,274],size:[224,50]},left:{position:[2443,50],size:[50,224]}}}},Bl=["frame1","frame2","frame3","frame4","frame5","frame6","frame7","frame8"],Vl=n.p+"images/78bfc6bed96c4a9934e5.png",Xl=n.p+"images/33500adb1ce16d695ba6.png",Wl=n.p+"images/e4a5d1a1b3bb576607de.png",Yl=function(){return new Promise((function(e,t){try{var n=new Image;n.crossOrigin="Anonymous",n.src=Wl,n.onload=function(){e(n)}}catch(e){t(e)}}))},$l=function(e,t,n){var r=n.width,i=n.height;switch(t){case"topLeft":default:return[0,0];case"topRight":return[e.width-r,0];case"bottomRight":return[e.width-r,e.height-i];case"bottomLeft":return[0,e.height-i]}},ql=function(e,t,n){var r=n.width,i=n.height;switch(t){case"top":default:return[0,0];case"right":return[e.width-r,0];case"bottom":return[0,e.height-i]}},Kl=function(e,t,n,r,i,o,a){var l=n.sx,c=n.sy,u=n.sWidth,s=n.sHeight;if("horizontal"===o)for(var f=0;f<a/u;f++){var d=r+s+f*u;if(d>a-2*u)return void e.drawImage(t,l,c,u,s,d,i,a-d-s,s);e.drawImage(t,l,c,u,s,d,i,u,s)}else for(var p=0;p<a/s;p++){var h=i+u+p*s;if(h>a-2*s)return void e.drawImage(t,l,c,u,s,r,i+u+p*s,u,a-h-u);e.drawImage(t,l,c,u,s,r,i+u+p*s,u,s)}},Gl=function(){var e=d(h().mark((function e(t,n){var r,i,o,a,c,u,s,f,d,p,g,v,m,y,b;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hl[n].line,i=t.getContext("2d"),r&&i){e.next=4;break}return e.abrupt("return");case 4:if(zl){e.next=8;break}return e.next=7,Yl();case 7:zl=e.sent;case 8:for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i.save(),a=l(r[o].position,2),c=a[0],u=a[1],s=l(r[o].size,2),f=s[0],d=s[1],p=ql(t,o,{width:f,height:d}),g=l(p,2),v=g[0],m=g[1],y="top"===o||"bottom"===o?"horizontal":"vertical",b="top"===o||"bottom"===o?t.width:t.height,Kl(i,zl,{sx:c,sy:u,sWidth:f,sHeight:d},v,m,y,b),i.restore());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ql=function(){var e=d(h().mark((function e(t,n){var r,i,o,a,c,u,s,f,d,p,g,v,m;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hl[n].edge){e.next=3;break}return e.abrupt("return");case 3:if(zl){e.next=7;break}return e.next=6,Yl();case 6:zl=e.sent;case 7:for(o in i=t.getContext("2d"),r)Object.prototype.hasOwnProperty.call(r,o)&&(a=l(r[o].position,2),c=a[0],u=a[1],s=l(r[o].size,2),f=s[0],d=s[1],p=$l(t,o,{width:f,height:d}),g=l(p,2),v=g[0],m=g[1],null==i||i.drawImage(zl,c,u,f,d,v,m,f,d));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jl=function(e,t){var n=t.type;return new Promise(function(){var t=d(h().mark((function t(r,i){var o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,zl){t.next=5;break}return t.next=4,Yl();case 4:zl=t.sent;case 5:n&&Gl(e,n),n&&Ql(e,n),(o=ye(e))&&r(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),i(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}())},Zl=function(e){var t=e.isActive,n=e.image,r=e.singleImage,i=e.updateHistory,o=e.updatePreview,c=e.removeHistory,u=ji(),s=Ei((function(e){return e.options.options.frame})),f=Ei((function(e){return e.options.fileSystem})),d=(0,si.useState)(s.reduce((function(e,t){var n=Ul.find((function(e){return e.type===t}));return n?[].concat(a(e),[{type:t}]):e}),[{type:Fl}])),p=l(d,1)[0],h=l((0,si.useState)(Fl),2),g=h[0],v=h[1],m=l((0,si.useState)(null),2),y=m[0],b=m[1],w=function(e){return v(e)};return(0,si.useEffect)((function(){var e;n&&(g===Fl?c():i({type:g})),t&&(e=g,n&&o&&o(n,{frame:{type:e}}))}),[g]),(0,si.useEffect)((function(){var e,t,r=null==n||null===(e=n.history)||void 0===e||null===(t=e.frame)||void 0===t?void 0:t.type;v(r||Fl),b(n?ue(n.originData.src,f,200,100):null)}),[null==n?void 0:n.id,null==n?void 0:n.history]),si.createElement("div",{className:$i()("cont_frame",{on:t,off:!t}),"data-log-action-layer":"frame-tab"},si.createElement("h3",{className:"tit_feature"},"테두리"),si.createElement("div",{className:"box_y_scroll box_y_scroll1"},si.createElement("div",{className:"list_img2"},p.map((function(e,t){return si.createElement("button",{type:"button",className:$i()("cont_img",{on:g===e.type}),key:e.type,onClick:function(){return w(e.type)},"data-log-action-layer":e.type},si.createElement("div",{className:"box_thumb"},si.createElement("span",{className:"thumb_g",style:{backgroundImage:"url(".concat(y,")")}},t,"번째 이미지"),function(e){switch(e){case"frame1":return si.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"213",height:"88"},si.createElement("defs",null,si.createElement("path",{id:"prefix__a",d:"M0 0h212v88H0z"}),si.createElement("path",{id:"prefix__c",d:"M15.36 308.64h293.28V15.36H15.36v293.28zM0 324h324V0H0v324z"}),si.createElement("filter",{id:"prefix__d",width:"107.9%",height:"107.9%",x:"-3.9%",y:"-3.9%",filterUnits:"objectBoundingBox"},si.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3.84"}))),si.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(.258)"},si.createElement("mask",{id:"prefix__b",fill:"#fff"},si.createElement("use",{xlinkHref:"#prefix__a"})),si.createElement("g",{mask:"url(#prefix__b)"},si.createElement("mask",{id:"prefix__e",fill:"#fff"},si.createElement("use",{xlinkHref:"#prefix__c"})),si.createElement("use",{fill:"#FEFEFE",xlinkHref:"#prefix__c"}),si.createElement("path",{fill:"#000",filter:"url(#prefix__d)",mask:"url(#prefix__e)",opacity:".2",d:"M15.36 310.944h293.28V17.664H15.36z"}))));case"frame2":return si.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30"},si.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M.258 354c0 16.569 13.431 30 30 30h-30zm384 0v30h-30c16.569 0 30-13.431 30-30zm0-324c0-16.569-13.431-30-30-30h30zM.258 0h30c-16.569 0-30 13.431-30 30V0z"}));case"frame3":return si.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"324",height:"324"},si.createElement("path",{fill:"none",stroke:"#FFF",strokeWidth:"2",d:"M15 15h294v294H15z"}));case"frame4":return si.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"324",height:"324"},si.createElement("path",{fill:"none",stroke:"#FEFEFE",strokeWidth:"15",d:"M316.5 7.5v309H7.5V7.5h309z"}));case"frame5":return si.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"324",height:"324"},si.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"15",d:"M316.5 7.5v309H7.5V7.5h309z",opacity:".2"}));case"frame6":return si.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"324",height:"324"},si.createElement("path",{fillRule:"evenodd",d:"M324 0v324H0V0h324zm-35 15H35c-11.046 0-20 8.954-20 20v254c0 11.046 8.954 20 20 20h254c11.046 0 20-8.954 20-20V35c0-11.046-8.954-20-20-20z",opacity:".2"}));case"frame7":return si.createElement("img",{src:Vl,alt:"테두리 이미지"});case"frame8":return si.createElement("img",{src:Xl,alt:"테두리 이미지"});default:return null}}(e.type)))})))),si.createElement("div",{className:"box_edit box_edit1"},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:g===Fl}),disabled:g===Fl,onClick:function(){return w(Fl)},"data-log-action-layer":"reset"},"재설정"),si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:r}),disabled:r,onClick:function(){var e;n&&!r&&u(Lr({ids:[n.id],history:{frame:null==n||null===(e=n.history)||void 0===e?void 0:e.frame}}))},"data-log-action-layer":"applymultiple"},"여러장 적용")))},ec=[{type:"brightness",name:"밝기",min:-150,max:150,value:0,shaderMin:-.3,shaderMax:.3},{type:"contrast",name:"대비",min:-100,max:100,value:0,shaderMin:-.3,shaderMax:.3},{type:"saturation",name:"채도",min:-100,max:100,value:0,shaderMin:-1,shaderMax:1},{type:"warmth",name:"색온도",min:-100,max:100,value:0,shaderMin:-1,shaderMax:1},{type:"vignette",name:"비네팅",min:-100,max:100,value:0,shaderMin:-100,shaderMax:100}],tc={autoRetouch:!0};function nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fi(e);if(t){var i=Fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Li(this,n)}}var rc,ic=function(e){Ai(n,e);var t=nc(n);function n(e,r){var i;return re(this,n),s(zi(i=t.call(this,e,r)),"fragmentShader",void 0),s(zi(i),"retouchLocations",void 0),i.fragmentShader="precision mediump float;\n\nuniform sampler2D texOrigin;\nuniform vec2 texOrigin_size;\nuniform float brightness;\nuniform float contrast;\nuniform float saturation;\nuniform float warmth;\nuniform float vignette;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n   vec4 tex = texture2D(texOrigin, v_texCoord);\n   /*\n     채도 \n     기존 포토스 참고해서 gray scale 값 설정 \n   */\n   vec3 gray = vec3(dot(vec3(0.299, 0.587, 0.114), tex.rgb));\n   vec4 color = vec4(mix(tex.rgb, gray, -saturation), tex.a);\n\n   /*\n     색온도 \n     기존 포토스 참고해서 rgb 값 조절할 수 있도록 적용\n   */\n   if (warmth > 0.0) {\n      color.r *= 1.0 + (warmth * 0.353);\n      color.g *= 1.0 - (warmth * 0.094);\n      color.b *= 1.0 - (warmth * 0.549);\n   } else {\n      color.r *= 1.0 + (warmth * 0.608);\n      color.g *= 1.0 - (warmth * 0.173);\n      color.b *= 1.0 - (warmth * 0.961);\n   }\n   // 밝기\n   color.rgb += brightness;\n   // 대비\n   if (contrast > 0.0) {\n      color.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;\n   } else {\n      color.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;\n   }\n   // 비네팅\n   if (vignette != 0.0) {\n      float dist = distance(v_texCoord, vec2(0.5, 0.5));\n      float radius = 1.0 - (abs(vignette) * 0.002);\n      float intensity = abs(vignette) * 0.008;\n      float vigCurve = smoothstep(radius, radius - intensity, dist);\n      \n      if (vignette < 0.0) {\n         color.rgb = mix(color.rgb, color.rgb * vigCurve, -0.5);\n      } else {\n         color.rgb = mix(color.rgb, color.rgb * vigCurve, 0.5);\n      }\n   }\n   gl_FragColor = color;\n}",i.retouchLocations=new Map,i}return oe(n,[{key:"getParsedValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ec;if(!t||!e)return t;var r=n.filter((function(t){return t.type===e})),i=l(r,1),o=i[0];if(!o)return t;var a=o.min,c=o.max,u=o.shaderMax,s=o.shaderMin,f=(t-a)/(c-a)*(u-s)+s;return Math.round(100*f)/100}},{key:"setRetouchUniformLocations",value:function(e){var t=this.gl;if(t)for(var n=0,r=Object.entries(e);n<r.length;n++){var i=l(r[n],2),o=i[0],a=i[1],c=this.retouchLocations.get(o);if(c&&"number"==typeof a&&c.type===t.FLOAT){var u=this.getParsedValue(o,a);t.uniform1fv(c.location,[u])}}}},{key:"getUniformLocations",value:function(){var e=this.gl,t=this.program;if(e&&t)for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;r++){var i=e.getActiveUniform(t,r);if(!i)throw new Error("uniform 정보를 가져올 수 없습니다.");var o=e.getUniformLocation(t,i.name);if(!o)return;this.retouchLocations.set(i.name,{type:i.type,location:o})}}},{key:"retouch",value:function(e,t){var r=this.isCompiled;t&&(this.originalCanvas=t,this.setCanvas(this.canvas,{width:t.width,height:t.height}),this.setImage(t)),r||(this.createProgram(),this.getUniformLocations()),e&&this.setRetouchUniformLocations(e),Tl(Fi(n.prototype),"render",this).call(this)}}]),n}(ni),oc=function(e,t){return new Promise((function(n,r){try{if(!e)return;rc||(rc=new ic(e)),rc.retouch(t,e);var i=rc.getImageData();if(!i)return;n(i)}catch(e){r(e)}}))},ac=function(e,t,n){return t>=n?e>=t?e:t:e>=n?e:n},lc=function(e,t,n,r){var i,o,a=t*n,l=function(e,t,n,r){var i,o,a,l,c,u,s,f=t*n*r,d=[];for(a=0,l=0;a<f;a+=r,l++)c=e[a],u=e[a+1],s=e[a+2],i=u<=s?c<=u?c:u:c<=s?c:s,0===(o=ac(e[a],e[a+1],e[a+2]))||255!==e[a+3]?d[l]=0:d[l]=(o-i)/o;return d}(e,t,n,r);o=0;for(var c=0;c<a;c++)o+=l[c];var u=o/a;return i=u>.5?100*(u-.5):100*(.5-u),10*Math.round(i/10)},cc=function(e){var t={},n=e.data,r=e.width,i=e.height,o=n.length/(r*i),a=function(e,t,n,r){var i,o,a=t*n*r,l=[];for(i=0,o=0;i<a;i+=r,o++)l[o]=4897*e[i]+9617*e[i+1]+1868*e[i+2]>>14;return l}(n,r,i,o);return t.contrast=function(e,t,n){var r,i,o=0,a=0,l=0,c=0,u=0,s=!1,f=0,d=function(e,t,n){var r,i=[],o=t*n;for(r=0;r<256;r++)i[r]=0;for(r=0;r<o;r++)i[e[r]]++;return i}(e,t,n);for(r=0;r<256;r++){var p=d[r];p>o&&r<=128&&(o=p,l=r),p>a&&r>128&&(a=p,c=r),(u+=p/(t*n))>=.68&&!1===s&&(s=!0,f=r)}return i=f-.68*(c-l),(i/=2)<-50&&(i=-50),i>150&&(i=150),10*Math.round(i/10)}(a,r,i),t.brightness=function(e,t,n,r,i){var o,a,l,c,u=0,s=0,f=n*r*i;for(l=0,c=0;l<f;l+=i,c++)255===e[l+3]&&(a=Math.exp(-12.5*Math.pow(.00390625*e[l]-.5,2))*Math.exp(-12.5*Math.pow(.00390625*e[l+1]-.5,2))*Math.exp(-12.5*Math.pow(.00390625*e[l+2]-.5,2)))<.2&&(u+=t[c],s++);return 0===s?0:(a=(o=.00390625*u/s)>.5?300*(o-.5):300*(.5-o),10*Math.round(a/10))}(n,a,r,i,o),t.saturation=lc(n,r,i,o),t.vignette=function(e,t,n,r,i){var o,a,l=n*r;if(4===i)for(o=0;o<l;o++)if(255!==e[a=o*i+3])return 0;var c=!1,u=!1,s=0,f=.1*l,d=0,p=0,h=0;for(o=0;o<5*n;o++)d+=t[o],p+=t[o]*t[o],h++;for(o=l-5*n;o<l;o++)d+=t[o],p+=t[o]*t[o],h++;var g=d/h;Math.abs(p/h-g*g)<5&&(g<10||g>245)&&(c=!0);var v=[];for(o=0;o<l;o++){var m=-(9699*e[a=o*i]>>16)-(19070*e[a+1]>>16)+(28770*e[a+2]>>16)+128,y=(28770*e[a]>>16)-(24117*e[a+1]>>16)-(4653*e[a+2]>>16)+128;v[2*o]=Math.min(Math.max(m,0),255),v[2*o+1]=Math.min(Math.max(y,0),255)}for(o=0;o<l;o++){a=2*o;var b=e[o*i],w=e[o*i+1],x=e[o*i+2],E=b>50&&w>40&&x>20&&Math.max(Math.max(b,w),x)-Math.min(Math.min(b,w),x)>10&&b-w>=10&&b>w&&b>x,S=b>220&&w>210&&x>170&&Math.abs(b-w)<=15&&b>x&&w>x;!0!==E&&!0!==S||v[a]>=75&&v[a]<=135&&v[a+1]>=135&&v[a+1]<=160&&v[a+1]>v[a]&&v[a+1]-v[a]>15&&s++}return s>f&&(u=!0),u?c?0:50:35}(n,a,r,i,o),t.warmth=0,t};function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fc=function(e){var t=e.isActive,n=e.image,r=e.singleImage,i=e.isPreviewClicked,o=e.updatePreview,u=e.updateHistory,f=e.removeHistory,d=ji(),p=Ei((function(e){return e.options.options.retouch.autoRetouch})),h=l((0,si.useState)(ec.map((function(e){return sc({},e)}))),2),g=h[0],v=h[1],m=l((0,si.useState)(!1),2),y=m[0],b=m[1],w=l((0,si.useState)(!1),2),x=w[0],E=w[1],S=l((0,si.useState)(!1),2),O=S[0],_=S[1],P=l((0,si.useState)({}),2),C=P[0],D=P[1],T=l((0,si.useState)(!1),2),j=T[0],N=T[1],M=(0,si.useCallback)((function(e){var t={};return e.forEach((function(e){return t[e.type]=e.value})),t.isAutoRetouch=y,t}),[y]),I=(0,si.useCallback)((function(){var e=!1;return g.forEach((function(t){t.value&&(e=!0)})),y&&(e=!0),e}),[y,g]),A=(0,si.useCallback)((function(e){return{list:ec.map((function(t){var n=sc({},t);return n.type in e&&(n.value=e[n.type]),n})),autoStatus:!!e.isAutoRetouch}}),[]),z=(0,si.useCallback)((function(e,t,n){if(t.value!==e){b(!1);var r=a(g);r[n]=sc(sc({},t),{},{value:e}),v(r)}}),[g]),L=(0,si.useCallback)((function(e){for(var t=a(g),n=function(){var e=i[r],n=(o=l(e,2))[0],a=o[1],c=t.find((function(e){return e.type===n}));if(!c||!Hi()(a))return{v:void 0};c.value=a},r=0,i=Object.entries(e);r<i.length;r++){var o,u=n();if("object"===c(u))return u.v}return t}),[g]),F=(0,si.useCallback)((function(){var e=document.querySelector(".ke_photos .canvas-preview.original");if(e&&n){var t=ye(e);if(t){var r=cc(t),i=L(r);return D(sc(sc({},C),{},s({},n.id,r))),i}}}),[C]),U=(0,si.useCallback)((function(e){if(n){var t=e.target.checked;if(t){var r=C[n.id]?L(C[n.id]):F();r&&v(r)}else E(!0);b(t)}}),[C]),H=(0,si.useCallback)((function(){if(n){var e=M(g);I()?u(e):f()}}),[g]);return(0,si.useEffect)((function(){x&&(v(ec.map((function(e){return sc({},e)}))),b(!1))}),[x]),(0,si.useEffect)((function(){t&&(H(),x?(E(!1),_(!1)):_(!R()(g,ec)))}),[t,x,g]),(0,si.useEffect)((function(){var e,t=null==n||null===(e=n.history)||void 0===e?void 0:e.retouch;if(t){var r=A(t),i=r.list,o=r.autoStatus;v(i),b(o)}else v(ec.map((function(e){return sc({},e)}))),b(!1)}),[null==n?void 0:n.id,null==n?void 0:n.history]),(0,si.useEffect)((function(){t&&n&&o&&o(n,i?{retouch:M(ec)}:{retouch:M(g)})}),[t,i]),si.createElement("div",{className:$i()("content-snb",{on:t,off:!t}),"data-log-action-layer":"retouch-tab"},si.createElement("h4",{className:"screen_out"},"보정"),p&&si.createElement(fo,{name:"자동 보정",isAuto:y,id:"autoRetouching",handleAutoStatus:U}),g.map((function(e,r){var i=e.type,l=e.name,c=e.min,u=e.max,s=e.value;return si.createElement(Qi,{key:i,id:"slider-".concat(i),min:c,max:u,changeValue:function(i){return function(e,r,i){if(n&&o){var l=a(g);l[i]=sc(sc({},r),{},{value:e}),_(!R()(l,ec));var c=M(l);t&&o(n,{retouch:c})}}(i,e,r)},updateValue:function(t){return z(t,e,r)},currentValue:s,label:l,isInput:!0,isTwoWay:!0,"data-log-action-layer":i,"data-log-action-command":"setretouch"})})),si.createElement("div",{className:"box_edit box_edit1"},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:!O}),disabled:!O,onClick:function(){return E(!0)},"data-log-action-layer":"reset"},"재설정"),si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:r}),disabled:r,onClick:function(){var e;n&&!r&&d(Lr({ids:[n.id],history:{retouch:null===(e=n.history)||void 0===e?void 0:e.retouch},submitCallback:function(){return N(!0)}}))},"data-log-action-layer":"applymultiple"},"여러장 적용")),j&&si.createElement(so,{root:".ke_photos .box_canvas",open:j,dispatch:N,x:"50%",y:"50%",duration:k,message:"선택한 사진에 효과가 적용되었습니다."}))},dc=n(1469),pc=n.n(dc),hc=[{size:300},{size:400},{size:500},{size:600},{size:700},{size:800},{size:900},{size:1e3}];function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mc=function(e){var t,n=e.isActive,r=e.image,i=e.singleImage,o=e.updateHistory,a=e.removeHistory,c=ji(),u=Ei((function(e){return e.selections})),s=Ei((function(e){return e.images})),f=Ei((function(e){return e.preview.expand})),d=l((0,si.useState)(hc.map((function(e){return vc({},e)}))),1)[0],p=l((0,si.useState)(0),2),h=p[0],g=p[1],v=l((0,si.useState)(!1),2),m=v[0],b=v[1],w=l((0,si.useState)(!1),2),x=w[0],E=w[1],S=l((0,si.useState)(0),2),O=S[0],_=S[1],P=l((0,si.useState)(0),2),C=P[0],D=P[1],T=l((0,si.useState)(""),2),j=T[0],N=T[1],I=l((0,si.useState)("직접 입력"),2),R=I[0],A=I[1],z=l((0,si.useState)({width:(null==r?void 0:r.width)||0,height:(null==r?void 0:r.height)||0}),2),L=z[0],F=z[1],U=(0,si.useRef)(null),H=(0,si.useRef)(null),B=(0,si.useRef)({});(0,si.useEffect)((function(){u.isResize&&x&&(b(!0),E(!1),c(Vr()))}),[u.isResize]);var V=function(e){if(r&&!(e>L.width)){f||c(xr());var t=e/L.width,n=function(e){var t={width:0,height:0,scale:1},n=L.width/L.height;return t.width=e,t.height=Math.floor(e/n),t}(e);n.scale=t,o(n),c(_r({scale:t}))}},X=function(){A("직접 입력"),g(L.width),N(""),D(0),_(0),r&&r.history&&a()},W=function(){0!==O&&_(0),0!==C&&D(0),0!==h&&g(0),""!==j&&N("")};return(0,si.useEffect)((function(){var e,t;if(r&&n){L&&L.width&&L.height||F({width:r.width,height:r.height});var i=function(){var e,t,n,i,o;if(null!=r&&null!==(e=r.history)&&void 0!==e&&e.size){var a=r.history.size;n=a.width,i=a.height,o=a.scale}else if(null!=r&&null!==(t=r.history)&&void 0!==t&&t.crop){var l=r.history.crop,c=l.width,u=l.height,s=l.rotate;n=(s||0)%2?u:c,i=(s||0)%2?c:u,o=1}return{width:n=n||(null==r?void 0:r.width)||0,height:i=i||(null==r?void 0:r.height)||0,scale:o=o||1}}().width,o=1;if(null!==(e=r.history)&&void 0!==e&&e.size&&!M()(null===(t=r.history)||void 0===t?void 0:t.size)){if((r.history.size.width||0)<r.width){o=i/r.width;var l=hc.find((function(e){return e.size===i}));0!==i&&0===C?l&&0===O?(D(i),_(0),N("")):(_(i),N("직접 입력 ".concat(i))):l||W()}else if((r.history.size.width||0)>=r.width){var u;a(),W(),null===(u=H.current)||void 0===u||u.focus()}}else W();g(i),c(_r({scale:o}))}}),[r,null==r||null===(t=r.history)||void 0===t?void 0:t.size]),(0,si.useEffect)((function(){var e,t;if(r&&n)if(null!==(e=r.history)&&void 0!==e&&e.crop||null!==(t=r.history)&&void 0!==t&&t.size){var i=r.history.size,o=r.history.crop,a=r.width,l=r.height,c=0;o?(a=(o.rotate||0)%2?o.height:o.width,l=(o.rotate||0)%2?o.width:o.height,c=null!=i&&i.width?i.width:a):i&&(a=i.width||r.width,l=i.height||r.height,c=a),hc.find((function(e){return e.size===c}))&&null!=i&&i.width?(D(c),g(Math.floor(a)),_(0),N("직접 입력")):(D(0),g(c),null!=i&&i.width&&(_(c),N("직접 입력 ".concat(c)))),F({width:o?a:r.width,height:o?l:r.height})}else F({width:r.width,height:r.height}),g(r.width)}),[null==r?void 0:r.id,null==r?void 0:r.history,n]),si.createElement("div",{className:$i()("cont_size",{on:n,off:!n}),"data-log-action-layer":"size-tab"},si.createElement("h3",{className:"tit_feature"},"크기"),si.createElement("div",{className:"box_y_scroll"},si.createElement("div",{className:"content-snb"},si.createElement("h4",{className:"screen_out"},"크기 편집 목록"),si.createElement("div",{className:"box_edit"},si.createElement("button",{type:"button",ref:H,className:$i()("btn_type1 btn_type2",{on:L.width===h&&0===C}),onClick:X,"data-log-action-layer":"original","data-log-action-command":"original"},L.width&&L.height?"원본 ".concat(Math.floor(L.width),"×").concat(Math.floor(L.height)):""),si.createElement("div",{className:"btn_type1 btn_type2 btn_inp"},si.createElement("input",{type:"text",className:$i()("inp_g",{on:O===h,placeHolder:"가로 사이즈 입력"===R&&0===O}),id:"inputSize",placeholder:"가로 사이즈 입력",title:"사이즈 입력",onChange:function(e){var t=e.target.value,n=parseInt(t.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"));(isNaN(n)||n<1)&&(n=0),n>y&&(n=y),n>L.width&&(n=L.width),_(n),0!==C&&D(0)},onKeyPress:function(e){if(pe(e.target)){var t=parseInt(e.target.value);if((isNaN(t)||t<1)&&(t=L.width),"Enter"===e.key){if(_(t),N("직접 입력 ".concat(t)),V(t),!U.current)return;U.current.blur()}}},onFocus:function(e){A("가로 사이즈 입력"),0===O?(e.target.value="",N("")):isNaN(Number(e.target.value))&&(N(""),e.target.value=O.toString())},onBlur:function(e){0===O?(A("직접 입력"),e.target.value="직접 입력"):parseInt(e.target.value)!==h?(V(parseInt(e.target.value)),N("직접 입력 ".concat(parseInt(e.target.value)))):h===L.width?X():N("직접 입력 ".concat(h))},value:0!==O?""!==j?"".concat(j):O:R,ref:U,"data-log-action-layer":"customsize","data-log-action-command":"customsize"}))),si.createElement("div",{className:"box_edit box_edit1"},d.map((function(e,t){return si.createElement("button",{type:"button",key:t,disabled:e.size>L.width,onClick:function(){return t=e.size,D(t),V(t),_(0),N(""),void(r&&(B.current[r.id]=!0));var t},className:$i()("btn_type1 btn_type2",{on:e.size===C},{disabled:e.size>L.width}),"data-log-action-layer":"size".concat(e.size),"data-log-action-command":"setsize"},e.size)}))),si.createElement("div",{className:"box_edit box_edit_desc"},si.createElement("span",{className:"desc"},"원본 크기보다 크게 수정할 수 없습니다.")),si.createElement("div",{className:"box_edit"},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:i||h===L.width&&r&&!B.current[r.id]}),disabled:i||h===L.width&&r&&!B.current[r.id],onClick:function(){if(r&&!i&&(h!==L.width||B.current[r.id])){var e=[];s.forEach((function(t){pc()(t)?t.forEach((function(t){(t.originData.width||0)<h&&e.push(t.id)})):(t.originData.width||0)<h&&e.push(t.id)})),c(Lr({ids:[null==r?void 0:r.id],exceptions:e,history:function(e){var t;if(B.current[e.id]=e.width!==h,e.width===h)return null===(t=e.history)||void 0===t||delete t.size,vc({},e.history);var n=e.width/e.height,r=h/e.width;return vc(vc({},e.history),{},{size:{width:h,height:h*n,scale:r}})}})),E(!0)}},"data-log-action-layer":"applymultiple","data-log-action-command":"applymultiple"},"여러장 적용")))),m&&si.createElement(so,{open:m,x:"50%",y:"50%",duration:k,message:"선택한 이미지가 가로 ".concat(h,"px로 수정되었습니다. \r\n 단, 원본 이미지가 이보다 작은 경우 수정되지 않습니다."),onDismiss:function(){return b(!1)}}))},yc=function(e,t,n){var r=t.width||0,i=t.height||0;r/i!==n&&(i=r/n);var o=r/e.width,a=i/e.height,l=we(e.width,e.height,ye(e));e.width=r,e.height=i;var c=function(e,t){var n=new De;return n.scaleMatrix(e,t),n}(o,a),u=e.getContext("2d");return null==u||u.clearRect(0,0,r,i),null==u||u.save(),null==u||u.transform.apply(u,c.toArray()),null==u||u.drawImage(l,0,0),null==u||u.restore(),ye(e)},bc=function(e){return e&&"string"!=typeof e?e.a?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a/_,")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"):"transparent"},wc=function(e,t,n,r){var i=["".concat(e,"px")];return t&&i.push(t),n&&i.unshift("bold"),r&&i.unshift("italic"),i.join(" ")},xc=function(e,t,n){return e.centerPoint?{x:"l"===e.centerPoint[0]?e.x:n.width-e.x-t.width,y:"t"===e.centerPoint[1]?e.y:n.height-e.y-t.height}:{x:e.x,y:e.y}};function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oc=function(){function e(){re(this,e),s(this,"stickerBuffer",{})}var t,n,r;return oe(e,[{key:"attach",value:(r=d(h().mark((function e(t,n,r){var i,o=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return i=[],null!=r&&r.text&&i.push.apply(i,a(r.text.map((function(e){return o.textTypeAdapter(e,n)})))),null!=r&&r.sticker&&i.push.apply(i,a(r.sticker.map((function(e){return o.imageTypeAdpater(e,n)})))),i.sort((function(e,t){return e.id-t.id})),e.next=8,this.drawAddons(t,i);case 8:if(null==r||!r.sign){e.next=11;break}return e.next=11,this.drawSign(t,r.sign,n);case 11:return e.abrupt("return",t.getImageData(0,0,n.width,n.height));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"textTypeAdapter",value:function(e,t){return Sc(Sc({},e),{},{position:Sc(Sc({},e.position),xc(e.position||{x:0,y:0},e,t))})}},{key:"imageTypeAdpater",value:function(e,t){return Sc(Sc({},e),{},{position:Sc(Sc({},e.position),xc(e.position||{x:0,y:0},e,t))})}},{key:"drawAddons",value:(n=d(h().mark((function e(t,n){var r,i,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<n.length)){e.next=17;break}if(i=n[r],!this.isTextItemType(i)){e.next=7;break}this.drawTextTypeItem(t,i,S),e.next=14;break;case 7:if(!(o=this.stickerBuffer[i.src])){e.next=12;break}this.drawCachedImage(t,i,o),e.next=14;break;case 12:return e.next=14,this.drawImageTypeItem(t,i,!0);case 14:r++,e.next=1;break;case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"drawTextTypeItem",value:function(e,t){var n=t.width,r=t.height,i=t.content,o=t.position,a=t.textStyle,l=t.transparent,c=t.flip,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;if(i.trim()){var s=((null==o?void 0:o.x)||0)+(null!=c&&c.flipV?n:0),f=((null==o?void 0:o.y)||0)+(null!=c&&c.flipH?r:0),d=null!=c&&c.flipV?-n:n,p=null!=c&&c.flipH?-r:r,h=(null==a?void 0:a.font)||"",g=(null==a?void 0:a.size)||30,v=g*u,m=(null==a?void 0:a.align)||"left",y=v-g>>1,b=bc(null==a?void 0:a.textColor),w=bc(null==a?void 0:a.backgroundColor),x=i.split("\n");e.save(),e.translate(s,f),e.globalAlpha=(l||_)/_,null!=o&&o.rotate&&this.rotateCanvas(e,o.rotate,d,p),(null!=c&&c.flipV||null!=c&&c.flipH)&&e.scale(c.flipV?-1:1,c.flipH?-1:1),e.fillStyle=w,e.fillRect(0,0,n,r),e.textBaseline="top",e.font=wc(g,h,null==a?void 0:a.bold,null==a?void 0:a.italic),e.fillStyle=b,x.forEach((function(t,r){var i=y+r*v,o=e.measureText(t).width,l="left"===m?0:"center"===m?n-o>>1:n-o;if(e.fillText(t,l,i),null!=a&&a.underline){var c=Math.round(g/10),u=i+g-c;e.beginPath(),e.lineWidth=c,e.strokeStyle=b,e.moveTo(l,u),e.lineTo(l+o,u),e.stroke()}})),e.restore()}}},{key:"drawCachedImage",value:function(e,t,n){var r=t.position,i=t.width,o=t.height,a=t.flip,l=(null==r?void 0:r.x)||0,c=(null==r?void 0:r.y)||0,u=null!=a&&a.flipV?-i:i,s=null!=a&&a.flipH?-o:o;e.save(),e.translate(l,c),null!=r&&r.rotate&&this.rotateCanvas(e,r.rotate,u,s),(null!=a&&a.flipV||null!=a&&a.flipH)&&e.scale(a.flipV?-1:1,a.flipH?-1:1),e.drawImage(n,0,0,i,o),e.restore()}},{key:"drawImageTypeItem",value:function(e,t,n){var r=this,i=t.src,o=t.position,a=t.width,l=t.height,c=t.transparent,u=t.flip;return new Promise((function(t){i||t(!1);var s=new Image;s.crossOrigin="Anonymous",s.addEventListener("load",(function(){var f=((null==o?void 0:o.x)||0)+(null!=u&&u.flipV?a:0),d=((null==o?void 0:o.y)||0)+(null!=u&&u.flipH?l:0),p=null!=u&&u.flipV?-a:a,h=null!=u&&u.flipH?-l:l;n&&(r.stickerBuffer[i]=s),e.save(),e.translate(f,d),null!=o&&o.rotate&&r.rotateCanvas(e,o.rotate,p,h),e.globalAlpha=(c||_)/_,(null!=u&&u.flipV||null!=u&&u.flipH)&&e.scale(u.flipV?-1:1,u.flipH?-1:1),e.drawImage(s,0,0,a,l),e.restore(),t(!0)})),s.src=i.match(/^data:image/g)?i:"".concat(i,"?").concat(Date.now())}))}},{key:"drawSign",value:(t=d(h().mark((function e(t,n,r){var i,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("text"!==n.type){e.next=5;break}i=Sc(Sc({},n),{},{position:Sc(Sc({},n.position),xc(n.position||{x:0,y:0},n,r))}),this.drawTextTypeItem(t,i),e.next=9;break;case 5:if("image"!==n.type){e.next=9;break}return o=Sc(Sc({},n),{},{src:n.content,position:Sc(Sc({},n.position),xc(n.position||{x:0,y:0},n,r))}),e.next=9,this.drawImageTypeItem(t,o);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"isTextItemType",value:function(e){return void 0!==e.content}},{key:"rotateCanvas",value:function(e,t,n,r){var i=t*Math.PI/q,o=n>>1,a=r>>1;e.translate(o,a),e.rotate(i),e.translate(-o,-a)}}]),e}(),_c=function(){var e=Ei((function(e){return e.images})),t=Ei((function(e){return e.options.exportFormat})),n=new Oc,r="original"===t,i=function(e){return e.editable&&"history"in e&&!M()(e.history)},o=function(){var e=d(h().mark((function e(t){var r,o,a,l,c,u,s,f,d,p,g,v,m,y,b,w,x,E,S,O,_,k,P,C,D,T,j,N,M,I,R,A=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A.length>1&&void 0!==A[1]?A[1]:"png",e.prev=1,i(t)){e.next=4;break}return e.abrupt("return",null);case 4:return p=t.history,e.next=7,Oe(t.src);case 7:if(g=e.sent){e.next=10;break}return e.abrupt("return",null);case 10:if(v=null!==(o=null===(a=g)||void 0===a?void 0:a.width)&&void 0!==o?o:t.width,m=null!==(l=null===(c=g)||void 0===c?void 0:c.height)&&void 0!==l?l:t.height,null!=p&&p.crop&&(E=Xa(we(v,m,g),p.crop,v,m),v=null!==(y=null===(b=g=E)||void 0===b?void 0:b.width)&&void 0!==y?y:t.width,m=null!==(w=null===(x=g)||void 0===x?void 0:x.height)&&void 0!==w?w:t.height),null==p||!p.filter){e.next=18;break}return e.next=16,Il(we(v,m,g),we(v,m),p.filter);case 16:S=e.sent,g=S;case 18:if(null==p||!p.retouch){e.next=23;break}return e.next=21,oc(we(v,m,g),p.retouch);case 21:O=e.sent,g=O;case 23:if(null==p||!p.blur){e.next=28;break}return e.next=26,Go(we(v,m,g),p.blur);case 26:_=e.sent,g=_;case 28:if(null==p||!p.mosaic){e.next=33;break}return e.next=31,ga(we(v,m,g),p.mosaic);case 31:k=e.sent,g=k;case 33:if(!(null!=p&&p.text||null!=p&&p.sticker||null!=p&&p.sign)){e.next=40;break}if(P=we(v,m,g),!(C=P.getContext("2d"))){e.next=40;break}return e.next=39,n.attach(C,{width:v,height:m},p);case 39:g=e.sent;case 40:if(null==p||!p.frame){e.next=45;break}return e.next=43,Jl(we(null!==(D=null===(T=g)||void 0===T?void 0:T.width)&&void 0!==D?D:v,null!==(j=null===(N=g)||void 0===N?void 0:N.height)&&void 0!==j?j:m,g),p.frame);case 43:M=e.sent,g=M;case 45:return null!=p&&p.size&&(I=v/m,R=yc(we(v,m,g),p.size,I),g=R),v=null!==(u=null===(s=g)||void 0===s?void 0:s.width)&&void 0!==u?u:t.width,m=null!==(f=null===(d=g)||void 0===d?void 0:d.height)&&void 0!==f?f:t.height,e.abrupt("return",xe(we(v,m,g),r));case 51:e.prev=51,e.t0=e.catch(1),console.error(e.t0);case 54:case"end":return e.stop()}}),e,null,[[1,51]])})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=d(h().mark((function e(n){var l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=d(h().mark((function e(n){var l,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(n)){e.next=2;break}return e.abrupt("return",a(n));case 2:return e.next=4,o(n,r?n.originData.format:t);case 4:return l=e.sent,c={dataUrl:l,serializedData:i(n)?JSON.stringify(n.history):null,url:n.originData.src,width:l?n.width:void 0,height:l?n.height:void 0},n.extraData&&(c.extraData=n.extraData),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var t=d(h().mark((function t(n){var r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a(e);case 3:r=t.sent,n(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return{exportImages:l}},kc=function(){var e=function(){var e=d(h().mark((function e(t,n,r){var i,o,a,l,c,u,s,f,d,p,g,v,m,y;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n.src,o=n.width,a=n.height,l=n.history,c=t.getContext("2d"),!r){e.next=7;break}e.t0=ye(r),e.next=10;break;case 7:return e.next=9,be(i);case 9:e.t0=e.sent;case 10:if(u=e.t0,s=o,f=a,null!=l&&l.crop&&(d=Xa(we(s,f,u),l.crop,s,f),s=(u=d).width,f=u.height),null==l||!l.filter){e.next=19;break}return e.next=17,Il(we(s,f,u),we(s,f),l.filter);case 17:p=e.sent,u=p;case 19:if(null==l||!l.retouch){e.next=24;break}return e.next=22,oc(we(s,f,u),l.retouch);case 22:g=e.sent,u=g;case 24:if(null==l||!l.blur){e.next=29;break}return e.next=27,Go(we(s,f,u),l.blur);case 27:v=e.sent,u=v;case 29:if(null==l||!l.mosaic){e.next=34;break}return e.next=32,ga(we(s,f,u),l.mosaic);case 32:m=e.sent,u=m;case 34:if(null==l||!l.frame){e.next=39;break}return e.next=37,Jl(we(s,f,u),l.frame);case 37:y=e.sent,u=y;case 39:if(u){e.next=41;break}return e.abrupt("return");case 41:null==c||c.clearRect(0,0,t.width,t.height),t.width===s&&t.height===f||(t.width=s,t.height=f,t.style.width="".concat(s,"px"),t.style.height="".concat(f,"px")),null==c||c.putImageData(u,0,0),e.next=49;break;case 46:e.prev=46,e.t1=e.catch(0),console.error(e.t1);case 49:case"end":return e.stop()}}),e,null,[[0,46]])})));return function(t,n,r){return e.apply(this,arguments)}}();return{paintCanvas:e}};function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dc=function(){var e=ji(),t=kc().paintCanvas,n=Ei((function(e){return e.preview.selectedId})),r=Ei((function(e){return e.preview.isPainted}));return{updateHistory:function(t){return function(r){return e(Hn({ids:[n],history:s({},t,r)}))}},updatePipeline:function(t){return function(n){return e(rr({key:t,history:n}))}},updateMenu:function(t){return function(n){return e(Kn({key:t,history:n}))}},removeHistory:function(t){return function(){return e(Bn({ids:[n],historyKey:t}))}},updatePreview:function(e,n){if(r){var i=document.querySelector(".ke_photos .canvas-preview.edit-layer"),o=document.querySelector(".ke_photos .canvas-preview.original");if(i&&o){var a=Cc(Cc({},e),{},{history:Cc(Cc({},null==e?void 0:e.history),n)});t(i,a,o)}}}}},Tc=function(e){var t=e||document.body;return{width:t.clientWidth,height:t.clientHeight}},jc=function(e){return!!e&&!M()(e)};var Nc=function(e){var t=e.successCallback,n=e.cancelCallback,r=e.destroyCallback,i=e.updateLoadingStatus,o=_c().exportImages,a=Dc().updateMenu,c=Ei((function(e){return e.images})),u=Ei((function(e){return e.selections.open})),s=Ei((function(e){return e.menu.isCropping})),f=Ei((function(e){return e.menu.isCompleting})),d=Ei((function(e){return e.options.embed})),p=l((0,si.useState)(!1),2),h=p[0],g=p[1],v=l((0,si.useState)(!1),2),m=v[0],y=v[1],b=function(){n(),setTimeout((function(){return r()}),0)},w=function(e){e.preventDefault();var t=1,n=X(c,(function(e){return e.id!==t++})),r=X(c,(function(e){return jc(e.history)}));n||r?g(!0):b()},x=function(e){t(e),setTimeout((function(){return r()}),0)},E=function(){i(!0),o(x),a("isCompleting")(!1)};return(0,si.useEffect)((function(){f&&!s&&m&&(y(!1),E())}),[s,m]),si.createElement("footer",{className:"doc-footer",style:{display:d?"none":"block"},"data-log-action-layer":"footer"},si.createElement("div",{className:$i()("box_submit",{disabled:u,hide:d})},si.createElement("h2",{className:"screen_out"},"적용 버튼 목록"),si.createElement("div",{className:"submit_btn"},si.createElement("button",{type:"button",onClick:w,className:"btn_type1","data-log-action-layer":"cancel"},"취소"),si.createElement("button",{type:"button",onClick:function(){a("isCompleting")(!0),s?y(!0):E()},className:"btn_type1 btn_type1_type1","data-log-action-layer":"complete"},"완료"))),si.createElement("a",{onClick:w,className:"btn_close_footer","data-log-action-layer":"close"},"닫기"),si.createElement(uo,{open:h,dispatch:g,onSubmit:b,title:"편집 중인 사진이 있습니다.",description:"편집을 종료하면 변경한 내용이 저장되지 않습니다.\n편집을 취소하시겠습니까?"}))};var Mc=function(e){var t=e.tabs,n=Dc(),r=n.updateHistory,i=n.updatePipeline,o=n.removeHistory,a=n.updateMenu,c=Ei((function(e){return e.images})),u=Ei((function(e){return e.preview.selectedId})),s=Ei((function(e){return e.selections.open})),f=Ei((function(e){return e.menu.isCropping})),d=Ei((function(e){return e.menu.showSaveModal})),p=Ei((function(e){return e.options.embed})),h=Ei((function(e){return e.menu.tab})),g=l((0,si.useState)(null),2),v=g[0],m=g[1],y=B(c,(function(e){return e.id===u})),b=!0===(null==p?void 0:p.hideMenu)||p&&void 0===p.hideMenu,w=(0,si.useCallback)((function(e){var t,n;if(e!==h&&(a("tab")(e),"sign"===e||null==y||null===(t=y.history)||void 0===t||!t.sign||null!==(n=y.history.sign)&&void 0!==n&&n.content.trim()||o("sign")(),"text"!==e&&y&&y.history&&y.history.text)){var l=y.history.text.filter((function(e){return e.content.trim()}));r("text")(l),i("text")(void 0)}}),[h]),x=(0,si.useCallback)((function(e,t){e.preventDefault();var n=Array.isArray(t)?t[0]:t;f?(m(n),a("showSaveModal")(!0)):w(n)}),[f,w]);return(0,si.useEffect)((function(){f||d||!v||(w(v),m(null))}),[d,m]),si.createElement("header",{className:$i()("doc-header",{disabled:!(null!=y&&y.editable)||s,hide:b})},si.createElement("h1",{className:"screen_out"},"사진편집기"),si.createElement("nav",{id:"gnbContent",className:"doc-gnb"},si.createElement("h2",{className:"screen_out"},"메인툴바"),si.createElement("ul",{className:"list_gnb"},t.map((function(e){var t=e.menu,n=e.tab,r=e.name,i=e.icon;return si.createElement("li",{className:$i()({on:Array.isArray(n)?n.includes(h):h===n}),key:t},si.createElement("a",{onClick:function(e){return x(e,n)},className:"link_gnb","data-log-action-layer":"".concat(t,"-tab"),"data-log-action-command":"changetab"},si.createElement("span",{className:"ico_editor ico_".concat(i)}),si.createElement("span",{className:"txt_toolbar"},r)))})))))},Ic=400,Rc=[{menu:"size",tab:"size",name:"크기",icon:"size"},{menu:"crop",tab:"crop",name:"자르기",icon:"crop"},{menu:"effect",tab:["filter","retouch"],name:"효과",icon:"effect"},{menu:"sign",tab:"sign",name:"서명",icon:"sign"},{menu:"sticker",tab:"sticker",name:"스티커",icon:"sticker"},{menu:"mosaicblur",tab:["mosaic","blur"],name:"모자이크",icon:"blur"},{menu:"text",tab:"text",name:"텍스트",icon:"text"},{menu:"frame",tab:"frame",name:"테두리",icon:"frame"}],Ac=[{text:"사용안함",type:"none"},{text:"텍스트",type:"text"},{text:"이미지",type:"image"}],zc="keditor_photos_sign",Lc="업로드 불가 파일입니다.",Fc=40,Uc=40,Hc={r:255,g:255,b:255},Bc={r:0,g:0,b:0,a:20},Vc={centerPoint:"rb",x:Fc,y:Uc},Xc={serviceUrl:location.href.substring(0,50)};function Wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $c=function(e,t){if(!e||!t)return 14;var n=Math.min(e,t);if(n<400)return 20;var r=Math.round(n/20);return Math.min(r,w)},qc=function(){var e,t,n,r,i,o,a,l,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",u=arguments.length>1?arguments[1]:void 0,s=(c||"").substring(0,50),f=ro[0].style,d=null!==(e=null!==(t=null==u||null===(n=u.history)||void 0===n||null===(r=n.crop)||void 0===r?void 0:r.width)&&void 0!==t?t:null==u?void 0:u.width)&&void 0!==e?e:0,p=null!==(i=null!==(o=null==u||null===(a=u.history)||void 0===a||null===(l=a.crop)||void 0===l?void 0:l.height)&&void 0!==o?o:null==u?void 0:u.height)&&void 0!==i?i:0,h=$c(d,p),g=ae.getInstance().getTextWidth(s,h,{font:f}),v=h*O;return{id:Date.now(),type:"text",content:s,textStyle:{font:f,size:h,textColor:Hc,backgroundColor:Bc},width:g,height:v,position:Yc({},Vc)}},Kc=function(){return{id:Date.now(),type:"image",content:"",width:0,height:0,position:Yc({},Vc)}},Gc=function(e,t,n){var r,i,o,a,l,c,u,s,f,d,p=n?E:x,h=function(e){var t=document.querySelector(".box_canvas");return t?{width:t.clientWidth-e.left-e.right,height:t.clientHeight-e.top-e.bottom}:{width:0,height:0}}(p),g=function(e){for(var n=t.width,r=t.height;e.width<n||e.height<r;){if(e.width<n){var i=e.width/n;n=e.width,r*=i}if(e.height<r)n*=e.height/r,r=e.height}return{width:n,height:r}}(h),v=function(e,n){return{top:(e.height-t.height)/2+n.top,left:(e.width-t.width)/2+n.left}}(h,p),m=t.width-g.width,y=(t.height-g.height>>1)+v.top,b=(m>>1)+v.left,w=y+g.height,S=b+g.width,O=Math.max(n?t.width:g.width,h.width+p.left+p.right),_=Math.max(n?t.height:g.height,h.height+p.top+p.bottom),k=null!==(r=null===(i=e.position)||void 0===i?void 0:i.centerPoint)&&void 0!==r?r:"rb",P="r"===k[0]?S-(null!==(o=null===(a=e.position)||void 0===a?void 0:a.x)&&void 0!==o?o:Fc)-e.width:b+(null!==(l=null===(c=e.position)||void 0===c?void 0:c.x)&&void 0!==l?l:Fc),C="b"===k[1]?w-(null!==(u=null===(s=e.position)||void 0===s?void 0:s.y)&&void 0!==u?u:Uc)-e.height:y+(null!==(f=null===(d=e.position)||void 0===d?void 0:d.y)&&void 0!==f?f:Uc);return P+e.width<0||O<P||C+e.height<0||_<C?0:(Math.min(P+e.width,O)-Math.max(P,0))*(Math.min(C+e.height,_)-Math.max(C,0))/(e.width*e.height)};function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zc=function(e){var t,n=e.image,r=e.isActive,i=e.singleImage,o=e.pipeline,a=e.saveSign,c=e.setDisplaySelectionSubmit,u=e.updateHistory,s=ji(),f=Ei((function(e){return e.preview.expand})),d=l((0,si.useState)(Kc()),2),p=d[0],h=d[1],g=(0,si.useRef)(null),v=(0,si.useRef)({}),m=(0,si.useCallback)((function(){n&&n.history&&n.history.sign&&!i&&s(Lr({ids:[null==n?void 0:n.id],history:function(e){var t,n=or()({},p);Gc(p,e,f)<.5&&(n.position=Jc(Jc({},Vc),{},{centerPoint:(null===(t=n.position)||void 0===t?void 0:t.centerPoint)||"rb"}));return v.current[e.id]=or()({},n),Jc(Jc({},e.history),{},{sign:or()({},p)})},exceptions:[null==n?void 0:n.id],submitCallback:function(){return c(!0)}}))}),[n]);return(0,si.useEffect)((function(){var e;n&&null!==(e=n.history)&&void 0!==e&&e.sign&&"image"===n.history.sign.type&&h(n.history.sign)}),[null==n?void 0:n.id]),(0,si.useEffect)((function(){n&&r&&!o&&h(v.current[n.id]||Kc())}),[r]),(0,si.useEffect)((function(){var e;n&&r&&!R()(null===(e=n.history)||void 0===e?void 0:e.sign,p)&&(v.current[n.id]=or()({},p),u(or()({},p)))}),[p]),(0,si.useEffect)((function(){n&&n.history&&n.history.sign&&"image"===n.history.sign.type&&(v.current[n.id]=or()({},n.history.sign),h(or()({},n.history.sign)))}),[null==n||null===(t=n.history)||void 0===t?void 0:t.sign]),(0,si.useEffect)((function(){n&&(r||"image"===(null==o?void 0:o.type))&&h(Jc(Jc({},p),o))}),[o]),si.createElement("div",{className:$i()("content-sub",{on:r,off:!r})},si.createElement("div",{className:"box_edit box_edit6"},si.createElement("div",{className:"btn_type1 btn_type2"},p.content?"변경":"추가",si.createElement("input",{ref:g,type:"file",className:"inp_g",id:"inputSize",placeholder:"직접 입력",title:p.content?"이미지 변경":"이미지 추가",onChange:function(e){var t=e.target;if(pe(t)&&t.files){var r=t.files.item(0);if(r){if(r.size/1024>1024)return alert("1MB를 초과하는 이미지는 사용할 수 없습니다."),void(t.value="");if(n){var i=new FileReader,o=new Image;i.addEventListener("load",(function(){var e=i.result;if(e)if("string"!=typeof e){switch(!0){case 37===(n=new Uint8Array(e.slice(0,4)))[0]&&80===n[1]&&68===n[2]&&70===n[3]:return alert(Lc),void(t.value="");case function(e){if(!e)return!1;var t=new Uint8Array(e),n=Array.from(t.slice(0,12)).map((function(e){return String.fromCharCode(e)})).join("").toUpperCase(),r=!1;return n.indexOf("GIF")>-1?r=ee(t):n.indexOf("WEBP")>-1?r=ne(t):n.indexOf("PNG")>-1&&(r=te(t)),r}(e):return alert("움직이는 이미지는 사용할 수 없습니다."),void(t.value="")}var n,r={id:Date.now(),type:"image",content:o.src,width:o.width,height:o.height,position:Jc({},Vc)};h(r),t.value=""}else o.src=e})),o.addEventListener("load",(function(){return i.readAsArrayBuffer(r)})),o.addEventListener("error",(function(){alert(Lc),t.value=""})),i.readAsDataURL(r)}}}},"data-log-action-layer":"".concat(p.content?"changeimage":"addimage")}))),si.createElement(Qi,{id:"sign-image-range",label:"투명도",min:10,max:100,defaultValue:10,currentValue:(null==p?void 0:p.transparent)||100,isInput:!0,updateValue:function(e){return h((function(t){return Jc(Jc({},t),{},{transparent:e})}))},"data-log-action-layer":"transparency"}),si.createElement("p",{className:"desc_feature"},"이미지 서명은 용량 1MB 이하의 파일만 등록 가능합니다."),si.createElement("div",{className:"box_edit box_edit1"},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:!p.content}),onClick:function(){return a(p)},disabled:!p.content,"data-log-action-layer":"savesign"},"서명 저장"),si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:i||!p.content}),onClick:m,disabled:i||!p.content,"data-log-action-layer":"applymultiple","data-log-action-command":"applymultiple"},"여러장 적용")))},eu=function(e){var t=e.isActive,n=e.signs,r=e.image,i=e.signsDispatch,o=e.updateHistory,a=l((0,si.useState)(-1),2),c=a[0],u=a[1],s=function(e){var t;if(r){var i=or()({},n[e]);(function(e){var t,n,r,i,o,a,l,c,u,s=document.querySelector(".box_canvas"),f=document.querySelector(".box_canvas .edit-wrapper");if(!f||!s)return 0;var d=f.getBoundingClientRect(),p=d.width,h=d.height,g=f.offsetHeight-h,v=f.offsetWidth-p,m=(g>>1)+f.offsetTop,y=(v>>1)+f.offsetLeft,b=m+h,w=y+p,x=Math.max(s.offsetWidth,p),E=Math.max(s.offsetHeight,h),S=(null===(t=e.position)||void 0===t?void 0:t.centerPoint)||"rb",O="r"===S[0]?w-(null!==(n=null===(r=e.position)||void 0===r?void 0:r.x)&&void 0!==n?n:Fc)-e.width:y+(null!==(i=null===(o=e.position)||void 0===o?void 0:o.x)&&void 0!==i?i:Fc),_="b"===S[1]?b-(null!==(a=null===(l=e.position)||void 0===l?void 0:l.y)&&void 0!==a?a:Uc)-e.height:m+(null!==(c=null===(u=e.position)||void 0===u?void 0:u.y)&&void 0!==c?c:Uc);return O+e.width<0||x<O||_+e.height<0||E<_?0:(Math.min(O+e.width,x)-Math.max(O,0))*(Math.min(_+e.height,E)-Math.max(_,0))/(e.width*e.height)})(i)<.5&&(i.position={centerPoint:(null===(t=i.position)||void 0===t?void 0:t.centerPoint)||"rb",x:Fc,y:Uc}),o(i)}},f=(0,si.useCallback)((function(e){var t=n.filter((function(e,t){return t!==c}));i(t),u(-1),e.stopPropagation()}),[c]);return(0,si.useEffect)((function(){t&&u(-1)}),[t]),si.createElement("div",{className:$i()("content-sub",{on:t,off:!t})},si.createElement("div",{className:"box_edit"},n.map((function(e,t){return si.createElement("div",{key:t,className:$i()("sign_type",{on:t===c}),onClick:function(){return s(t)},onMouseOver:function(){return u(t)},onMouseOut:function(){return u(-1)}},si.createElement("button",{type:"button",className:"inner_sign"},"text"===e.type?si.createElement("span",{className:"txt_sign"},e.content):si.createElement("img",{className:"thumb_img",src:e.content,width:"68",height:"72",alt:""})),si.createElement("button",{type:"button",className:$i()("btn_ico","btn_close_tooltip",{hide:t!==c}),onClick:f,"data-log-action-layer":"deletesignhistory"},"삭제"))}))))};function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ru=function(e){var t,n,r,i,o,a,c,u,s=e.image,f=e.isActive,d=e.serviceUrl,p=e.singleImage,h=e.pipeline,g=e.saveSign,v=e.setDisplaySelectionSubmit,m=e.updateHistory,y=ji(),b=Ei((function(e){return e.preview.expand})),x=l((0,si.useState)("none"),2),E=x[0],S=x[1],_=l((0,si.useState)(qc(d,s)),2),k=_[0],C=_[1],D=(0,si.useRef)({}),T=function(e){var t,n=nu(nu(nu({},k),e),{},{textStyle:nu(nu({},k.textStyle),e.textStyle)}),r=n.content||P,i=(null===(t=n.textStyle)||void 0===t?void 0:t.size)||0;n.width=ae.getInstance().getTextWidth(r,i,n.textStyle),n.height=i*O,C(n)},j=function(){return S("none")},N=(0,si.useCallback)((function(){s&&s.history&&s.history.sign&&!p&&y(Lr({ids:[null==s?void 0:s.id],history:function(e){var t,n=or()({},k,{id:Date.now()});Gc(k,e,b)<.5&&(n.position=nu(nu({},Vc),{},{centerPoint:(null===(t=n.position)||void 0===t?void 0:t.centerPoint)||"rb"}));return D.current[e.id]=or()({},n),nu(nu({},e.history),{},{sign:n})},exceptions:[null==s?void 0:s.id],submitCallback:function(){return v(!0)}}))}),[s]);return(0,si.useEffect)((function(){var e;s&&null!==(e=s.history)&&void 0!==e&&e.sign&&"text"===s.history.sign.type&&C(s.history.sign)}),[null==s?void 0:s.id]),(0,si.useEffect)((function(){s&&f&&C(D.current[s.id]||qc(d,s))}),[f]),(0,si.useEffect)((function(){var e;s&&f&&!R()(null===(e=s.history)||void 0===e?void 0:e.sign,k)&&(D.current[s.id]=or()({},k),m(k))}),[k]),(0,si.useEffect)((function(){s&&s.history&&s.history.sign&&"text"===s.history.sign.type&&(D.current[s.id]=or()({},s.history.sign),C(or()({},s.history.sign)))}),[null==s||null===(t=s.history)||void 0===t?void 0:t.sign]),(0,si.useEffect)((function(){var e;if(s&&(f||"text"===(null==h?void 0:h.type))){var t=nu(nu({},k),h),n=ae.getInstance(),r=k.content||P,i=(null===(e=k.textStyle)||void 0===e?void 0:e.size)||0,o=t.width<k.width?[10,i]:[i,w],a=n.getFitFontSize(r,t.width,o,t.textStyle);C((function(e){return nu(nu({},t),{},{textStyle:nu(nu({},e.textStyle),{},{size:a}),width:n.getTextWidth(r,a,e.textStyle),height:a*O})}))}}),[h]),si.createElement("div",{className:$i()("content-sub",{on:f,off:!f})},si.createElement("div",{className:"box_edit box_edit6"},si.createElement("input",{type:"text",className:"inp_g",id:"inputText",placeholder:P,title:"서명 텍스트 입력",value:k.content,onChange:function(e){var t=e.target;t.value.length>50||T({content:t.value})},"data-log-action-layer":"insertsign"})),si.createElement("div",{className:"box_edit box_edit4"},si.createElement(io,{position:"left",open:"font"===E,fontStyle:null===(n=k.textStyle)||void 0===n?void 0:n.font,styleChange:function(e,t){return T({textStyle:{font:t}})},toggleDispatch:function(){return S("font"===E?"none":"font")},onBlur:j}),si.createElement("div",{className:"opt_edit","data-log-action-layer":"fontsize"},si.createElement("strong",{className:"screen_out"},"폰트크기상자"),si.createElement("input",{type:"text",className:"inp_g inp_font_size",placeholder:"글자 크기",title:"사이즈 입력",onChange:function(e){var t=e.target;if(pe(t)){var n=Number(t.value);isNaN(n)||n<0||T({textStyle:{size:Math.min(n,w)}})}},onBlur:function(e){var t=e.target;pe(t)&&(Number(t.value)<10&&T({textStyle:{size:10}}))},value:null===(r=k.textStyle)||void 0===r?void 0:r.size})),si.createElement(no,{type:"fore",open:"foreColor"===E,position:"left",selectedColor:(null===(i=k.textStyle)||void 0===i?void 0:i.textColor)||Hc,onColorChange:function(e){return C((function(t){return nu(nu({},t),{},{textStyle:nu(nu({},t.textStyle),{},{textColor:e})})}))},toggleDispatch:function(){return S("foreColor"===E?"none":"foreColor")},onBlur:j}),si.createElement(no,{type:"back",open:"backColor"===E,position:"right",selectedColor:(null===(o=k.textStyle)||void 0===o?void 0:o.backgroundColor)||Bc,onColorChange:function(e){return C((function(t){return nu(nu({},t),{},{textStyle:nu(nu({},t.textStyle),{},{backgroundColor:e})})}))},toggleDispatch:function(){return S("backColor"===E?"none":"backColor")},onBlur:j})),si.createElement("div",{className:"box_edit box_edit5"},si.createElement(vo,{on:null===(a=k.textStyle)||void 0===a?void 0:a.bold,onClick:function(){var e;return T({textStyle:{bold:!(null!==(e=k.textStyle)&&void 0!==e&&e.bold)}})}}),si.createElement(mo,{on:null===(c=k.textStyle)||void 0===c?void 0:c.italic,onClick:function(){var e;return T({textStyle:{italic:!(null!==(e=k.textStyle)&&void 0!==e&&e.italic)}})}}),si.createElement(yo,{on:null===(u=k.textStyle)||void 0===u?void 0:u.underline,onClick:function(){var e;return T({textStyle:{underline:!(null!==(e=k.textStyle)&&void 0!==e&&e.underline)}})}})),si.createElement(Qi,{id:"sign-text-range",label:"투명도",min:10,max:100,isInput:!0,updateValue:function(e){return C((function(t){return nu(nu({},t),{},{transparent:e})}))},defaultValue:10,currentValue:k.transparent||100}),si.createElement("div",{className:"box_edit box_edit1"},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:!k.content.trimStart()}),onClick:function(){return g(k)},disabled:!k.content.trimStart(),"data-log-action-layer":"savesign"},"서명 저장"),si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:p||!k.content.trimStart()}),onClick:N,disabled:p||!k.content.trimStart(),"data-log-action-layer":"applymultiple","data-log-action-command":"applymultiple"},"여러장 적용")))};function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var au=function(e){var t=e.isActive,n=e.image,r=e.singleImage,i=e.pipeline,o=e.removeHistory,c=e.updateHistory,u=e.updatePipeline,s=Ei((function(e){return e.options.options.sign.serviceUrl})),f=l((0,si.useState)("none"),2),d=f[0],p=f[1],h=l((0,si.useState)(JSON.parse(localStorage.getItem(zc)||"[]")),2),g=h[0],v=h[1],m=l((0,si.useState)(!1),2),y=m[0],b=m[1],w=(0,si.useCallback)((function(e){d!==e&&n&&(p(e),"none"===e&&o(),u(void 0))}),[d,n]),x=(0,si.useCallback)((function(e){g.length<5?v((function(t){return[].concat(a(t),[ou({},e)])})):(g.pop(),v([e].concat(a(g))))}),[g]);return(0,si.useEffect)((function(){var e,r;t&&n&&p((null===(e=n.history)||void 0===e||null===(r=e.sign)||void 0===r?void 0:r.type)||"none")}),[t,n]),(0,si.useEffect)((function(){return function(e){return localStorage.setItem(zc,JSON.stringify(e))}(g)}),[g]),si.createElement("div",{className:$i()("cont_sign",{on:t,off:!t}),"data-log-action-layer":"sign-tab"},si.createElement("h3",{className:"tit_feature"},"서명"),si.createElement("div",{className:"box_y_scroll"},si.createElement("div",{className:"content-snb"},si.createElement("div",{className:"box_tab1"},si.createElement("h4",{className:"screen_out"},"탭목록"),si.createElement("ul",{className:"list_tab1"},Ac.map((function(e,t){var n=e.text,r=e.type;return si.createElement("li",{key:t,className:$i()({on:d===r}),onClick:function(e){e.preventDefault(),w(r)},"data-log-action-layer":"".concat(r,"-tab")},si.createElement("a",{href:"#none"},n))})))),si.createElement(eu,{isActive:"none"===d,signs:g,image:n,signsDispatch:v,updateHistory:c}),si.createElement(ru,{isActive:"text"===d,image:n,serviceUrl:s,singleImage:r,pipeline:i,saveSign:x,setDisplaySelectionSubmit:b,updateHistory:c}),si.createElement(Zc,{isActive:"image"===d,image:n,singleImage:r,pipeline:i,saveSign:x,setDisplaySelectionSubmit:b,updateHistory:c}),si.createElement("p",{className:"desc_feature"},"서명은 웹브라우저에 저장하므로 공용컴퓨터 사용 시 주의하시기 바랍니다. 캐시 및 쿠키를 삭제하면 저장된 서명이 삭제됩니다."))),y?si.createElement(so,{root:".ke_photos .box_canvas",open:y,dispatch:b,x:"50%",y:"50%",message:"선택한 사진에 서명이 적용되었습니다."}):null)};function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lu.apply(this,arguments)}var cu=n(25325),uu=n.n(cu),su=18,fu=16,du=180,pu=360,hu=n(61193),gu=function(e){var t=e.children,n=e.disabled,r=e.zoom,i=e.nodeRef,o=e.handle,a=e.cancel,c=e.onMove,u=e.onMoveStop,s=l((0,si.useState)(0),2),f=s[0],d=s[1],p=l((0,si.useState)(0),2),h=p[0],g=p[1];return si.createElement(hu.DraggableCore,{nodeRef:i,handle:o,cancel:a,scale:r,disabled:n,onStart:function(e,t){var n=t.lastX,r=t.lastY;d(n),g(r)},onDrag:function(e,t){var n=t.deltaX,r=t.deltaY;c&&c(n,r)},onStop:function(e,t){var n=t.x,r=t.y;u&&u(n-f,r-h)}},t)},vu=function(e){var t=e.children,n=e.zoom,r=e.nodeRef,i=e.disabled,o=e.handle,a=e.onResize,c=e.onResizeStop,u=l((0,si.useState)(0),2),s=u[0],f=u[1],d=l((0,si.useState)(0),2),p=d[0],h=d[1];return si.createElement(hu.DraggableCore,{nodeRef:r,handle:o,disabled:i,scale:n,onStart:function(e,t){var n=t.x,r=t.y,i=t.deltaX,o=t.deltaY;f(n),h(r),a&&a({x:n,y:r,dw:0,dh:0,lastDx:i,lastDy:o})},onDrag:function(e,t){var n=t.x,r=t.y,i=t.deltaX,o=t.deltaY;a&&a({x:n,y:r,dw:n-s,dh:r-p,lastDx:i,lastDy:o})},onStop:function(e,t){var n=t.x,r=t.y,i=t.deltaX,o=t.deltaY;c&&c({x:n,y:r,dw:n-s,dh:r-p,lastDx:i,lastDy:o})}},t)},mu=function(e,t){var n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r=Math.acos(-t/n)*du/Math.PI;return e<0?-r:r},yu=function(e){var t=e%pu;return t<90?"rt":t<du?"rb":t<270?"lb":"lt"},bu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=e.x-n.x,i=e.y-n.y,o=t*Math.PI/du,a=r*Math.cos(o)-i*Math.sin(o)+n.x,l=r*Math.sin(o)+i*Math.cos(o)+n.y;return{x:a,y:l}},wu=function(e){return document.documentMode?"ie-rotate-".concat(yu(e)):"rotate-".concat(yu(e))},xu=function(e,t,n){var r={x:e.x+e.width/2,y:e.y+e.height/2},i=bu({x:e.x,y:e.y},n,r),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=e.x-n.x,i=e.y-n.y,o=t*Math.PI/du,a=r*Math.cos(o)+i*Math.sin(o)+n.x,l=i*Math.cos(o)-r*Math.sin(o)+n.y;return{x:a,y:l}}({x:t.x,y:t.y},n,r),a=o.x-e.x,l=o.y-e.y,c={x:o.x-a/2,y:o.y-l/2},u=bu({x:e.x,y:e.y},n,c),s=i.x-u.x,f=i.y-u.y;return{width:a,height:l,x:e.x+s,y:e.y+f,dw:a-e.width,dh:l-e.height}},Eu=function(e,t,n){var r={x:e.x+e.width/2,y:e.y+e.height/2},i=bu(e,n,r),o={x:e.x+t.width/2,y:e.y+t.height/2},a=bu(e,n,o);return{x:e.x+(i.x-a.x),y:e.y+(i.y-a.y)}},Su=function(e,t){return t?{x:e.x-2,y:e.y-2}:e},Ou=function(e,t,n){var r=e.x,i=e.y,o=e.width,a=e.height,l=e.degree;if(t)return{left:"l"===t[0]?r-(n?2:0):void 0,right:"r"===t[0]?r-(n?2:0):void 0,top:"t"===t[1]?i-(n?2:0):void 0,bottom:"b"===t[1]?i-(n?2:0):void 0,width:o,height:a,transform:l?"rotate(".concat(l,"deg)"):void 0};var c=Su({x:r,y:i},n);return{width:o,height:a,transform:"translate(".concat(c.x,"px, ").concat(c.y,"px)").concat(l?" rotate(".concat(l,"deg)"):"")}},_u=function(e){var t=e.children,n=e.zoom,r=e.boxOffset,i=e.degreeOffset,o=e.nodeRef,a=e.disabled,c=e.handle,u=e.onRotate,s=e.onRotateStop,f=l((0,si.useState)(0),2),d=f[0],p=f[1],h=(0,si.useRef)(""),g=(0,si.useRef)({x:0,y:0});return si.createElement(hu.DraggableCore,{nodeRef:o,handle:c,disabled:a,scale:n,onStart:function(e,t){var n=t.x,i=t.y;if(null!=o&&o.current){var a=o.current,l=a.offsetWidth,c=a.offsetHeight;g.current.x=r.x+l/2,g.current.y=r.y+c/2;var u=n-g.current.x,s=i-g.current.y,f=(mu(u,s)+pu)%pu,d=wu(f);p(f),document.body.classList.add(d),h.current=d}},onDrag:function(e,t){var n=t.x,r=t.y,o=n-g.current.x,a=r-g.current.y,l=(mu(o,a)+pu)%pu,c=(i+l-d+pu)%pu,s=wu(l);u&&u(c),h.current!==s&&(document.body.classList.remove(h.current),document.body.classList.add(s),h.current=s)},onStop:function(e,t){var n=t.x,r=t.y,o=n-g.current.x,a=r-g.current.y,l=(mu(o,a)+pu)%pu;s&&s((i+l-d+pu)%pu),document.body.classList.remove(h.current)}},t)};function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cu=function(e){var t=e.children,n=e.size,r=e.moveable,i=e.resizable,o=e.removeable,a=e.rotatable,c=e.zoom,u=e.degree,s=e.position,f=e.fixRatio,d=e.hidden,p=e.onChange,h=e.removeCallback,g=(0,si.useRef)(null),v=l((0,si.useState)(!1),2),m=v[0],y=v[1],b=l((0,si.useState)(!1),2),w=b[0],x=b[1],E=l((0,si.useState)({x:(null==s?void 0:s.x)||0,y:(null==s?void 0:s.y)||0,width:(null==n?void 0:n.width)||0,height:(null==n?void 0:n.height)||0,degree:u||0,zoom:c||1}),2),S=E[0],O=E[1],_=function(e){x(!0),O((function(t){return Pu(Pu({},t),{},{degree:e})}))},k=function(e){x(!1),p&&p({degree:e})},P=function(e){if(!w&&g.current&&se(e.target)){var t=g.current,n=t.offsetWidth,r=t.offsetHeight,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return e?uu()(e.classList,["ke-sign","sticker","text-item","remove","resize"]).length?e.closest(".canvas-preview")||document.body:e:document.body}(e.relatedTarget),o=i.getBoundingClientRect(),a=(e.clientX+i.scrollLeft-o.left)/S.zoom,l=(e.clientY+i.scrollTop-o.top)/S.zoom,c=S.x+n/2,u=S.y+r/2,s=(mu(a-c,l-u)+pu)%pu;document.body.classList.add(wu(s))}},C=function(){if(!w){var e=document.body.classList;e.forEach((function(t){/^(ie-rotate|rotate)-(lt|rt|lb|rb)$/.test(t)&&e.remove(t)}))}};return(0,si.useEffect)((function(){return O((function(e){return Pu(Pu({},e),{},{x:(null==s?void 0:s.x)||0,y:(null==s?void 0:s.y)||0})}))}),[null==s?void 0:s.x,null==s?void 0:s.y]),(0,si.useEffect)((function(){return O((function(e){return Pu(Pu({},e),{},{origin:null==s?void 0:s.centerPoint})}))}),[null==s?void 0:s.centerPoint]),(0,si.useEffect)((function(){return O((function(e){return Pu(Pu({},e),{},{degree:u||0})}))}),[u]),(0,si.useEffect)((function(){return O((function(e){return Pu(Pu({},e),{},{zoom:c||1})}))}),[c]),(0,si.useEffect)((function(){if(g.current)if(n)O((function(e){return Pu(Pu({},e),{},{width:n.width,height:n.height})}));else{var e=g.current,t=e.offsetWidth,r=e.offsetHeight;O((function(e){return Pu(Pu({},e),{},{width:t,height:r})}))}}),[n]),si.createElement(gu,{nodeRef:g,zoom:S.zoom,disabled:!r||!m,cancel:".resize, .remove, .rotate-handle",onMove:function(e,t){var n=S.origin&&"r"===S.origin[0]?S.x-e:S.x+e,r=S.origin&&"b"===S.origin[1]?S.y-t:S.y+t;O((function(e){return Pu(Pu({},e),{},{x:n,y:r})}))},onMoveStop:function(e,t){p&&p({position:{dx:e,dy:t}})}},si.createElement("span",{ref:g,className:$i()("decorator-box",{on:m},{hide:d}),style:Ou(S,S.origin,m),tabIndex:0,onFocus:function(){return y(!0)},onBlur:function(){return y(!1)}},t,si.createElement("div",{className:$i()("plugin",{hide:!m})},a?si.createElement(si.Fragment,null,si.createElement(_u,{nodeRef:g,zoom:S.zoom,boxOffset:Su(S,m),degreeOffset:u||0,disabled:!a,onRotate:_,onRotateStop:k},si.createElement("div",{className:"rotate-handle",style:{left:-16*S.zoom-(o?su/S.zoom:0),top:-16*S.zoom-(o?su/S.zoom:0),width:fu*S.zoom,height:fu*S.zoom},onMouseEnter:P,onMouseLeave:C})),si.createElement(_u,{nodeRef:g,zoom:S.zoom,boxOffset:Su(S,m),degreeOffset:u||0,disabled:!a,onRotate:_,onRotateStop:k},si.createElement("div",{className:"rotate-handle",style:{left:-16/S.zoom,bottom:-16/S.zoom,width:fu/S.zoom,height:fu/S.zoom},onMouseEnter:P,onMouseLeave:C})),si.createElement(_u,{nodeRef:g,zoom:S.zoom,boxOffset:Su(S,m),degreeOffset:u||0,disabled:!a,onRotate:_,onRotateStop:k},si.createElement("div",{className:"rotate-handle",style:{right:-16/S.zoom,top:-16/S.zoom,width:fu/S.zoom,height:fu/S.zoom},onMouseEnter:P,onMouseLeave:C})),si.createElement(_u,{nodeRef:g,zoom:S.zoom,boxOffset:Su(S,m),degreeOffset:u||0,disabled:!a,onRotate:_,onRotateStop:k},si.createElement("div",{className:"rotate-handle",style:{right:-16/S.zoom,bottom:-16/S.zoom,width:fu/S.zoom,height:fu/S.zoom},onMouseEnter:P,onMouseLeave:C}))):null,i?si.createElement(vu,{nodeRef:g,zoom:S.zoom,disabled:!i,onResize:function(e){var t=((null==n?void 0:n.height)||1)/((null==n?void 0:n.width)||1);if(a){var r=xu(S,e,S.degree);if(f){var i=r.width*t,o=Eu(r,{width:r.width,height:i},S.degree);return void O((function(e){return Pu(Pu({},e),{},{width:r.width,height:r.width*t},o)}))}O((function(e){return Pu(Pu({},e),r)}))}else{var l=S.width+e.lastDx,c=f?l*t:S.height+e.lastDy,u=S.origin&&"r"===S.origin[0]?S.x-e.lastDx:S.x,s=S.origin&&"b"===S.origin[1]?S.y-(c-S.height):S.y;O((function(e){return Pu(Pu({},e),{},{x:u,y:s,width:l,height:c})}))}},onResizeStop:function(e){var t=((null==n?void 0:n.height)||1)/((null==n?void 0:n.width)||1),r=(null==s?void 0:s.x)||0,i=(null==s?void 0:s.y)||0,o=(null==n?void 0:n.width)||0,l=(null==n?void 0:n.height)||0;if(a){var c=xu({x:r,y:i,width:o,height:l},e,S.degree),u=f?{width:c.width,height:c.width*t}:c,d=f?Eu(c,u,S.degree):c;p&&p({position:{dx:d.x-r,dy:d.y-i},size:{dw:u.width-o,dh:u.height-l}})}else{var h=o+e.dw,g=f?h*t:l+e.dh,v=S.origin&&"r"===S.origin[0]?e.dw:0,m=S.origin&&"b"===S.origin[1]?g-l:0;p&&p({position:{dx:v,dy:m},size:{dw:h-o,dh:g-l}})}}},si.createElement("div",{className:"resize",style:{right:-13/S.zoom/2,bottom:-13/S.zoom/2,width:13/S.zoom,height:13/S.zoom}})):null,o?si.createElement("div",{className:"remove",onClick:function(){h&&h(g.current)},"data-log-action-layer":"remove-button",style:{top:-18/S.zoom,left:-18/S.zoom,width:su/S.zoom,height:su/S.zoom}}):null)))},Du=Cu,Tu=function(e){return e&&"transparent"!==e?void 0!==e.a&&1!==e.a?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a/_,")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"):e},ju=function(e){var t=e.type,n=e.width,r=e.height,i=e.zoom,o=e.content,a=e.transparent,l=e.textStyle,c=e.position,u=e.onChangeCallback;return si.createElement(Du,{moveable:!0,rotatable:!1,resizable:!0,removeable:!1,size:{width:n,height:r},position:c,fixRatio:"image"===t,zoom:i,onChange:u},"text"===t?si.createElement("input",{className:"ke-sign text-sign",style:{fontSize:null==l?void 0:l.size,fontFamily:null==l?void 0:l.font,color:Tu(null==l?void 0:l.textColor),backgroundColor:Tu(null==l?void 0:l.backgroundColor),fontWeight:null!=l&&l.bold?"bold":void 0,fontStyle:null!=l&&l.italic?"italic":void 0,textDecoration:null!=l&&l.underline?"underline":void 0,opacity:a&&a!==_?a/_:void 0,width:n,height:r},value:o,readOnly:!0,placeholder:P}):si.createElement("span",{className:"ke-sign image-sign",style:{backgroundImage:"url(".concat(o,")"),opacity:a&&a!==_?a/_:void 0}}))},Nu=si.forwardRef((function(e,t){var n=e.width,r=e.height,i=e.id,o=e.scale,a=e.history,l=e.waitPaint,c=e.updatePipeline,u=Ei((function(e){return e.menu.tab}));return si.createElement("div",{ref:t,className:$i()("canvas-preview sign-layer",{hide:!a||!a.sign||l,disabled:"sign"!==u,focus:"sign"===u})},a&&a.sign?si.createElement(ju,lu({},a.sign,{zoom:o,onChangeCallback:function(e){var t,o,l;if(void 0!==i&&a&&a.sign){var u,s,f,d,p,h,g,v,m=a.sign,y=(null===(t=m.position)||void 0===t?void 0:t.centerPoint)||"rb",b=e.position||{dx:0,dy:0},w=e.size||{dw:0,dh:0},x=((null===(o=m.position)||void 0===o?void 0:o.x)||0)+("r"===y[0]?-b.dx:b.dx),E=((null===(l=m.position)||void 0===l?void 0:l.y)||0)+("b"===y[1]?-b.dy:b.dy),S=m.width+w.dw,O=m.height+w.dh,_="r"===y[0]?n-x-S:x,k="b"===y[1]?r-E-O:E,P=(s=[_,k],f=[S,O],d=(u=[n,r])[0]>>1,p=u[1]>>1,h=[s[0],s[1],s[0]+f[0],s[1]+f[1]],g=[Z([-1/0,-1/0,d,p],h),Z([d,-1/0,1/0,p],h),Z([-1/0,p,d,1/0],h),Z([d,p,1/0,1/0],h)],v=Math.max.apply(Math,g),g[0]===v?{centerPoint:"lt",x:s[0],y:s[1]}:g[1]===v?{centerPoint:"rt",x:u[0]-(s[0]+f[0]),y:s[1]}:g[2]===v?{centerPoint:"lb",x:s[0],y:u[1]-(s[1]+f[1])}:{centerPoint:"rb",x:u[0]-(s[0]+f[0]),y:u[1]-(s[1]+f[1])});c({width:S,height:O,position:P})}}})):null)}));Nu.displayName="SignView";var Mu=Nu,Iu={id:999999,name:"custom",items:[]},Ru=640,Au=[{id:4412206,name:"friends1",items:[{id:"001",label:"도착한 라이언 이모티콘"},{id:"002",label:"손인사 라이언 이모티콘"},{id:"003",label:"눈하트 라이언 이모티콘"},{id:"004",label:"하트 쏟는 라이언 이모티콘"},{id:"005",label:"라이언 탬버린 이모티콘"},{id:"006",label:"무지와 도는 라이언 이모티콘"},{id:"007",label:"응원하는 라이언 이모티콘"},{id:"008",label:"경례하는 라이언 이모티콘"},{id:"009",label:"궁금한 라이언 이모티콘"},{id:"010",label:"부끄러운 라이언 이모티콘"},{id:"011",label:"공 미는 라이언 이모티콘"},{id:"012",label:"슬픈 라이언 이모티콘"},{id:"013",label:"먹는 라이언 이모티콘"},{id:"014",label:"웃는 어피치 이모티콘"},{id:"015",label:"난동 부리는 어피치 이모티콘"},{id:"016",label:"머리 긁는 어피치 이모티콘"},{id:"017",label:"놀라는 어피치 이모티콘"},{id:"018",label:"콘 쓰다듬는 무지 이모티콘"},{id:"019",label:"연주하는 무지, 콘 이모티콘"},{id:"020",label:"박수치는 튜브 이모티콘"},{id:"021",label:"당황한 튜브 이모티콘"},{id:"022",label:"놀라는 네오 이모티콘"},{id:"023",label:"빛나는 프로도 이모티콘"},{id:"024",label:"부비는 라이언 이모티콘"},{id:"025",label:"손인사 프로도 이모티콘"},{id:"026",label:"춤추는 제이지 이모티콘"},{id:"027",label:"반가운 무지, 콘 이모티콘"},{id:"028",label:"하트 뿅 어피치 이모티콘"},{id:"029",label:"슬픈 무지, 콘 이모티콘"},{id:"030",label:"폭소하는 무지, 콘 이모티콘"},{id:"031",label:"윙크하는 네오 이모티콘"},{id:"032",label:"엄지척 튜브 이모티콘"},{id:"033",label:"토라진 네오 이모티콘"},{id:"034",label:"지친 제이지 이모티콘"},{id:"035",label:"우는 어피치 이모티콘"},{id:"036",label:"음흉한 네오 이모티콘"},{id:"037",label:"NO 무지, 콘 이모티콘"},{id:"038",label:"빈정상한 프로도 이모티콘"},{id:"039",label:"비는 튜브 이모티콘"},{id:"040",label:"화난 프로도 이모티콘"},{id:"041",label:"부끄러운 무지, 콘 이모티콘"},{id:"042",label:"기분좋은 프로도 이모티콘"},{id:"043",label:"고마운 네오 이모티콘"},{id:"044",label:"졸린 어피치 이모티콘"},{id:"045",label:"화난 네오 이모티콘"},{id:"046",label:"놀란 제이지 이모티콘"},{id:"047",label:"지루한 콘 이모티콘"},{id:"048",label:"비웃는 네오 이모티콘"}]},{id:4412207,name:"niniz",items:[{id:"001",label:"기분좋은 스카피 버튼"},{id:"002",label:"인사하는 팬다 주니어"},{id:"003",label:"우는 스카피"},{id:"004",label:"춤추는 케로, 베로니"},{id:"005",label:"뽀뽀 받는 앙몬드"},{id:"006",label:"나른한 죠르디"},{id:"007",label:"경악하는 케로, 베로니"},{id:"008",label:"기분좋은 콥, 빠냐"},{id:"009",label:"폭소하는 팬다 주니어"},{id:"010",label:"감사한 스카피"},{id:"011",label:"화난 앙몬드"},{id:"012",label:"OK 팬다 주니어"},{id:"013",label:"힘내 케로, 베로니"},{id:"014",label:"사랑에 빠진 죠르디"},{id:"015",label:"분위기 잡는 콥"},{id:"016",label:"놀라는 스카피"},{id:"017",label:"지친 팬다 주니어"},{id:"018",label:"죄송한 스카피"},{id:"019",label:"나른한 앙몬드"},{id:"020",label:"궁금한 팬다 주니어"},{id:"021",label:"부끄러운 앙몬드"},{id:"022",label:"연주하는 콥, 빠냐"},{id:"023",label:"촛불든 케로, 베로니"},{id:"024",label:"급한 죠르디"},{id:"025",label:"죠르디"},{id:"026",label:"부탁하는 콥, 빠냐"},{id:"027",label:"파도타는 앙몬드"},{id:"028",label:"사랑에 빠진 팬다 주니어"},{id:"029",label:"좌절한 앙몬드"},{id:"030",label:"노력하는 죠르디"},{id:"031",label:"굽신거리는 스카피"},{id:"032",label:"맞는 콥"},{id:"033",label:"아픈 케로, 베로니"},{id:"034",label:"외면하는 스카피"},{id:"035",label:"하이파이브하는 케로, 베로니"},{id:"036",label:"연주하는 죠르디"},{id:"037",label:"손드는 케로, 베로니"},{id:"038",label:"너를 위해 죠르디"},{id:"039",label:"놀란 앙몬드"},{id:"040",label:"경례하는 팬다 주니어"},{id:"041",label:"어쩌라고 앙몬드"},{id:"042",label:"헤롱헤롱 빠냐"},{id:"043",label:"박수치는 죠르디"},{id:"044",label:"지친 콥"},{id:"045",label:"슬픈 팬다 주니어"},{id:"046",label:"사랑 전하는 앙몬드"},{id:"047",label:"심각한 콥, 빠냐"},{id:"048",label:"졸린 조르디"}]},{id:2212560,name:"friends2",items:[{id:"001",label:"도착한 라이언 이모티콘"},{id:"002",label:"손인사 라이언 이모티콘"},{id:"003",label:"눈하트 라이언 이모티콘"},{id:"004",label:"하트 쏟는 라이언 이모티콘"},{id:"005",label:"라이언 탬버린 이모티콘"},{id:"006",label:"무지와 도는 라이언 이모티콘"},{id:"007",label:"응원하는 라이언 이모티콘"},{id:"008",label:"경례하는 라이언 이모티콘"},{id:"009",label:"궁금한 라이언 이모티콘"},{id:"010",label:"부끄러운 라이언 이모티콘"},{id:"011",label:"공 미는 라이언 이모티콘"},{id:"012",label:"슬픈 라이언 이모티콘"},{id:"013",label:"먹는 라이언 이모티콘"},{id:"014",label:"웃는 어피치 이모티콘"},{id:"015",label:"난동 부리는 어피치 이모티콘"},{id:"016",label:"머리 긁는 어피치 이모티콘"},{id:"017",label:"놀라는 어피치 이모티콘"},{id:"018",label:"콘 쓰다듬는 무지 이모티콘"},{id:"019",label:"연주하는 무지, 콘 이모티콘"},{id:"020",label:"박수치는 튜브 이모티콘"},{id:"021",label:"당황한 튜브 이모티콘"},{id:"022",label:"놀라는 네오 이모티콘"},{id:"023",label:"빛나는 프로도 이모티콘"},{id:"024",label:"부비는 라이언 이모티콘"},{id:"025",label:"손인사 프로도 이모티콘"},{id:"026",label:"춤추는 제이지 이모티콘"},{id:"027",label:"반가운 무지, 콘 이모티콘"},{id:"028",label:"하트 뿅 어피치 이모티콘"},{id:"029",label:"슬픈 무지, 콘 이모티콘"},{id:"030",label:"폭소하는 무지, 콘 이모티콘"},{id:"031",label:"윙크하는 네오 이모티콘"},{id:"032",label:"엄지척 튜브 이모티콘"},{id:"033",label:"토라진 네오 이모티콘"},{id:"034",label:"지친 제이지 이모티콘"},{id:"035",label:"우는 어피치 이모티콘"},{id:"036",label:"음흉한 네오 이모티콘"},{id:"037",label:"NO 무지, 콘 이모티콘"},{id:"038",label:"빈정상한 프로도 이모티콘"},{id:"039",label:"비는 튜브 이모티콘"},{id:"040",label:"화난 프로도 이모티콘"},{id:"041",label:"부끄러운 무지, 콘 이모티콘"},{id:"042",label:"기분좋은 프로도 이모티콘"},{id:"043",label:"고마운 네오 이모티콘"},{id:"044",label:"졸린 어피치 이모티콘"},{id:"045",label:"화난 네오 이모티콘"},{id:"046",label:"놀란 제이지 이모티콘"},{id:"047",label:"지루한 콘 이모티콘"},{id:"048",label:"비웃는 네오 이모티콘"}]},{id:2212206,name:"face",items:[{id:"001",label:"사랑에 빠진 프로도"},{id:"002",label:"웃는 프로도"},{id:"003",label:"놀라는 프로도"},{id:"004",label:"그늘진 프로도"},{id:"005",label:"당황한 프로도"},{id:"006",label:"우는 프로도"},{id:"007",label:"부끄러운 네오"},{id:"008",label:"윙크하는 네오"},{id:"009",label:"쑥스러운 네오"},{id:"010",label:"앙칼진 네오"},{id:"011",label:"화난 네오"},{id:"012",label:"기분 나쁜 네오"},{id:"013",label:"상심한 튜브"},{id:"014",label:"미소 짓는 튜브"},{id:"015",label:"폭소하는 튜브"},{id:"016",label:"퀭한 튜브"},{id:"017",label:"화난 튜브"},{id:"018",label:"토라진 어피치"},{id:"019",label:"우는 어피치"},{id:"020",label:"사랑에 빠진 어피치"},{id:"021",label:"퀭한 어피치"},{id:"022",label:"그늘진 어피치"},{id:"023",label:"부끄러운 어피치"},{id:"024",label:"기분 좋은 무지"},{id:"025",label:"웃는 무지"},{id:"026",label:"엄지척 무지"},{id:"027",label:"슬픈 무지"},{id:"028",label:"기분 나쁜 무지"},{id:"029",label:"우는 무지"},{id:"030",label:"눈물나게 웃는 제이지"},{id:"031",label:"부끄러운 제이지"},{id:"032",label:"홍조 띈 제이지"},{id:"033",label:"스웩있는 제이지"},{id:"034",label:"퀭한 제이지"},{id:"035",label:"웃는 무지, 콘"},{id:"036",label:"손 흔드는 무지, 콘"},{id:"037",label:"놀라는 무지, 콘"},{id:"038",label:"엄지척 무지, 콘"},{id:"039",label:"기분 상한 무지, 콘"},{id:"040",label:"눈치 보는 무지, 콘"},{id:"041",label:"허탈한 무지, 콘"},{id:"042",label:"분노한 어피치"},{id:"043",label:"호기심 어린 어피치"},{id:"044",label:"피식하는 어피치"},{id:"045",label:"웃음 짓는 어피치"},{id:"046",label:"긴장한 어피치"},{id:"047",label:"우는 어피치"},{id:"048",label:"당황한 어피치"},{id:"049",label:"손인사하는 제이지"},{id:"050",label:"부끄러운 제이지"},{id:"051",label:"윙크하는 제이지"},{id:"052",label:"궁금한 제이지"},{id:"053",label:"기분 상한 제이지"},{id:"054",label:"우는 제이지"},{id:"055",label:"엄지척 프로도"},{id:"056",label:"홍조 띈 프로도"},{id:"057",label:"잘 생긴 프로도"},{id:"058",label:"쉿 하는 프로도"},{id:"059",label:"무표정 프로도"},{id:"060",label:"지친 프로도"},{id:"061",label:"한숨 쉬는 프로도"},{id:"062",label:"부끄러운 네오"},{id:"063",label:"OK 네오"},{id:"064",label:"폭소하는 네오"},{id:"065",label:"머리 긁는 네오"},{id:"066",label:"우는 네오"},{id:"067",label:"째려보는 네오"},{id:"068",label:"덜덜 떠는 네오"},{id:"069",label:"화난 튜브"},{id:"070",label:"졸린 튜브"},{id:"071",label:"지목하는 튜브"},{id:"072",label:"당황한 튜브"},{id:"073",label:"똑똑한 튜브"},{id:"074",label:"폭소하는 튜브"}]}],zu={useDefaultStickers:!0,useFaceDetection:!0,customStickers:[]},Lu=function(e){var t=e.id,n=e.name,r=e.label,i=e.src;return si.createElement("img",{src:null!=i?i:"https://t1.daumcdn.net/keditor/emoticon/".concat(n,"/small/").concat(t,".png"),"data-name":n,"data-id":t,"data-custom":!!i,"data-custom-src":null!=i?i:void 0,alt:r})},Fu=function(e){var t=e.stickers,n=e.delegateClickEvent;return si.createElement("ul",{className:"sticker-list",onClick:n},t?t.items.map((function(e){return si.createElement("li",{key:e.id,className:"sticker"},si.createElement("button",{type:"button","aria-label":e.label},si.createElement(Lu,{id:e.id,name:t.name,src:e.src,label:e.label})))})):void 0)},Uu=function(e){var t=e.tabs,n=e.tabIdx,r=e.onClickEvent;return si.createElement("div",{className:"box_tab1"},si.createElement("h4",{className:"screen_out"},"탭목록"),si.createElement("ul",{className:"list_tab1 sticker_tab"},t.map((function(e,t){return si.createElement("li",{key:e.id,className:$i()("emot_tab",e.name,{on:t===n}),onClick:function(){return r(t)}},si.createElement("button",{type:"button",className:"emt_tab_item","data-id":e.id,"data-log-action-layer":"".concat(e.name)}))}))))};function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vu=function(e,t,n){if("crop"===e||"sticker"===e)return!1;var r=function(e){var t=e.position,n=e.width,r=e.height,i={x:t.x+n/2,y:t.y+r/2};return[{x:t.x,y:t.y},{x:t.x+n,y:t.y},{x:t.x+n,y:t.y+r},{x:t.x,y:t.y+r}].map((function(e){return Q(e,t.rotate||0,i)}))}(t);return r.every((function(e){var t,r,i=e.x,o=e.y;return!(i>=0&&i<=(null!==(t=n.width)&&void 0!==t?t:0)&&o>0&&o<(null!==(r=n.height)&&void 0!==r?r:0))}))};function Xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xu(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yu=function(e){var t,n,r,i,o,c=e.isActive,u=e.image,f=e.pipeline,p=e.updateHistory,g=e.updatePipeline,v=e.removeHistory,m=Ei((function(e){return e.options.faceDetection})),y=Ei((function(e){return e.options.options.sticker})),b=Ei((function(e){return e.preview.expand})),w=l((0,si.useState)(0),2),x=w[0],E=w[1],S=l((0,si.useState)(!1),2),O=S[0],_=S[1],k=function(e,t){var n=e?a(Au):[];if(t.length){var r=Bu(Bu({},Iu),{},{items:t.map((function(e,t){return{id:(t+1).toString().padStart(3,"0"),label:"custom-".concat(t),src:e}}))});n.push(r)}return n}(y.useDefaultStickers,y.customStickers),P=function(){var e=d(h().mark((function e(t){var n,r,i,o,a,l,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&m){e.next=2;break}return e.abrupt("return");case 2:if(t.target.checked){e.next=5;break}return g({isFaceDetectionData:s({},u.id,!1)}),e.abrupt("return");case 5:return t.preventDefault(),e.next=8,Jr(m,u.originData.src,{width:u.width,height:u.height});case 8:n=e.sent,r=n.positions,t.target.checked=!!r.length&&!!k.length,_(!r.length),r.length&&k.length&&(i=y.useDefaultStickers?Au[3]:k[0],o=Math.round(Math.random()*(i.items.length-1)),a=i.items[o],l=!!a.src,c=r.map((function(e){var t,n,r,o,c,s,f=e.w,d=e.h,p=e.x,h=e.y,g=Date.now(),v=f>Ru||d>Ru?"large":"small",m=null!==(t=a.src)&&void 0!==t?t:"https://t1.daumcdn.net/keditor/emoticon/".concat(i.name,"/").concat(v,"/").concat(a.id,".png"),y={flipV:!1,flipH:!1},b={flipV:!(null===(n=u.history)||void 0===n||null===(r=n.crop)||void 0===r||!r.flipV),flipH:!(null===(o=u.history)||void 0===o||null===(c=o.crop)||void 0===c||!c.flipH)};if(!u.history||!u.history.crop)return{id:g,src:m,width:f,height:d,position:{x:p,y:h},cropPosition:{x:p,y:h},flip:y,cropFlip:b,custom:l};var w=(null!==(s=u.history.crop.angle)&&void 0!==s?s:0)+u.history.crop.rotate*$,x=Wu(Wu({},ai({x:p,y:h,width:f,height:d},u.history.crop,Wu({rotate:0},b))),{},{rotate:w});return{id:g,src:m,width:f,height:d,position:x,cropPosition:Wu(Wu({},oi({width:f,height:d,x:x.x,y:x.y},u.history.crop)),{},{rotate:0}),flip:y,cropFlip:b,custom:l}})),p(c),g({isFaceDetectionData:s({},u.id,!0)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return si.createElement("div",{className:$i()("cont_sticker",{on:c,off:!c}),"data-log-action-layer":"sticker-tab"},si.createElement("h3",{className:"tit_feature"},"스티커"),si.createElement("div",{className:"box_y_scroll box_y_scroll1"},si.createElement("div",{className:"content-snb"},y.useFaceDetection&&m&&si.createElement("div",null,si.createElement(fo,{name:"자동 인식",id:"faceDetection",isAuto:null!==(t=null==f?void 0:f.isFaceDetectionData[null!==(n=null==u?void 0:u.id)&&void 0!==n?n:0])&&void 0!==t&&t,handleAutoStatus:P})),si.createElement(Uu,{tabIdx:x,tabs:k,onClickEvent:function(e){return E(e)}}),si.createElement(Fu,{stickers:k[x],delegateClickEvent:function(e){var t,n,r,i,o,l,c,s,f,d=e.target;if(u&&(he(d)||fe(d))){var h=fe(d)?d.firstElementChild:d;if(h&&he(h)){var g=h.dataset,v=g.name,m=g.id,y=g.custom,w=g.customSrc,x="true"===y,E=x?w||"":"https://t1.daumcdn.net/keditor/emoticon/".concat(v,"/small/").concat(m,".png"),S=function(e,t){if(!t)return{width:e.width,height:e.height};var n=t.width,r=t.height,i=t.rotate;return{width:i%2?r:n,height:i%2?n:r}}(u,null===(t=u.history)||void 0===t?void 0:t.crop),O=Math.round(.15*S.width),_={flipV:!(null===(n=u.history)||void 0===n||null===(r=n.crop)||void 0===r||!r.flipV),flipH:!(null===(i=u.history)||void 0===i||null===(o=i.crop)||void 0===o||!o.flipH)},k=b?Pe(S,{width:O,height:O},null===(l=u.history)||void 0===l||null===(c=l.size)||void 0===c?void 0:c.scale):{x:S.width-O>>1,y:S.height-O>>1},P=null!==(s=u.history)&&void 0!==s&&s.crop?oi(Wu(Wu({},k),{},{width:O,height:O}),u.history.crop):Wu({},k),C=(null===(f=u.history)||void 0===f?void 0:f.sticker)||[];p([].concat(a(C),[{id:Date.now(),src:E,width:O,height:O,position:k,cropPosition:P,flip:{flipV:!1,flipH:!1},cropFlip:_,custom:x}]))}}}}),O&&si.createElement(so,{open:O,dispatch:_,x:"50%",y:"50%",duration:3e3,message:C}))),si.createElement("div",{className:"box_edit"},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:!(null!=u&&null!==(r=u.history)&&void 0!==r&&r.sticker&&null!==(i=u.history.sticker)&&void 0!==i&&i.length)}),disabled:!(null!=u&&null!==(o=u.history)&&void 0!==o&&o.sticker&&u.history.sticker.length),onClick:function(){u&&v()},"data-log-action-layer":"removeall"},"전체 삭제")))},$u=function(e){var t=e.url,n=e.width,r=e.height,i=e.zoom,o=e.position,a=e.flip,l=e.hidden,c=e.onChange,u=e.removeCallback;return si.createElement(Du,{size:{width:n,height:r},moveable:!0,resizable:!0,removeable:!0,rotatable:!0,zoom:i,position:{x:(null==o?void 0:o.x)||0,y:(null==o?void 0:o.y)||0},fixRatio:!0,hidden:l,degree:null==o?void 0:o.rotate,onChange:c,removeCallback:u},si.createElement("span",{className:$i()("sticker",{"flip-V":(null==a?void 0:a.flipV)&&!(null!=a&&a.flipH),"flip-H":!(null!=a&&a.flipV)&&(null==a?void 0:a.flipH),"flip-VH":(null==a?void 0:a.flipV)&&(null==a?void 0:a.flipH)}),style:{width:"100%",height:"100%",backgroundImage:"url(".concat(t,")")}}))};function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gu=si.forwardRef((function(e,t){var n=e.id,r=e.history,i=e.scale,o=e.waitPaint,l=e.updateHistory,c=e.updatePipeline,u=e.removeHistory,f=Ei((function(e){return e.menu.tab}));return si.createElement("div",{ref:t,className:$i()("canvas-preview sticker-layer",{hide:!r||!r.sticker||!r.sticker.length||o,disabled:"sticker"!==f,focus:"sticker"===f})},r&&r.sticker?r.sticker.map((function(e,t){return si.createElement($u,{key:t,url:e.src,zoom:i,width:e.width||150,height:e.height||150,position:"crop"===f?e.cropPosition:e.position,flip:"crop"===f?e.cropFlip:e.flip,hidden:!!r.crop&&Vu(f,e,r.crop),onChange:function(e){void 0!==n&&r&&r.sticker&&(l(r.sticker.map((function(n,i){var o,a;if(t!==i)return n;var l=e.position||{dx:0,dy:0},c=e.size||{dw:0,dh:0},u=n.width+c.dw,s=n.height+c.dh,f=n.position.x+l.dx,d=n.position.y+l.dy,p=!n.custom&&(u>Ru||s>Ru)?n.src.replace("small","large"):n.src.replace("large","small"),h=null!==(o=e.degree)&&void 0!==o?o:null===(a=n.position)||void 0===a?void 0:a.rotate,g={x:f,y:d,rotate:h},v=r.crop?oi({width:u,height:s,x:f,y:d,rotate:h},r.crop):Ku({},g);return Ku(Ku({},n),{},{width:u,height:s,src:p,position:g,cropPosition:v})}))),c({isFaceDetectionData:s({},n,!1)}))},removeCallback:function(){if(void 0!==n&&r.sticker){var e=[].concat(a(r.sticker.slice(0,t)),a(r.sticker.slice(t+1)));e.length?(l(e),c({isFaceDetectionData:s({},n,!1)})):(u(),c({isFaceDetectionData:s({},n,!1)}))}}})})):null)}));Gu.displayName="StickerView";var Qu=Gu,Ju={id:1,content:"",textStyle:{size:50,font:ro[0].style,bold:!0,textColor:{r:34,g:34,b:34},backgroundColor:{r:0,g:0,b:0,a:4},align:"left"},position:{x:0,y:0},cropPosition:{x:0,y:0},flip:{flipV:!1,flipH:!1},cropFlip:{flipV:!1,flipH:!1},width:1,height:1,transparent:100};function Zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ts=function(e){var t,n,r,i,o,c,u,s,f,d,p,h,g,v,m=e.image,y=e.isActive,b=e.pipeline,x=e.updateHistory,E=e.updatePipeline,O=e.removeHistory,_=Ei((function(e){return e.preview.expand})),k=l((0,si.useState)("none"),2),C=k[0],D=k[1],T=l((0,si.useState)(Ju),2),j=T[0],N=T[1],M=(0,si.useCallback)((function(e,t){return N((function(e){return es(es({},e),{},{textStyle:es(es({},e.textStyle),{},{font:t})})}))}),[j]),I=(0,si.useCallback)((function(e){var t=e.target;if(pe(t)){var n=Number(t.value);if(!(isNaN(n)||n<0)){var r=Math.min(n,w);N((function(e){return es(es({},e),{},{textStyle:es(es({},e.textStyle),{},{size:r})})}))}}}),[j]),R=(0,si.useCallback)((function(e){var t=e.target;pe(t)&&(Number(t.value)<10&&N((function(e){return es(es({},e),{},{textStyle:es(es({},e.textStyle),{},{size:10})})})))}),[j]),A=(0,si.useCallback)((function(e){return N((function(t){return es(es({},t),{},{textStyle:es(es({},t.textStyle),{},{textColor:e})})}))}),[j]),z=(0,si.useCallback)((function(e){return N((function(t){return es(es({},t),{},{textStyle:es(es({},t.textStyle),{},{backgroundColor:e})})}))}),[j]),L=(0,si.useCallback)((function(){return N((function(e){var t;return es(es({},e),{},{textStyle:es(es({},e.textStyle),{},{bold:!(null!==(t=e.textStyle)&&void 0!==t&&t.bold)})})}))}),[j]),F=(0,si.useCallback)((function(){return N((function(e){var t;return es(es({},e),{},{textStyle:es(es({},e.textStyle),{},{italic:!(null!==(t=e.textStyle)&&void 0!==t&&t.italic)})})}))}),[j]),U=(0,si.useCallback)((function(){return N((function(e){var t;return es(es({},e),{},{textStyle:es(es({},e.textStyle),{},{underline:!(null!==(t=e.textStyle)&&void 0!==t&&t.underline)})})}))}),[j]),H=(0,si.useCallback)((function(){var e,t,n="left"===(null===(e=j.textStyle)||void 0===e?void 0:e.align)?"center":"center"===(null===(t=j.textStyle)||void 0===t?void 0:t.align)?"right":"left";N((function(e){return es(es({},e),{},{textStyle:es(es({},e.textStyle),{},{align:n})})}))}),[j]),B=(0,si.useCallback)((function(e){return N((function(t){return es(es({},t),{},{transparent:e})}))}),[j]);(0,si.useEffect)((function(){if(null!=b&&b.id){var e,t,n=null==m||null===(e=m.history)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.find((function(e){return e.id===(null==b?void 0:b.id)}));N(null!=n?n:Ju)}else N(Ju)}),[b]),(0,si.useEffect)((function(){if(m&&m.history&&m.history.text){var e=null==b?void 0:b.id,t=m.history.text.map((function(t){var n,r;if(t.id!==e)return t;var i=es(es(es({},t),j),{},{content:t.content,position:t.position}),o=(i.content||P).split("\n"),a=(null===(n=i.textStyle)||void 0===n?void 0:n.size)||(null===(r=t.textStyle)||void 0===r?void 0:r.size)||0,l=es(es({},t.textStyle),i.textStyle),c=ae.getInstance().getTextsWidth(o,a,l);return i.width=c,i.height=a*o.length*S,i}));x(t)}}),[j]);var V=function(){return D("none")};return si.createElement("div",{className:$i()("cont_text",{on:y,off:!y}),"data-log-action-layer":"text-tab"},si.createElement("h3",{className:"tit_feature"},"텍스트"),si.createElement("div",{className:"box_y_scroll",style:{overflowY:"visible"}},si.createElement("div",{className:"content-sub"},si.createElement("div",{className:"box_edit"},si.createElement("button",{type:"button",className:"btn_type1 btn_type2",onClick:function(){var e,t,n,r,i,o,l,c,u,s,f,d,p,h,g,v,y,b,w;if(m){var O=(new Date).getTime(),k=(null===(e=j.textStyle)||void 0===e?void 0:e.size)||0,C=null!==(t=null===(n=m.history)||void 0===n||null===(r=n.crop)||void 0===r?void 0:r.width)&&void 0!==t?t:m.width,D=null!==(i=null===(o=m.history)||void 0===o||null===(l=o.crop)||void 0===l?void 0:l.height)&&void 0!==i?i:m.height,T=ae.getInstance().getTextWidth(P,k,j.textStyle),N=k*S,M=_?Pe({width:C,height:D},{width:T,height:N},null===(c=m.history)||void 0===c||null===(u=c.size)||void 0===u?void 0:u.scale):{x:C-T>>1,y:D-N>>1},I=null!==(s=m.history)&&void 0!==s&&s.crop?oi(es(es({},M),{},{width:T,height:N}),m.history.crop):es({},M),R={id:O,width:T,height:N,content:"",textStyle:es(es({},j.textStyle),{},{textColor:(null===(f=j.textStyle)||void 0===f?void 0:f.textColor)instanceof Object?es({},j.textStyle.textColor):null===(d=j.textStyle)||void 0===d?void 0:d.textColor,backgroundColor:(null===(p=j.textStyle)||void 0===p?void 0:p.backgroundColor)instanceof Object?es({},j.textStyle.backgroundColor):null===(h=j.textStyle)||void 0===h?void 0:h.backgroundColor}),position:M,cropPosition:I,flip:{flipH:!1,flipV:!1},cropFlip:{flipH:!(null===(g=m.history)||void 0===g||null===(v=g.crop)||void 0===v||!v.flipH),flipV:!(null===(y=m.history)||void 0===y||null===(b=y.crop)||void 0===b||!b.flipV)},transparent:j.transparent},A=[].concat(a((null==m||null===(w=m.history)||void 0===w?void 0:w.text)||[]),[R]);x(A),E({id:O})}},"data-log-action-layer":"addText"},"텍스트 추가")),si.createElement("div",{className:"box_edit box_edit4"},si.createElement(io,{position:"left",open:"font"===C,fontStyle:null===(t=j.textStyle)||void 0===t?void 0:t.font,styleChange:M,toggleDispatch:function(){return D("font"===C?"none":"font")},onBlur:V}),si.createElement("div",{className:"opt_edit"},si.createElement("strong",{className:"screen_out"},"폰트크기상자"),si.createElement("input",{type:"text",className:"inp_g inp_font_size",placeholder:"글자 크기",title:"사이즈 입력",onChange:I,onBlur:R,value:null===(n=j.textStyle)||void 0===n?void 0:n.size,"data-log-action-layer":"fontsize"})),si.createElement(no,{type:"fore",position:"left",open:"foreColor"===C,selectedColor:(null===(r=j.textStyle)||void 0===r?void 0:r.textColor)||(null===(i=Ju.textStyle)||void 0===i?void 0:i.textColor),onColorChange:A,toggleDispatch:function(){return D("foreColor"===C?"none":"foreColor")},onBlur:V}),si.createElement(no,{type:"back",position:"right",open:"backColor"===C,selectedColor:(null===(o=j.textStyle)||void 0===o?void 0:o.backgroundColor)||(null===(c=Ju.textStyle)||void 0===c?void 0:c.backgroundColor),onColorChange:z,toggleDispatch:function(){return D("backColor"===C?"none":"backColor")},onBlur:V})),si.createElement("div",{className:"box_edit box_edit5"},si.createElement(vo,{on:null===(u=j.textStyle)||void 0===u?void 0:u.bold,onClick:L}),si.createElement(mo,{on:null===(s=j.textStyle)||void 0===s?void 0:s.italic,onClick:F}),si.createElement(yo,{on:null===(f=j.textStyle)||void 0===f?void 0:f.underline,onClick:U}),si.createElement(go,{align:null===(d=j.textStyle)||void 0===d?void 0:d.align,alignCallback:H})),si.createElement(Qi,{id:"sign-text-range",label:"투명도",min:10,max:100,isInput:!0,updateValue:B,defaultValue:10,currentValue:j.transparent}),si.createElement("div",{className:"box_edit"},si.createElement("button",{type:"button",className:$i()("btn_type1 btn_type2",{disabled:!(null!=m&&null!==(p=m.history)&&void 0!==p&&p.text&&null!==(h=m.history.text)&&void 0!==h&&h.length)}),disabled:!(null!=m&&null!==(g=m.history)&&void 0!==g&&g.text&&null!==(v=m.history.text)&&void 0!==v&&v.length),onClick:function(){m&&O()},"data-log-action-layer":"removeall"},"전체 삭제")))))},ns=function(){return document.documentMode},rs=function(e){return e&&"transparent"!==e?void 0!==e.a&&1!==e.a?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a/_,")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"):e},is=function(e){var t=e.zoom,n=e.id,r=e.content,i=e.transparent,o=e.textStyle,a=e.position,c=e.width,u=e.height,s=e.flip,f=e.hidden,d=e.changeValueCallback,p=e.onClickCallback,h=e.onChangeCallback,g=e.onRemoveCallback,v=l((0,si.useState)(!0),2),m=v[0],y=v[1];return(0,si.useEffect)((function(){requestAnimationFrame((function(){var e=document.querySelector(".container-doc");e&&(e.scrollLeft=0)}))}),[r]),si.createElement(Du,{moveable:m,rotatable:!0,resizable:!0,removeable:!0,hidden:f,position:a,size:{width:c||0,height:u||0},degree:null==a?void 0:a.rotate,zoom:t,onChange:h,removeCallback:function(){g&&g(n)}},si.createElement("textarea",{className:$i()("text-item",{"read-only":ns()&&m,"flip-V":m&&(null==s?void 0:s.flipV)&&!(null!=s&&s.flipH),"flip-H":m&&!(null!=s&&s.flipV)&&(null==s?void 0:s.flipH),"flip-VH":m&&(null==s?void 0:s.flipV)&&(null==s?void 0:s.flipH)}),style:{fontSize:null==o?void 0:o.size,fontFamily:null==o?void 0:o.font,color:ns()&&m&&!r?"rgba(34, 34, 34, 0.3)":rs(null==o?void 0:o.textColor),backgroundColor:rs(null==o?void 0:o.backgroundColor),fontWeight:null!=o&&o.bold?"bold":void 0,fontStyle:null!=o&&o.italic?"italic":void 0,textAlign:null==o?void 0:o.align,textDecoration:null!=o&&o.underline?"underline":void 0,opacity:i&&i!==_?i/_:void 0,width:c,height:u},placeholder:P,onClick:function(e){var t=e.target;m&&(p&&p(n),ns()&&ge(t)&&t.setSelectionRange(0,0))},onDoubleClick:function(e){e.preventDefault(),ge(e.target)&&(ns()?(e.target.focus(),e.target.setSelectionRange(0,r.length)):e.target.select()),y(!1)},onKeyDown:ns()?function(e){return m&&e.preventDefault()}:void 0,readOnly:ns()?void 0:m,onBlur:function(){return y(!0)},onChange:m?void 0:d,value:ns()&&m?r||P:r,"data-id":n}))},os=function(e,t,n){if("crop"===e||"text"===e)return!1;var r=function(e){var t=e.position,n=e.width,r=e.height,i={x:t.x+n/2,y:t.y+r/2};return[{x:t.x,y:t.y},{x:t.x+n,y:t.y},{x:t.x+n,y:t.y+r},{x:t.x,y:t.y+r}].map((function(e){return Q(e,t.rotate||0,i)}))}(t);return r.every((function(e){var t,r,i=e.x,o=e.y;return!(i>=0&&i<=(null!==(t=n.width)&&void 0!==t?t:0)&&o>0&&o<(null!==(r=n.height)&&void 0!==r?r:0))}))},as=function(e,t){var n;if(void 0===t.content&&e.width===t.width&&e.height===t.height)return e;var r=t.content||e.content||""||P,i=(null===(n=e.textStyle)||void 0===n?void 0:n.size)||0;if(t.width&&t.height){var o=ae.getInstance(),a=r.split("\n"),l=o.getWidestText(a,i,e.textStyle),c=t.width<e.width?[10,i]:[i,w],u=o.getFitFontSize(l,t.width,c,e.textStyle);return t.fontSize=u,{width:o.getTextWidth(l,u,e.textStyle),height:u*a.length*S}}return function(e,t,n){var r=ae.getInstance(),i=e.split("\n");return{width:r.getTextsWidth(i,t,n),height:i.length*t*S}}(r,i,e.textStyle)};function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var us=si.forwardRef((function(e,t){var n=e.id,r=e.scale,i=e.history,o=e.waitPaint,a=e.updateHistory,l=e.updatePipeline,c=Ei((function(e){return e.menu.tab})),u=function(e,t){if(void 0!==n){var r=(null==i?void 0:i.text)||[],o=void 0!==t.content?t.content:e.content,c=as(e,t),u=c.width,s=c.height,f=r.map((function(n){var r;if(n.id!==e.id)return n;var a=cs(cs({},n.position||{x:0,y:0}),t.position);return cs(cs(cs({},n),t),{},{content:o,position:a,cropPosition:null!=i&&i.crop?oi(cs(cs({},a),{},{width:u,height:s}),i.crop):cs({},a),textStyle:cs(cs({},n.textStyle),{},{size:t.fontSize||(null===(r=n.textStyle)||void 0===r?void 0:r.size)}),width:u,height:s})}));a(f),l({id:e.id,option:{fontSize:t.fontSize}})}},s=function(e){if(void 0!==n&&i&&i.text){var t=i.text.filter((function(t){return t.id!==e}));a(t)}};return si.createElement("div",{ref:t,className:$i()("canvas-preview text-layer",{hide:!i||!i.text||!i.text.length||o,disabled:"text"!==c,focus:"text"===c})},i&&i.text?i.text.map((function(e){var t;return si.createElement(is,lu({key:e.id},e,{flip:"crop"===c?e.cropFlip:e.flip,position:"crop"===c&&null!==(t=e.cropPosition)&&void 0!==t?t:e.position,zoom:r,hidden:!!i.crop&&os(c,e,i.crop),changeValueCallback:function(t){var n=t.target;ge(n)&&u(e,{content:n.value.replace(/^\n+/g,"")})},onChangeCallback:function(t){var n,r,i,o=t.position||{dx:0,dy:0},a=t.size||{dw:0,dh:0},l=(e.width||0)+a.dw,c=(e.height||0)+a.dh,s=((null===(n=e.position)||void 0===n?void 0:n.x)||0)+o.dx,f=((null===(r=e.position)||void 0===r?void 0:r.y)||0)+o.dy,d=void 0!==t.degree?t.degree:null===(i=e.position)||void 0===i?void 0:i.rotate;u(e,{width:l,height:c,position:{x:s,y:f,rotate:d}})},onClickCallback:function(e){void 0!==n&&l({id:e})},onRemoveCallback:s}))})):null)}));us.displayName="TextView";var ss=us,fs="size",ds="crop",ps="filter",hs="retouch",gs="sign",vs="sticker",ms="mosaic",ys="blur",bs="text",ws="frame",xs=".ke_photos .canvas-preview.original",Es=".ke_photos .canvas-preview.edit-layer",Ss="ke_tooltip_display",Os=function(){var e=new Date;return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())},_s=function(e){return JSON.parse(localStorage.getItem(Ss)||"{}")[e]!==Os()},ks=function(e){var t=JSON.parse(localStorage.getItem(Ss)||"{}");t[e]=Os(),localStorage.setItem(Ss,JSON.stringify(t))},Ps=[{key:"filter",name:"필터"},{key:"retouch",name:"보정"}],Cs=function(e){var t=e.isActive,n=e.image,r=e.singleImage,i=Dc(),o=i.updatePreview,a=i.updateHistory,c=i.removeHistory,u=i.updateMenu,s=Ei((function(e){return e.preview.isClicked})),f=l((0,si.useState)(Ps[0].key),2),d=f[0],p=f[1],h=l((0,si.useState)(!1),2),g=h[0],v=h[1],m=l((0,si.useState)(!1),2),y=m[0],b=m[1],w=(0,si.useCallback)((function(e){p(e),u("tab")(e)}),[]),x=(0,si.useCallback)((function(e,n){t&&(!y&&b(!0),o(e,n))}),[t,y]);return(0,si.useEffect)((function(){if(t&&y){var e=_s("filter");e&&ks("filter"),v(e)}}),[y]),(0,si.useEffect)((function(){t&&u("tab")(d)}),[t]),si.createElement("div",{className:$i()("cont_effect",{on:t,off:!t}),"data-log-action-layer":"effect-tab"},si.createElement("h3",{className:"screen_out"},"효과"),si.createElement("div",{className:"box_tab"},si.createElement("h4",{className:"screen_out"},"탭목록"),si.createElement(bo,{tab:d,list:Ps,onClick:w})),si.createElement("div",{className:"box_y_scroll box_y_scroll1"},si.createElement(Ll,{isActive:t&&d===Ps[0].key,image:n,singleImage:r,isPreviewClicked:s,updatePreview:x,updateHistory:a("filter"),removeHistory:c("filter")}),si.createElement(fc,{isActive:t&&d===Ps[1].key,image:n,singleImage:r,isPreviewClicked:s,updatePreview:x,updateHistory:a("retouch"),removeHistory:c("retouch")})),g&&si.createElement(so,{open:g,dispatch:v,x:"50%",y:"50%",duration:k,message:"이미지를 클릭하면 원본을 확인할 수 있습니다."}))},Ds=[{key:"mosaic",name:"모자이크"},{key:"blur",name:"블러"}],Ts=function(e){var t=e.isActive,n=e.image,r=Dc(),i=r.updateHistory,o=r.updatePreview,a=r.updateMenu,c=r.updatePipeline,u=r.removeHistory,s=Ei((function(e){return e.pipeline})),f=l((0,si.useState)(Ds[0].key),2),d=f[0],p=f[1],h=l((0,si.useState)(!1),2),g=h[0],v=h[1],m=(0,si.useCallback)((function(e){p(e),a("tab")(e)}),[]);return(0,si.useEffect)((function(){if(t){a("tab")(d);var e=_s("mosaic");e&&ks("mosaic"),v(e)}}),[t]),si.createElement("div",{className:$i()("cont_mosaicblur",{on:t,off:!t})},si.createElement("h3",{className:"screen_out"},"모자이크"),si.createElement("div",{className:"box_tab","data-log-action-layer":"".concat(d,"-button")},si.createElement("h4",{className:"screen_out"},"탭목록"),si.createElement(bo,{tab:d,list:Ds,onClick:m})),si.createElement("div",{className:"box_y_scroll"},si.createElement(ya,{isActive:t&&d===Ds[0].key,image:n,pipeline:s.mosaic,updateHistory:i("mosaic"),updatePipeline:c("mosaic"),updatePreview:o,removeHistory:u("mosaic")}),si.createElement(Zo,{isActive:t&&d===Ds[1].key,image:n,pipeline:s.blur,updateHistory:i("blur"),updatePipeline:c("blur"),updatePreview:o})),g?si.createElement(so,{root:".content-article",open:g,x:"50%",y:"50%",message:"이미지 위를 마우스로 드래그하면 모자이크를 만들 수 있습니다."}):null)};function js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?js(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ms=function(){var e=kc().paintCanvas,t=Dc(),n=t.updatePreview,r=t.updateHistory,i=t.updatePipeline,o=t.removeHistory,a=Ei((function(e){return e.images})),l=Ei((function(e){return e.pipeline})),c=Ei((function(e){return e.preview.selectedId})),u=Ei((function(e){return e.preview.isPainted})),s=Ei((function(e){return e.selections.open})),f=Ei((function(e){return!e.selections.editable})),d=Ei((function(e){return e.options.embed})),p=Ei((function(e){return e.menu.tab})),h=B(a,(function(e){return e.id===c}));return si.createElement("section",{className:$i()("content-feature",{disabled:!(null!=h&&h.editable)||s},{cont_cover:p===ms||p===ys},{hide:d})},si.createElement(mc,{isActive:p===fs,image:h,singleImage:f,updateHistory:r("size"),removeHistory:o("size")}),si.createElement(Qa,{isActive:p===ds,image:h,pipeline:l.crop,updatePreview:n,updatePipeline:i("crop"),removeHistory:o("crop")}),si.createElement(Cs,{isActive:p===ps||p===hs,image:h,singleImage:f}),si.createElement(au,{isActive:p===gs,image:h,singleImage:f,pipeline:l.sign,updateHistory:r("sign"),removeHistory:o("sign"),updatePipeline:i("sign")}),si.createElement(Yu,{isActive:p===vs,image:h,pipeline:l.sticker,updateHistory:r("sticker"),updatePipeline:i("sticker"),removeHistory:o("sticker")}),si.createElement(Ts,{isActive:p===ms||p===ys,image:h}),si.createElement(ts,{isActive:p===bs,image:h,pipeline:l.text,updateHistory:r("text"),updatePipeline:i("text"),removeHistory:o("text")}),si.createElement(Zl,{isActive:p===ws,image:h,singleImage:f,updatePreview:function(t,n){if(u){var r=document.querySelector(Es),i=document.querySelector(xs);if(r&&i){var o=Ns(Ns({},t),{},{history:Ns(Ns({},null==t?void 0:t.history),n)});e(r,o,i)}}},updateHistory:r("frame"),removeHistory:o("frame")}))},Is=n(23279),Rs=n.n(Is),As={box:{client:{width:0,height:0},padding:x},image:{original:{width:0,height:0},display:{size:{width:0,height:0},position:{top:0,left:0},scale:1}}},zs={dx:0,dy:0,degree:0,scale:1,flipH:!1,flipV:!1,centerX:0,centerY:0},Ls=function(e){var t=e.originData.width?e.originData.width:e.width,n=e.originData.height?e.originData.height:e.height;return t>y||n>b},Fs=function(e,t){e.width=t.width,e.height=t.height,e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px")},Us=function(e,t){var n=e.getContext("2d");Fs(e,t),null==n||n.drawImage(t,0,0,t.width,t.height)};function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vs=function(e){var t=e.image,n=e.allowDisplayOriginal,r=e.info,i=ji(),o=Dc(),a=o.updatePipeline,c=o.updateHistory,u=o.removeHistory,s=kc().paintCanvas,f=Ei((function(e){return e.menu.tab})),d=Ei((function(e){return e.preview.expand})),p=Ei((function(e){return e.preview.expandable})),h=Ei((function(e){return e.preview.isClicked})),g=Ei((function(e){return e.preview.isPainted})),v=Ei((function(e){return e.preview.loading})),m=Ei((function(e){return e.preview.scale})),y=Ei((function(e){return e.pipeline.crop})),b=l((0,si.useState)(Bs({},As)),2),w=b[0],S=b[1],O=l((0,si.useState)(Bs({},zs)),2),_=O[0],k=O[1],P=l((0,si.useState)(),2),C=P[0],D=P[1],T=l((0,si.useState)(),2),j=T[0],N=T[1],M=(0,si.useRef)(null),I=(0,si.useRef)(null),R=(0,si.useRef)(null),A=(0,si.useRef)(null),z=(0,si.useRef)(null),L=(0,si.useRef)(null),F=(0,si.useRef)(null),U=(0,si.useRef)(null),H=function(){var e,n,o,a,l,c=M.current,u=I.current,h=R.current;if(c&&u&&h&&r&&w.box.client.width&&w.box.client.height){var g=[u,h],v="crop"===f,y=!!((null!==(e=null===(n=r.history)||void 0===n||null===(o=n.crop)||void 0===o?void 0:o.rotate)&&void 0!==e?e:0)%2);Us(u,t),function(e,t,n){if(I.current){if(r&&jc(r.history)){Fs(e,t);var o,a,l=Bo()(r);n&&(null!==(o=l.history)&&void 0!==o&&o.crop&&(l.history.blur=Ea(l,l.history.crop,l.history.blur),l.history.mosaic=Sa(l,l.history.crop,l.history.mosaic),delete l.history.crop),null!==(a=l.history)&&void 0!==a&&a.frame&&delete l.history.frame),s(e,l,I.current)}else Us(e,t);i(kr({isPainted:!0}))}}(h,t,v);var b=v?h:null!==(a=null===(l=r.history)||void 0===l?void 0:l.crop)&&void 0!==a?a:h,O=b.width,_=b.height,k={width:y?_:O,height:y?O:_},P=d?E:x,C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.width-n.left-n.right,o=e.height-n.top-n.bottom,a=t.width,l=t.height;if(r)for(;i>a||o>l;){if(i>a){var c=i/a;a=i,l*=c}if(o>l)a*=o/l,l=o}for(;i<a||o<l;){if(i<a){var u=i/a;a=i,l*=u}if(o<l)a*=o/l,l=o}return{fitWidth:a,fitHeight:l}}(w.box.client,k,P,v),D=C.fitWidth,T=C.fitHeight,j=Math.min(D/k.width,T/k.height),N=d?m:isNaN(j)?1:j,A=function(e,t,n,r){var i=e.width-t.left-t.right,o=e.height-t.top-t.bottom,a=(o-n.height)/2+t.top,l=(i-n.width)/2+t.left;if(d){var c=n.height*r;1===m?(a=o<=n.height?0:(o-n.height)/2,l=i<=n.width?0:(i-n.width)/2):c>o&&(a=(c-n.height)/2)}else if(1===m&&n.width<i&&n.height<o){var u=function(e,t){var n=t.height/t.width,r=t.width>t.height?e.width:e.height*n,i=t.width>t.height?e.height*n:e.height,o=t.width>t.height?e.width/t.width:e.height/t.height;return r>e.width?(r=e.width,i=e.width*n,o=r/t.width):i>e.height&&(r=e.height/n,o=(i=e.height)/t.height),{width:r,height:i,expScale:o}}({width:i,height:o},n),s=u.width,f=u.height;a=((o===f?f-n.height:o-n.height)>>1)+t.top,l=((i===s?s-n.width:i-n.width)>>1)+t.left}return{top:a,left:l}}(w.box.client,P,{width:O,height:_},N),z=A.top,L=A.left,F=v?{x:0,y:0}:{x:Math.round((O-k.width)*N/2),y:Math.round((_-k.height)*N/2)};S((function(e){return Bs(Bs({},e),{},{box:Bs(Bs({},e.box),{},{padding:P}),image:{original:{width:O,height:_},display:{size:{width:D,height:T},position:{top:z-F.x,left:L-F.y},scale:N}}})})),function(e,t){e.forEach((function(e){e&&!e.classList.contains("edit-layer")&&(e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"))}))}(g,t),O<w.box.client.width&&_<w.box.client.height?i(Sr({expandable:!1})):p||i(Sr({expandable:!0}))}},B=function(){if("crop"===f&&g){var e=y.width,t=y.height,n=y.angle,i=y.flipH,o=y.flipV,a=y.rotate,l=y.centerX,c=y.centerY;if(r&&r.width&&r.height&&e&&t){var u=w.box,s=u.client,d=u.padding,p=w.image.display,h=r.width||0,v=r.height||0,m=a*$+n,b=h/2-l,x=v/2-c,E=a%2==0?e:t,S=a%2==0?t:e,O=d.left+d.right,P=d.top+d.bottom,C=fl(E,S,s.width,s.height,O,P)/p.scale,T={translateX:"".concat(b,"px"),translateY:"".concat(x,"px"),rotateX:o?q:void 0,rotateY:i?q:void 0,rotateZ:m,scaleX:1!==C?C:void 0,scaleY:1!==C?C:void 0};k({dx:b,dy:x,flipH:!!i,flipV:!!o,degree:m,scale:C,centerX:l,centerY:c}),D({transformOrigin:"".concat(l,"px ").concat(c,"px"),transform:Ba(T)}),N(function(e,t,n){var r=e.image.display.scale,i=!!(t.rotate%2),o=ul(t.width,t.height,e.image.display.scale,i),a=Math.round(o.width/r),l=Math.round(o.height/r);return{width:a,height:l,top:e.image.original.height-l>>1,left:e.image.original.width-a>>1,transform:"scale(".concat(n,")")}}(w,y,_.scale))}}};return(0,si.useEffect)((function(){var e=Rs()((function(){if(M.current){var e,t=Tc(null===(e=M.current)||void 0===e?void 0:e.parentElement);S((function(e){return Bs(Bs({},e),{},{box:Bs(Bs({},e.box),{},{client:t})})}))}}),300);if(M.current){var t=Tc(M.current.parentElement);S((function(e){return Bs(Bs({},e),{},{box:Bs(Bs({},e.box),{},{client:t})})}))}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,si.useLayoutEffect)((function(){H()}),[r,w.box.client,d,m,f]),(0,si.useLayoutEffect)((function(){"crop"!==f&&D(void 0)}),[f]),(0,si.useLayoutEffect)((function(){B()}),[y,w]),(0,si.useEffect)((function(){B()}),[y,w]),si.createElement(si.Fragment,null,si.createElement("div",{className:"edit-wrapper",ref:M,style:Bs(Bs(Bs({},w.image.display.position),w.image.original),{},{transform:"scale(".concat(w.image.display.scale,")")}),onMouseDown:function(){n&&i(Pr({isClicked:!0}))},onMouseUp:function(){n&&i(Pr({isClicked:!1}))},onMouseOut:function(){n&&h&&i(Pr({isClicked:!1}))},"data-log-action-layer":"".concat(f,"-preview")},si.createElement("div",{className:$i()("crop-wrapper",{"active-crop":"crop"===f}),style:C},si.createElement("canvas",{className:"canvas-preview original hide",ref:I}),si.createElement("canvas",{className:$i()("canvas-preview edit-layer"),ref:R}),si.createElement(Qu,{id:null==r?void 0:r.id,ref:z,scale:w.image.display.scale,history:null==r?void 0:r.history,waitPaint:v||!g,updateHistory:c("sticker"),updatePipeline:a("sticker"),removeHistory:u("sticker")}),"mosaic"===f&&si.createElement(xa,{editCanvas:R.current,ref:L,scale:w.image.display.scale,waitPaint:v||!g,updateHistory:c("mosaic"),updatePipeline:a("mosaic"),removeHistory:u("mosaic")}),"blur"===f&&si.createElement(na,{editCanvas:R.current,ref:F,scale:w.image.display.scale,waitPaint:v||!g,updateHistory:c("blur"),removeHistory:u("blur")}),si.createElement(ss,{id:null==r?void 0:r.id,ref:U,scale:w.image.display.scale,history:null==r?void 0:r.history,waitPaint:v||!g,updateHistory:c("text"),updatePipeline:a("text")})),si.createElement("div",{className:$i()("crop-wrapper-fit-box-area",{"active-crop":"crop"===f}),style:j},si.createElement(Mu,{id:null==r?void 0:r.id,width:w.image.original.width,height:w.image.original.height,ref:A,scale:w.image.display.scale,waitPaint:v||!g,history:null==r?void 0:r.history,updatePipeline:a("sign")}))),si.createElement(_l,{id:null==r?void 0:r.id,scale:m,isActive:"crop"===f,waitPaint:v||!g,previewStatus:w,cropStatus:_,updatePipeline:a("crop"),"data-log-action-layer":"crop-preview"}))};function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ys=function(e){var t=e.appIsLoading,n=ji(),r=Ei((function(e){return e.images})),i=Ei((function(e){return e.preview.expand})),o=Ei((function(e){return e.preview.selectedId})),a=Ei((function(e){return e.preview.isPainted})),c=Ei((function(e){return e.preview.loading})),u=Ei((function(e){return e.menu.tab})),s=Ei((function(e){return e.options.embed})),f=l((0,si.useState)(!0),2),d=f[0],p=f[1],h=l((0,si.useState)(!1),2),g=h[0],v=h[1],m=l((0,si.useState)(""),2),y=m[0],b=m[1],w=(0,si.useRef)(new Image),x=(0,si.useRef)(null),E=(0,si.useRef)({width:[],gif:!1}),S=B(r,(function(e){return e.id===o})),O=function(e){p(e.editable),v(Ls(e)),b(e.editableMsg)},_=(0,si.useCallback)((function(){b("존재하지 않는 이미지입니다"),p(!1)}),[]),k=function(){var e,t,i=B(r,(function(e){return t=e.src,n=w.current.src,t.replace(/^\/\/|^.*?:(\/\/)?/,"")===n.replace(/^\/\/|^.*?:(\/\/)?/,"");var t,n}));if(!i||!i.editable||null!==(e=i)&&void 0!==e&&e.width&&null!==(t=i)&&void 0!==t&&t.height){if(i&&(i.width&&i.width!==i.originData.width||i.height&&i.height!==i.originData.height)){if(i.src!==En(i.originData.src))return;n(Or({loading:!0})),n(kr({isPainted:!1})),i=function(e){var t=Ws(Ws({},e),{},{src:Ee(w.current,e.width,e.height)});return n(Vn({id:e.id,image:t})),t}(i)}}else i=function(e){e.width=w.current.naturalWidth,e.height=w.current.naturalHeight;var t=Ws(Ws({},e),wn(e.width,e.height));return Ls(e)&&(t.originData={src:e.originData.src,width:e.width,height:e.height},t.src=Ee(w.current,t.width,t.height)),n(Vn({id:e.id,image:t})),O(t),t}(i)};(0,si.useEffect)((function(){c||k()}),[c]),(0,si.useEffect)((function(){"crop"===u&&n(Er())}),[u]),(0,si.useEffect)((function(){var e=function(){n(Or({loading:!1}))};return w.current.crossOrigin="Anonymous",w.current.addEventListener("load",e),w.current.addEventListener("error",_),function(){w.current.removeEventListener("load",e),w.current.removeEventListener("error",_)}}),[]),(0,si.useEffect)((function(){var e,i,a;if(!t){var l=B(r,(function(e){var t=e.id;return o===t}));l&&w.current.src!==l.src&&(n(_r({scale:null!==(e=null===(i=l.history)||void 0===i||null===(a=i.size)||void 0===a?void 0:a.scale)&&void 0!==e?e:1})),n(Or({loading:!0})),n(kr({isPainted:!1})),O(l),w.current.src=l.src)}}),[t,r,o]);var P={};return s&&(P.padding="0px",(s.hideImageList||void 0===s.hideImageList)&&(P.height="100%")),si.createElement("article",{id:"mainContent",className:"content-article"},si.createElement("h3",{className:"screen_out"},u),(t||!a)&&si.createElement(lo,null),si.createElement("div",{className:$i()("box_canvas",{expand:i}),ref:x,style:P,"data-log-action-layer":"preview"},!c&&si.createElement(Vs,{image:w.current,info:S,allowDisplayOriginal:"filter"===u||"retouch"===u}),d||E.current.gif?null:si.createElement(so,{open:!d,type:"warning",x:"50%",y:"50%",message:y,onDismiss:function(){E.current.gif=!0}}),a&&d&&g&&!E.current.width.includes(o)?si.createElement(so,{open:d&&g,x:"50%",y:"50%",message:y,onDismiss:function(){E.current.width.push(o)}}):null))};var $s=function(){return si.createElement("aside",{className:"main-etc"},si.createElement("h3",{className:"screen_out"},"적용  버튼 목록"),si.createElement("div",{className:"submit_btn"},si.createElement("button",{type:"button",className:"btn_type1"},"취소"),si.createElement("button",{type:"button",className:"btn_type1 btn_type1_type1"},"완료")))},qs={left:"0px",width:"100%"},Ks=n(85893);function Gs(e,t,...n){if("undefined"!=typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(t.replace(/%s/g,(function(){return n[r++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function Qs(e){return"object"==typeof e}const Js="dnd-core/INIT_COORDS",Zs="dnd-core/BEGIN_DRAG",ef="dnd-core/PUBLISH_DRAG_SOURCE",tf="dnd-core/HOVER",nf="dnd-core/DROP",rf="dnd-core/END_DRAG";function of(e,t){return{type:Js,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const af={type:Js,payload:{clientOffset:null,sourceClientOffset:null}};function lf(e){return function(t=[],n={publishSource:!0}){const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:o}=n,a=e.getMonitor(),l=e.getRegistry();e.dispatch(of(i)),function(e,t,n){Gs(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Gs(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,a,l);const c=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,a);if(null==c)return void e.dispatch(af);let u=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){Gs("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),u=o(c)}e.dispatch(of(i,u));const s=l.getSource(c).beginDrag(a,c);if(null==s)return;!function(e){Gs(Qs(e),"Item must be an object.")}(s),l.pinSource(c);const f=l.getSourceType(c);return{type:Zs,payload:{itemType:f,item:s,sourceId:c,clientOffset:i||null,sourceClientOffset:u||null,isSourcePublic:!!r}}}}function cf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){cf(e,t,n[t])}))}return e}function sf(e){return function(t={}){const n=e.getMonitor(),r=e.getRegistry();!function(e){Gs(e.isDragging(),"Cannot call drop while not dragging."),Gs(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const i=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);i.forEach(((i,o)=>{const a=function(e,t,n,r){const i=n.getTarget(e);let o=i?i.drop(r,e):void 0;(function(e){Gs(void 0===e||Qs(e),"Drop result must either be an object or undefined.")})(o),void 0===o&&(o=0===t?{}:r.getDropResult());return o}(i,o,r,n),l={type:nf,payload:{dropResult:uf({},t,a)}};e.dispatch(l)}))}}function ff(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){Gs(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();if(null!=r){n.getSource(r,!0).endDrag(t,r),n.unpinSource()}return{type:rf}}}function df(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function pf(e){return function(t,{clientOffset:n}={}){!function(e){Gs(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),i=e.getMonitor(),o=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const i=e[r];df(t.getTargetType(i),n)||e.splice(r,1)}}(r,o,i.getItemType()),function(e,t,n){Gs(t.isDragging(),"Cannot call hover while not dragging."),Gs(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){const r=e[t];Gs(e.lastIndexOf(r)===t,"Expected targetIds to be unique in the passed array.");Gs(n.getTarget(r),"Expected targetIds to be registered.")}}(r,i,o),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,i,o),{type:tf,payload:{targetIds:r,clientOffset:n||null}}}}function hf(e){return function(){if(e.getMonitor().isDragging())return{type:ef}}}class gf{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const n=function(e){return{beginDrag:lf(e),publishDragSource:hf(e),hover:pf(e),drop:sf(e),endDrag:ff(e)}}(this);return Object.keys(n).reduce(((r,i)=>{const o=n[i];var a;return r[i]=(a=o,(...n)=>{const r=a.apply(e,n);void 0!==r&&t(r)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function vf(e,t){return{x:e.x-t.x,y:e.y-t.y}}const mf=[],yf=[];mf.__IS_NONE__=!0,yf.__IS_ALL__=!0;class bf{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;Gs("function"==typeof e,"listener must be a function."),Gs(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),i=t.stateId;try{const o=i===r||i===r+1&&!function(e,t){return e!==mf&&(e===yf||void 0===t||(n=e,t.filter((e=>n.indexOf(e)>-1))).length>0);var n}(t.dirtyHandlerIds,n);o||e()}finally{r=i}}))}subscribeToOffsetChange(e){Gs("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return Gs(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(Gs(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return df(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(Gs(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!df(r,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?vf((o=r,{x:(i=t).x+o.x,y:i.y+o.y}),n):null;var i,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?vf(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const wf="undefined"!=typeof global?global:self,xf=wf.MutationObserver||wf.WebKitMutationObserver;function Ef(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const Sf="function"==typeof xf?function(e){let t=1;const n=new xf(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:Ef;class Of{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const _f=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Sf(this.flush),this.requestErrorThrow=Ef((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},kf=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new Of(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(_f.registerPendingError);const Pf="dnd-core/ADD_SOURCE",Cf="dnd-core/ADD_TARGET",Df="dnd-core/REMOVE_SOURCE",Tf="dnd-core/REMOVE_TARGET";function jf(e,t){t&&Array.isArray(e)?e.forEach((e=>jf(e,!1))):Gs("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Nf;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Nf||(Nf={}));let Mf=0;function If(e){const t=(Mf++).toString();switch(e){case Nf.SOURCE:return`S${t}`;case Nf.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Rf(e){switch(e[0]){case"S":return Nf.SOURCE;case"T":return Nf.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Af(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,i]}=n.next();if(i===t)return!0;r=!!e}while(!r);return!1}class zf{addSource(e,t){jf(e),function(e){Gs("function"==typeof e.canDrag,"Expected canDrag to be a function."),Gs("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Gs("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(Nf.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Pf,payload:{sourceId:e}}}(n)),n}addTarget(e,t){jf(e,!0),function(e){Gs("function"==typeof e.canDrop,"Expected canDrop to be a function."),Gs("function"==typeof e.hover,"Expected hover to be a function."),Gs("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(Nf.TARGET,e,t);return this.store.dispatch(function(e){return{type:Cf,payload:{targetId:e}}}(n)),n}containsHandler(e){return Af(this.dragSources,e)||Af(this.dropTargets,e)}getSource(e,t=!1){Gs(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Gs(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Gs(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Gs(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Rf(e)===Nf.SOURCE}isTargetId(e){return Rf(e)===Nf.TARGET}removeSource(e){var t;Gs(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Df,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},_f.enqueueTask(kf.create(t))}removeTarget(e){Gs(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Tf,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);Gs(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){Gs(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=If(e);return this.types.set(r,t),e===Nf.SOURCE?this.dragSources.set(r,n):e===Nf.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Lf=(e,t)=>e===t;function Ff(e=mf,t){switch(t.type){case tf:break;case Pf:case Cf:case Tf:case Df:return mf;default:return yf}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,i=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const i=[];return n.forEach(((e,t)=>{1===e&&i.push(t)})),i}(n,r);if(!(i.length>0||!function(e,t,n=Lf){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(n,r)))return mf;const o=r[r.length-1],a=n[n.length-1];return o!==a&&(o&&i.push(o),a&&i.push(a)),i}function Uf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hf={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Bf(e=Hf,t){const{payload:n}=t;switch(t.type){case Js:case Zs:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case tf:return r=e.clientOffset,i=n.clientOffset,!r&&!i||r&&i&&r.x===i.x&&r.y===i.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Uf(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case rf:case nf:return Hf;default:return e}var r,i}function Vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Vf(e,t,n[t])}))}return e}const Wf={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Yf(e=Wf,t){const{payload:n}=t;switch(t.type){case Zs:return Xf({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case ef:return Xf({},e,{isSourcePublic:!0});case tf:return Xf({},e,{targetIds:n.targetIds});case Tf:return-1===e.targetIds.indexOf(n.targetId)?e:Xf({},e,{targetIds:(r=e.targetIds,i=n.targetId,r.filter((e=>e!==i)))});case nf:return Xf({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case rf:return Xf({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,i}function $f(e=0,t){switch(t.type){case Pf:case Cf:return e+1;case Df:case Tf:return e-1;default:return e}}function qf(e=0){return e+1}function Kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Kf(e,t,n[t])}))}return e}function Qf(e={},t){return{dirtyHandlerIds:Ff(e.dirtyHandlerIds,{type:t.type,payload:Gf({},t.payload,{prevTargetIds:(n=e,r="dragOperation.targetIds",i=[],r.split(".").reduce(((e,t)=>e&&e[t]?e[t]:i||null),n))})}),dragOffset:Bf(e.dragOffset,t),refCount:$f(e.refCount,t),dragOperation:Yf(e.dragOperation,t),stateId:qf(e.stateId)};var n,r,i}function Jf(e,t,n={},r=!1){const i=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Dn(Qf,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(r),o=new bf(i,new zf(i)),a=new gf(i,o),l=e(a,t,n);return a.receiveBackend(l),a}const Zf=(0,si.createContext)({dragDropManager:void 0});function ed(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let td=0;const nd=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var rd=(0,si.memo)((function(e){var{children:t}=e,n=ed(e,["children"]);const[r,i]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e,t=id(),n,r){const i=t;i[nd]||(i[nd]={dragDropManager:Jf(e,t,n,r)});return i[nd]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(n);return(0,si.useEffect)((()=>{if(i){const e=id();return++td,()=>{0==--td&&(e[nd]=null)}}}),[]),(0,Ks.jsx)(Zf.Provider,{value:r,children:t})}));function id(){return"undefined"!=typeof global?global:window}function od(e){let t=null;return()=>(null==t&&(t=e()),t)}class ad{enter(e){const t=this.entered.length;return this.entered=function(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const i=[];return n.forEach((e=>i.push(e))),i}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=e,n.filter((e=>e!==r))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class ld{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const cd="__NATIVE_FILE__",ud="__NATIVE_URL__",sd="__NATIVE_TEXT__",fd="__NATIVE_HTML__";function dd(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}const pd={[cd]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[fd]:{exposeProperties:{html:(e,t)=>dd(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[ud]:{exposeProperties:{urls:(e,t)=>dd(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[sd]:{exposeProperties:{text:(e,t)=>dd(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function hd(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(pd).filter((e=>{const n=pd[e];return!!(null==n?void 0:n.matchesTypes)&&n.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const gd=od((()=>/firefox/i.test(navigator.userAgent))),vd=od((()=>Boolean(window.safari)));class md{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:i,c3s:o}=this;let a=t.length-1;if(e===t[a])return n[a];let l,c=0,u=o.length-1;for(;c<=u;){l=Math.floor(.5*(c+u));const r=t[l];if(r<e)c=l+1;else{if(!(r>e))return n[l];u=l-1}}a=Math.max(0,u);const s=e-t[a],f=s*s;return n[a]+r[a]*s+i[a]*f+o[a]*s*f}constructor(e,t){const{length:n}=e,r=[];for(let e=0;e<n;e++)r.push(e);r.sort(((t,n)=>e[t]<e[n]?-1:1));const i=[],o=[],a=[];let l,c;for(let r=0;r<n-1;r++)l=e[r+1]-e[r],c=t[r+1]-t[r],o.push(l),i.push(c),a.push(c/l);const u=[a[0]];for(let e=0;e<o.length-1;e++){const t=a[e],n=a[e+1];if(t*n<=0)u.push(0);else{l=o[e];const r=o[e+1],i=l+r;u.push(3*i/((i+r)/t+(i+l)/n))}}u.push(a[a.length-1]);const s=[],f=[];let d;for(let e=0;e<u.length-1;e++){d=a[e];const t=u[e],n=1/o[e],r=t+u[e+1]-d-d;s.push((d-t-r)*n),f.push(r*n*n)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=s,this.c3s=f}}function yd(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function bd(e){return{x:e.clientX,y:e.clientY}}function wd(e,t,n,r,i){const o="IMG"===(a=t).nodeName&&(gd()||!(null===(l=document.documentElement)||void 0===l?void 0:l.contains(a)));var a,l;const c=yd(o?e:t),u={x:n.x-c.x,y:n.y-c.y},{offsetWidth:s,offsetHeight:f}=e,{anchorX:d,anchorY:p}=r,{dragPreviewWidth:h,dragPreviewHeight:g}=function(e,t,n,r){let i=e?t.width:n,o=e?t.height:r;return vd()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,t,s,f),{offsetX:v,offsetY:m}=i,y=0===m||m;return{x:0===v||v?v:new md([0,.5,1],[u.x,u.x/s*h,u.x+h-s]).interpolate(d),y:y?m:(()=>{let e=new md([0,.5,1],[u.y,u.y/f*g,u.y+g-f]).interpolate(p);return vd()&&o&&(e+=(window.devicePixelRatio-1)*g),e})()}}class xd{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function Ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ed(e,t,n[t])}))}return e}class Od{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),i=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),i=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",i),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Sd({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return Sd({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(e).some((n=>e[n]===t))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const n=pd[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new ld(n);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&yd(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=bd(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,i=hd(r);if(this.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),i=this.sourcePreviewNodes.get(e)||t;if(i){const{anchorX:e,anchorY:o,offsetX:a,offsetY:l}=this.getCurrentSourcePreviewNodeOptions(),c=wd(t,i,n,{anchorX:e,anchorY:o},{offsetX:a,offsetY:l});r.setDragImage(i,c.x,c.y)}}try{null==r||r.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(i)this.beginDragNativeItem(i);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:n}=e,r=hd(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:bd(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=bd(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):hd(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:bd(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new xd(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new ad(this.isNodeInDocument)}}const _d=function(e,t,n){return new Od(e,t,n)};var kd=n(64063);const Pd="undefined"!=typeof window?si.useLayoutEffect:si.useEffect;function Cd(e,t,n){const[r,i]=function(e,t,n){const[r,i]=(0,si.useState)((()=>t(e))),o=(0,si.useCallback)((()=>{const o=t(e);kd(r,o)||(i(o),n&&n())}),[r,e,n]);return Pd(o),[r,o]}(e,t,n);return Pd((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(i,{handlerIds:[t]})}),[e,i]),r}function Dd(e,t,n){return Cd(t,e||(()=>({})),(()=>n.reconnect()))}function Td(e,t){const n=[...t||[]];return null==t&&"function"!=typeof e&&n.push(e),(0,si.useMemo)((()=>"function"==typeof e?e():e),n)}function jd(e){return(0,si.useMemo)((()=>e.hooks.dragSource()),[e])}function Nd(e){return(0,si.useMemo)((()=>e.hooks.dragPreview()),[e])}function Md(e,t,n,r){let i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;const l=Object.prototype.hasOwnProperty.bind(t);for(let a=0;a<o.length;a++){const c=o[a];if(!l(c))return!1;const u=e[c],s=t[c];if(i=n?n.call(r,u,s,c):void 0,!1===i||void 0===i&&u!==s)return!1}return!0}function Id(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Rd(e){return(t=null,n=null)=>{if(!(0,si.isValidElement)(t)){const r=t;return e(r,n),r}const r=t;!function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(r);return function(e,t){const n=e.ref;return Gs("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,si.cloneElement)(e,{ref:e=>{zd(n,e),zd(t,e)}}):(0,si.cloneElement)(e,{ref:t})}(r,n?t=>e(t,n):e)}}function Ad(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=Rd(r);t[n]=()=>e}})),t}function zd(e,t){"function"==typeof e?e(t):e.current=t}class Ld{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Md(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Md(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Ad({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Id(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Id(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}function Fd(){const{dragDropManager:e}=(0,si.useContext)(Zf);return Gs(null!=e,"Expected drag drop context"),e}let Ud=!1,Hd=!1;class Bd{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Gs(!Ud,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ud=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ud=!1}}isDragging(){if(!this.sourceId)return!1;Gs(!Hd,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Hd=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Hd=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class Vd{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{},null!=n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:i}=n;return i?i(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function Xd(e,t,n){const r=Fd(),i=function(e,t,n){const r=(0,si.useMemo)((()=>new Vd(e,t,n)),[t,n]);return(0,si.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),o=function(e){return(0,si.useMemo)((()=>{const t=e.type;return Gs(null!=t,"spec.type must be defined"),t}),[e])}(e);Pd((function(){if(null!=o){const[e,a]=function(e,t,n){const r=n.getRegistry(),i=r.addSource(e,t);return[i,()=>r.removeSource(i)]}(o,i,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}}),[r,t,n,i,o])}function Wd(e,t){const n=Td(e,t);Gs(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const e=Fd();return(0,si.useMemo)((()=>new Bd(e)),[e])}(),i=function(e,t){const n=Fd(),r=(0,si.useMemo)((()=>new Ld(n.getBackend())),[n]);return Pd((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),Pd((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return Xd(n,r,i),[Dd(n.collect,r,i),jd(i),Nd(i)]}function Yd(e){return(0,si.useMemo)((()=>e.hooks.dropTarget()),[e])}class $d{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Md(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Ad({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Id(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let qd=!1;class Kd{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;Gs(!qd,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return qd=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{qd=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class Gd{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Qd(e,t,n){const r=Fd(),i=function(e,t){const n=(0,si.useMemo)((()=>new Gd(e,t)),[t]);return(0,si.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),o=function(e){const{accept:t}=e;return(0,si.useMemo)((()=>(Gs(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);Pd((function(){const[e,a]=function(e,t,n){const r=n.getRegistry(),i=r.addTarget(e,t);return[i,()=>r.removeTarget(i)]}(o,i,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}),[r,t,i,n,o.map((e=>e.toString())).join("|")])}function Jd(e,t){const n=Td(e,t),r=function(){const e=Fd();return(0,si.useMemo)((()=>new Kd(e)),[e])}(),i=function(e){const t=Fd(),n=(0,si.useMemo)((()=>new $d(t.getBackend())),[t]);return Pd((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return Qd(n,r,i),[Dd(n.collect,r,i),Yd(i)]}var Zd=function(e){var t=e.idx,n=e.classname,r=e.isDropTarget,i=e.side,o=e.children,a=e.dragDispatcher,c=e.dropDispatcher,u=e.dropSideDispatcher,s=(0,si.useRef)(null);return(0,l(Wd({type:"card",item:function(){return{idx:t}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,n){n.didDrop()?c(t):a(-1)}}),2)[1])((0,l(Jd({accept:"card",collect:(0,si.useCallback)((function(e){if(e.getItem())return{idx:e.getItem()}}),[t]),hover:yl()((function(e,n){var r,i=e.idx,o=t;if(i!==o){var l=null===(r=s.current)||void 0===r?void 0:r.getBoundingClientRect(),c=n.getClientOffset();if(l&&c){var f=l.left+l.width/2,d=c.x<f?"left":"right";a(o),u(d)}}}),50)}),2)[1])(s)),si.createElement("li",{className:$i()(n,{drop:r,left:i&&"left"===i,right:i&&"right"===i}),ref:s},o)},ep=function(e){var t=e.id,n=e.idx,r=e.url,i=e.onClickDispatcher,o=e.isRerender,a=e.setIsRerender,c=Ei((function(e){return e.images})),u=Ei((function(e){return e.options.fileSystem})),s=Ei((function(e){return e.preview.isPainted})),f=B(c,(function(e){return t===e.id})),d=l((0,si.useState)(),2),p=d[0],h=d[1];return(0,si.useEffect)((function(){var e,t;if(!o&&s&&f&&(((null===(e=f.originData)||void 0===e?void 0:e.width)||f.width)>=y||((null===(t=f.originData)||void 0===t?void 0:t.height)||f.height)>=b)&&"string"==typeof p){var n=Math.floor(+new Date/1e3),r="";if(p.indexOf("&timestamp=")>-1){var i=p.split("&timestamp=");i[1]=n.toString(),r=i.join("&timestamp=")}else r="".concat(p,"&timestamp=").concat(n);h(r),a(!0)}}),[s]),(0,si.useEffect)((function(){var e=ue(r,u);h(e)}),[r]),si.createElement("div",{className:"cont_img",onClick:function(){return i(t)}},si.createElement("div",{className:"box_thumb box_inp"},si.createElement("span",{className:"thumb_g",style:{backgroundImage:"url(".concat(p,")")}},n," 번째 이미지")))},tp=function(e){var t=e.idx,n=e.selectedIdx,r=e.images,i=e.side,o=e.dropPosition,a=e.onClickDispatcher,l=e.dragDispatcher,c=e.dropDispatcher,u=e.dropSideDispatcher,s=e.isRerender,f=e.setIsRerender;return si.createElement(Zd,{key:t,idx:t,classname:"drag_box",isDropTarget:o===t,side:o===t?i:void 0,dragDispatcher:l,dropDispatcher:c,dropSideDispatcher:u},si.createElement("ul",{className:"list_drag"},r.map((function(e,t){return si.createElement("li",{key:t,className:$i()({select:n===e.id,edited:jc(e.history),editable:e.editable})},si.createElement(ep,{id:e.id,idx:t,url:e.originData.src,onClickDispatcher:a,isRerender:s,setIsRerender:f}))}))))},np=function(){var e=ji(),t=Dc(),n=t.updateMenu,r=t.removeHistory,i=Ei((function(e){return e.images})),o=Ei((function(e){return e.menu.isCropping})),c=Ei((function(e){return e.menu.showSaveModal})),u=Ei((function(e){return e.preview.selectedId})),s=l((0,si.useState)(-1),2),f=s[0],d=s[1],p=l((0,si.useState)("left"),2),h=p[0],g=p[1],v=l((0,si.useState)(!1),2),m=v[0],y=v[1],b=l((0,si.useState)(null),2),w=b[0],x=b[1],E=(0,si.useCallback)((function(t){if(t!==f){var n=f+(t<f?"left"===h?-1:0:"right"===h?1:0);if(t!==n){var r=l(i.splice(t,1),1)[0],o=[].concat(a(i.slice(0,n)),[r],a(i.slice(n)));e(Fn({images:o}))}d(-1)}}),[i,f,h]),S=function(t){var a,l=B(i,(function(e){return e.id===u}));l&&(null!==(a=l.history)&&void 0!==a&&a.sign&&!l.history.sign.content.trimStart()&&r("sign"));!(t===(null==l?void 0:l.id))&&o?(x(t),n("showSaveModal")(!0)):e(wr({id:t}))};return(0,si.useEffect)((function(){o||c||!w||(e(wr({id:w})),x(null))}),[c,x]),si.createElement(rd,{backend:_d},si.createElement("ul",{className:"list_img"},i.map((function(e,t){return Array.isArray(e)?si.createElement(tp,{key:t,idx:t,images:e,selectedIdx:u,dropPosition:f,side:f===t?h:void 0,dragDispatcher:d,dropDispatcher:E,dropSideDispatcher:g,onClickDispatcher:S,isRerender:m,setIsRerender:y}):si.createElement(Zd,{key:t,idx:t,classname:$i()({select:u===e.id,edited:jc(e.history),editable:e.editable}),isDropTarget:f===t,side:f===t?h:void 0,dragDispatcher:d,dropDispatcher:E,dropSideDispatcher:g},si.createElement(ep,{id:e.id,idx:t,url:e.originData.src,onClickDispatcher:S,isRerender:m,setIsRerender:y}))}))))};function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var op=function(e){var t=e.isActive,n=e.scrollPos,r=e.setScrollPos,i=e.applyEmbedStyle,o=ji(),a=Dc().updatePipeline,c=Ei((function(e){return e.images})),u=Ei((function(e){return e.menu.tab})),s=Ei((function(e){return e.preview.selectedId})),f=Ei((function(e){return e.preview.expand})),d=Ei((function(e){return e.preview.expandable})),p=Ei((function(e){return e.preview.loading})),h=l((0,si.useState)(!1),2),g=h[0],v=h[1],m=l((0,si.useState)({width:window.innerWidth,height:window.innerHeight}),2),y=m[0],b=m[1],w=l((0,si.useState)(!1),2),x=w[0],E=w[1],S=(0,si.useRef)(null),O=B(c,(function(e){var t=e.id;return s===t})),_=kc().paintCanvas,k=(0,si.useCallback)((function(){o(xr())}),[]),P=(0,si.useCallback)((function(){o(Er())}),[]),C=(0,si.useCallback)((function(){O&&E(!0)}),[]);return(0,si.useEffect)((function(){S.current&&(S.current.scrollLeft=n)}),[n]),(0,si.useEffect)((function(){var e=Rs()((function(){b({width:window.innerWidth,height:window.innerHeight})}),300);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,si.useEffect)((function(){if(S.current){var e=S.current;e.clientWidth<e.scrollWidth?v(!0):v(!1)}}),[y]),si.createElement("aside",{className:"content-aside",style:i?qs:void 0},si.createElement("h3",{className:"screen_out"},"이미지 목록"),si.createElement("div",{className:"box_img_scroll",ref:S,onScroll:function(e){var i=e.target;se(i)&&t&&r({images:n,selections:i.scrollLeft})}},si.createElement(np,null)),si.createElement("div",{className:"paging_btn"},g&&si.createElement("button",{type:"button",className:$i()("btn_ico btn_prev"),onClick:function(e){var t=e.target;if(S.current&&fe(t)){var n=S.current.scrollLeft;S.current.scrollLeft=n-Ic}}},"이전"),g&&si.createElement("button",{type:"button",className:$i()("btn_ico btn_next"),onClick:function(e){var t=e.target;if(S.current&&fe(t)){var n=S.current.scrollLeft;S.current.scrollLeft=n+Ic}}},"다음")),si.createElement("div",{className:"aside_info"},si.createElement("span",{className:"info_paging"},si.createElement("span",{className:"screen_out"},"현재페이지"),si.createElement("em",{className:"num_g"},H(c,(function(e){var t=e.id;return s===t}))+1),si.createElement("span",{className:"txt_g"},"/"),si.createElement("span",{className:"screen_out"},"전체페이지"),si.createElement("span",{className:"txt_g"},V(c)))),si.createElement("div",{className:"box_edit"},si.createElement("div",{className:"box_toast"},si.createElement("button",{type:"button",className:"btn_ico btn_refresh",disabled:!jc(null==O?void 0:O.history),onClick:C},"원래 상태로 되돌리기"),si.createElement("div",{className:"toast_layer1"},"원본으로")),f?si.createElement("div",{className:"box_toast"},si.createElement("button",{type:"button",className:"btn_ico btn_zoom1",disabled:p||!d||"crop"===u,onClick:P},"화면맞춤"),si.createElement("div",{className:"toast_layer1"},"화면맞춤")):si.createElement("div",{className:"box_toast"},si.createElement("button",{type:"button",className:"btn_ico btn_zoom",disabled:p||!d||"crop"===u,onClick:k},"이미지 화면 맞춤"),si.createElement("div",{className:"toast_layer1"},"원본크기"))),si.createElement(uo,{open:x,dispatch:E,onSubmit:function(){o(Un({ids:[s]})),function(){if(O){var e=document.querySelector(Es),t=document.querySelector(xs);if(e&&t){var n=ip(ip({},O),{},{history:{}});_(e,n,t),a("crop")(Ua(O.width,O.height))}}}()},title:"이미지를 원본으로 되돌립니다.",description:"이 이미지에 편집한 내용을 원래대로 되돌리겠습니까?"}))},ap={left:"0px",width:"100%"},lp=function(e){var t=e.id,n=e.idx,r=e.url,i=e.editable,o=e.selected,a=e.edited,c=e.isPreviewImage,u=e.isInList,s=e.onAppend,f=e.onRemove,d=Ei((function(e){return e.options.fileSystem})),p=l((0,si.useState)(ue(r,d,75,75)),1)[0],h=(0,si.useCallback)((function(e){c&&i&&e.preventDefault()}),[c]),g=(0,si.useCallback)((function(e){!c&&i?e.target.checked?s(t):f(t):e.preventDefault()}),[c]);return si.createElement("li",{className:$i()({select:o,edited:a,editable:i})},si.createElement("div",{className:"cont_img"},si.createElement("div",{className:$i()("box_thumb box_inp",{disabled:!i})},i?si.createElement("input",{type:"checkbox",className:"inp_g",id:"imgEditor".concat(t),checked:u,onClick:h,onChange:g}):null,si.createElement("label",{className:"lab_g",htmlFor:"imgEditor".concat(t),style:{backgroundImage:"url(".concat(p,")")}},i?si.createElement("span",{className:"ico_chk"},n," 번째 이미지"):null))))},cp=function(e,t,n,r,i){var o=e.id,a=e.originData,l=e.editable,c=e.history,u=r.appendSelectionsList,s=r.removeSelectionsList;return si.createElement(lp,{key:i,id:o,idx:i,url:a.src,editable:l,selected:t===o,isPreviewImage:t===o,edited:jc(c),isInList:n.images.includes(o),onAppend:u,onRemove:s})},up=function(e){var t=e.isActive,n=e.scrollPos,r=e.setScrollPos,i=e.applyEmbedStyle,o=ji(),a=Ei((function(e){return e.images})),l=Ei((function(e){return e.preview.selectedId})),c=Ei((function(e){return e.selections})),u=Ei((function(e){return e.menu.tab})),s=(0,si.useRef)(null),f=(0,si.useCallback)((function(e){return o(Ur({ids:[e]}))}),[]),d=(0,si.useCallback)((function(e){return o(Br({ids:[e]}))}),[]),p=(0,si.useCallback)((function(e){var t=e.target.checked?L(a,(function(e){return e.editable})).map((function(e){return e.id})):[l];o(Hr({ids:t}))}),[]),h=(0,si.useCallback)((function(){return L(a,(function(e){return e.editable})).length===c.images.length}),[c.images]);return(0,si.useEffect)((function(){s.current&&(s.current.scrollLeft=n)}),[n]),si.createElement("aside",{className:"content-aside",style:i?ap:void 0,"data-log-action-layer":"imagelist"},si.createElement("h3",{className:"screen_out"},"이미지 목록"),si.createElement("div",{className:"box_img_scroll",ref:s,onScroll:function(e){var i=e.target;se(i)&&t&&r({images:i.scrollLeft,selections:n})}},si.createElement("ul",{className:"list_img"},a.map((function(e,t){return Array.isArray(e)?si.createElement("li",{key:t,className:"drag_box"},si.createElement("ul",{className:"list_drag"},e.map((function(e,t){return cp(e,l,c,{appendSelectionsList:f,removeSelectionsList:d},t)})))):cp(e,l,c,{appendSelectionsList:f,removeSelectionsList:d},t)})))),si.createElement("div",{className:"paging_btn"},si.createElement("button",{type:"button",className:"btn_ico btn_prev",onClick:function(e){var t=e.target;if(s.current&&fe(t)){var n=s.current.scrollLeft;s.current.scrollLeft=n-Ic}}},"이전"),si.createElement("button",{type:"button",className:"btn_ico btn_next",onClick:function(e){var t=e.target;if(s.current&&fe(t)){var n=s.current.scrollLeft;s.current.scrollLeft=n+Ic}}},"다음")),si.createElement("div",{className:"aside_info box_inp"},si.createElement("input",{type:"checkbox",className:"inp_g",id:"labChk",checked:h(),onChange:p,"data-log-action-layer":"applyall-checkbox","data-log-action-command":"applyall"}),si.createElement("label",{className:"lab_g",htmlFor:"labChk"},si.createElement("span",{className:"ico_chk ico_chk1"}),si.createElement("span",{className:"txt_chk"},si.createElement("em",null,c.images.length),"개의 사진에 일괄 적용합니다."))),si.createElement("div",{className:"submit_btn"},si.createElement("button",{type:"button",className:"btn_type1 btm_sm",onClick:function(){c.cancelCallback&&c.cancelCallback(c.images,c.exceptions),o(Fr())}},"취소"),si.createElement("button",{type:"button",className:"btn_type1 btm_sm btn_type1_type1",onClick:function(){c.submitCallback&&c.submitCallback(c.images,c.exceptions);var e=Wr()(c.images,c.exceptions||[]);o(Hn({ids:e,history:c.editHistory})),o(Fr()),"size"===u&&o(Vr())}},"적용")))};var sp=function(){var e=Ei((function(e){return e.images})),t=Ei((function(e){return e.preview.selectedId})),n=Ei((function(e){return e.preview.loading})),r=Ei((function(e){return e.preview.isPainted})),i=Ei((function(e){return e.selections.open})),o=Ei((function(e){return e.options.embed})),a=l((0,si.useState)(!1),2),c=a[0],u=a[1],s=l((0,si.useState)(!1),2),f=s[0],d=s[1],p=l((0,si.useState)(0),2),h=p[0],g=p[1],v=l((0,si.useState)({images:78*(t-1),selections:78*(t-1)}),2),m=v[0],y=v[1];(0,si.useEffect)((function(){i&&c&&u(!1)}),[i]),(0,si.useEffect)((function(){if(!n&&r&&!f&&h>=2){var t=e.length>1&&_s("imageListDnD");t&&ks("imageListDnD"),u(t),d(!0)}else f||g(h+1)}),[n,r]);var b=!o||!1===o.hideImageList;return b?si.createElement(si.Fragment,null,i?si.createElement(up,{isActive:i,scrollPos:m.selections,setScrollPos:y,applyEmbedStyle:b&&!!o}):si.createElement(op,{isActive:!i,scrollPos:m.images,setScrollPos:y,applyEmbedStyle:b&&!!o}),si.createElement($s,null),si.createElement(po,{x:-16,open:c,dispatch:u,selector:".ke_photos .content-aside",duration:4e3},si.createElement("strong",{className:"em_tooltip"},"이미지 순서 변경하기"),si.createElement("div",{className:"desc_tooltip"},"선택한 이미지를 드래그해서 순서를 바꿀 수 있습니다."))):si.createElement(si.Fragment,null)};var fp=function(e){var t=e.appIsLoading,n=Ei((function(e){return e.options.embed})),r={};return n&&(r.height=n.height,r.paddingLeft="0px"),si.createElement("section",{className:"inner-main"},si.createElement("h2",{className:"screen_out"},"사진편집"),si.createElement("div",{className:"main-content",style:r},si.createElement(Ms,null),si.createElement(Ys,{appIsLoading:t}),si.createElement(sp,null)))};function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hp=function(e){var t=e.successCallback,n=e.cancelCallback,r=e.destroyCallback,i=ji(),o=Dc().updateMenu,c=Ei((function(e){return e.options.menus})),u=Ei((function(e){return e.options.exportFormat})),s=Ei((function(e){return e.images})),f=Ei((function(e){return e.options.fileSystem})),p=Ei((function(e){return e.options.embed})),g=l((0,si.useState)(c.reduce((function(e,t){var n=Rc.find((function(e){return e.menu===t}));return n?[].concat(a(e),[pp({},n)]):e}),[])),1)[0],v=l((0,si.useState)(!0),2),m=v[0],y=v[1],b=function(){var e=d(h().mark((function e(){var t,n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="original"===u,n=function(){var e=d(h().mark((function e(r){var i,o,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(r)){e.next=4;break}return e.abrupt("return",Promise.all(r.map(n)));case 4:return i=f===T,e.next=7,xn(r,i,t);case 7:return o=e.sent,a=bn(o.width,o.height),e.abrupt("return",pp(pp(pp({},r),a),{},{originData:pp(pp(pp(pp({},r.originData),o.width?{width:o.width}:{}),o.height?{height:o.height}:{}),o.type?{format:o.type}:{}),editable:o.editable},o.editableMsg?{editableMsg:o.editableMsg}:{}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=4,Promise.all(s.map(n));case 4:r=e.sent,i(Fn({images:r})),y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,si.useLayoutEffect)((function(){o("tab")(g[0].menu),b()}),[]);var w=!0===(null==p?void 0:p.hideMenu)||p&&void 0===p.hideMenu;return si.createElement(si.Fragment,null,si.createElement(qi,null),si.createElement("div",{className:$i()("container-doc",{container_loading:m}),style:{paddingLeft:w?"0px":void 0}},si.createElement(Mc,{tabs:g}),si.createElement("main",{className:"doc-main"},si.createElement(fp,{appIsLoading:m})),si.createElement(Nc,{successCallback:t,cancelCallback:n,destroyCallback:r,updateLoadingStatus:y})))},gp=n(44908),vp=n.n(gp),mp={menus:j,fileSystem:T,exportFormat:"png",options:{sign:Xc,filter:Cl,retouch:tc,sticker:zu,mosaic:oa,frame:Bl}},yp=function(e){if(!e)return Cl;var t=vp()(e);return t.length?t:Cl},bp=function(e){var t,n;if(!e)return zu;var r=vp()(e.customStickers);return{useDefaultStickers:null!==(t=e.useDefaultStickers)&&void 0!==t?t:zu.useDefaultStickers,useFaceDetection:null!==(n=e.useFaceDetection)&&void 0!==n?n:zu.useFaceDetection,customStickers:r.length?r:zu.customStickers}};function wp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xp(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ep=["PRE","EXECUTE","POST"],Sp=function(){function e(){re(this,e),s(this,"__commandMap",void 0),this.__commandMap=new Map}return oe(e,[{key:"execute",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=wp(Ep);try{for(r.s();!(t=r.n()).done;){var i=t.value,o="".concat(i,"_").concat(e),a=this.__commandMap.get(o);if(a){var l=a.execute(n);if(!l)return}}}catch(e){r.e(e)}finally{r.f()}}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EXECUTE",n="".concat(t,"_").concat(e.name);this.__commandMap.has(n)&&console.warn("[ ".concat(n," ] command overwrited!")),this.__commandMap.set(n,e)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EXECUTE",n="".concat(t,"_").concat(e);this.__commandMap.has(n)||console.warn("[ ".concat(n," ] command not found!")),this.__commandMap.delete(n)}}]),e}(),Op=["root","successCallback","cancelCallback"],_p=function(e){var n=e.root,r=e.successCallback,i=e.cancelCallback,o=t(e,Op),l=null,c=function(){l&&l.unmount(),ui.endLogging(),l=null},u=new Sp;return{init:function(e){var t;l=(0,fi.s)(n);var s,f,d,p,h,g,v,m,y,b=function(e){var t=1,n=function(e){return!(!e||"string"!=typeof e&&!e.src)};return Sn(e.reduce((function(e,t){if(!t)return e;if(Array.isArray(t)){var r=t.filter(n);return r.length?[].concat(a(e),[r]):e}return n(t)?[].concat(a(e),[t]):e}),[])).reduce((function e(n,r){var i=Array.isArray(r)?r.reduce(e,[]):gn({id:t++,editable:!0},r);return n.push(i),n}),[])}(e.images),w=Math.min(Math.max(0,null!==(t=e.selectedIndex)&&void 0!==t?t:0),V(b)-1),x={preview:{selectedId:void 0!==(s={images:b,selectedIdx:w,options:o}).selectedIdx?s.selectedIdx+1:1,expand:!1,expandable:!1,loading:!1,scale:1,isPainted:!1,isClicked:!1},selections:{isResize:!1,editable:V(s.images)>1,open:!1,images:[],editHistory:{}},options:(f=s.options,f?{faceDetection:f.faceDetection,fileSystem:f.fileSystem||T,menus:f.menus?vp()(f.menus):j,exportFormat:(y=f.exportFormat,y&&D.some((function(e){return e===y.toLowerCase()}))?y.toLowerCase():"png"),options:f.options?{crop:Object.assign({},null==f||null===(d=f.options)||void 0===d?void 0:d.crop),filter:yp(f.options.filter),frame:vp()(f.options.frame).length?vp()(f.options.frame):Bl,mosaic:(v=f.options.mosaic,v?{useFaceDetection:null!==(m=v.useFaceDetection)&&void 0!==m?m:oa.useFaceDetection}:oa),retouch:(h=f.options.retouch,h?{autoRetouch:null!==(g=h.autoRetouch)&&void 0!==g?g:tc.autoRetouch}:tc),sign:(p=f.options.sign,p&&p.serviceUrl?{serviceUrl:p.serviceUrl.trim().length?p.serviceUrl:Xc.serviceUrl}:Xc),sticker:bp(f.options.sticker)}:mp.options,embed:null==f?void 0:f.embed}:mp),images:s.images,menu:{isCompleting:!1,isCropping:!1,showSaveModal:!1,tab:""},pipeline:{blur:{intensity:50},mosaic:{intensity:50},crop:{flipV:0,flipH:0,rotate:0,angle:0,centerX:0,centerY:0,width:0,height:0,ratioType:"origin"},sticker:{isFaceDetectionData:{}},sign:void 0,text:void 0}},E=Tn(Gr,x,void 0),S=new Wi(E);u.add(S),l.render(si.createElement(si.StrictMode,null,si.createElement(Pi,{store:E},si.createElement(hp,{successCallback:r,cancelCallback:i,destroyCallback:c}))));var O=document.querySelector(".ke_photos");O?(ui.init(Ii,O,e.serviceDomain),ui.startLogging()):console.warn("Cannot find element has CSS class name [.ke_photos]")},execute:function(e,t){u.execute(e,t)}}}}(),r=r.default}()}));