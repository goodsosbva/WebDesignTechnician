!function(t){var e={};function o(r){if(e[r])return e[r].exports;var l=e[r]={i:r,l:!1,exports:{}};return t[r].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)o.d(r,l,function(e){return t[e]}.bind(null,l));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=555)}({50:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var r=function(t,e){void 0===e&&(e=[]);var o={left:["bl-tl"],center:["bc-tc"],right:["br-tr"]},r=o.left;if(!e.length)return r;var l=e.find((function(e){return e.plugin===t}));return e.length||l||l.align?o[l.align]:r}},555:function(t,e,o){"use strict";o.r(e);var r=function(){function t(t){var e,o,r,l,n;this.__applyFormat=function(t,e,o){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:o}),t.nodeChanged()}))},this.__removeFormat=function(t,e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()}))},this.editor=t;var a=t.settings.colorPalette;this.modules=(null===(e=a)||void 0===e?void 0:e.module)||["preset"],this.presetMap=null===(o=a)||void 0===o?void 0:o.color_map_preset,this.defaultColor=this.getPresetColor(null===(r=a)||void 0===r?void 0:r.default_color,"#000000"),this.defaultBackgroundColor=this.getPresetColor(null===(l=a)||void 0===l?void 0:l.default_background_color),this.blackTextColorBackgroundColor=null===(n=a)||void 0===n?void 0:n.black_text_color_background}return t.prototype.init=function(t){this.panel=t,this.format=t.parent().settings.format,this.addEvent()},t.prototype.addEvent=function(){var t=this,e=this.editor.$,o=this.panel.$el[0],r=this.panel.parent(),l="hilitecolor"===this.format?"hilite-":"forecolor-";if(this.modules.includes("preset")&&e("."+l+"colorPalette-preset-td",o).on("click",this.clickEventHandler.bind(this)),this.modules.includes("palette")&&e("."+l+"colorPalette-palette-td",o).on("click",this.clickEventHandler.bind(this)),this.modules.includes("code")){var n=e(".colorPalette-code-input",o),a=n[0],i=(e(".colorPalette-code-display",o),e(".colorPalette-code-submit",o)),s=function(e){"#"!==(e=e.trim()).charAt(0)||7!=e.length&&4!=e.length||t.isValidHexCode(e)&&(t.applyFormat(t.format,e),r.hidePanel())};n.on("keyup",(function(t){13===t.keyCode&&s(a.value)})),i.on("click",(function(){s(a.value)}))}},t.prototype.applyFormat=function(t,e){if(this.__applyFormat(this.editor,t,e),"forecolor"===t)this.panel.parent().color(e);else if("hilitecolor"===t){this.panel.parent().color(e);var o=this.panel.parent(),r=this.editor.$("i",o.$el[0]);this.blackTextColorBackgroundColor.includes(e)?r.removeClass("white-text"):r.addClass("white-text")}},t.prototype.removeFormat=function(t){if(this.__removeFormat(this.editor,t),"forecolor"===t)this.panel.parent().color(this.defaultColor);else if("hilitecolor"===t){this.panel.parent().color("#fff");var e=this.panel.parent();this.editor.$("i",e.$el[0]).removeClass("white-text")}},t.prototype.clickEventHandler=function(t){var e=this;this.hide();var o=t.currentTarget.getAttribute("data-mce-color");""===o?this.editor.undoManager.transact((function(){e.removeFormat(e.format)})):this.editor.undoManager.transact((function(){e.applyFormat(e.format,o)}))},t.prototype.convertToHexCode=function(t,e){if(void 0===t&&(t="forecolor"),!e||"transparent"===e)return this.getDefaultColor(t);var o=/rgb\((\d*), (\d*), (\d*)\)/gi.exec(e);return o?"#"+o.slice(1).reduce((function(t,e){var o=parseInt(e).toString(16);return o.length%2&&(o="0"+o),t+o}),"").toLowerCase():this.getDefaultColor(t)},t.prototype.isValidHexCode=function(t){var e=t.length;if(4===e||7===e){if("#"!==t[0])return!1;for(var o=1;o<e;o++){var r=t[o].toLowerCase();if(!(0<=r&&r<=9||"a"<=r&&r<="f"))return!1}return!0}return!1},t.prototype.getDefaultColor=function(t){return"forecolor"===t?this.defaultColor:this.defaultBackgroundColor},t.prototype.getPresetColor=function(t,e){var o;return void 0===e&&(e="#ffffff"),(null===(o=this.presetMap)||void 0===o?void 0:o.includes(t))?t:e},t.prototype.getSpanColor=function(){for(var t,e=this.editor.selection.getSel().anchorNode,o=0,r=this.editor.dom.getParents(e,"span");o<r.length;o++){var l=r[o];if("forecolor"===this.format&&"_mce_caret"!==l.id&&l.style&&l.style.color){t=l;break}if("hilitecolor"===this.format&&"_mce_caret"!==l.id&&l.style&&l.style.backgroundColor){t=l;break}}var n=this.getDefaultColor(this.format);return t&&(n="forecolor"===this.format?t.style.color:t.style.backgroundColor,n=this.convertToHexCode(this.format,n)),n},t.prototype.show=function(){var t=this.getSpanColor();this.showSelectedColor(t),this.showCustomColor(t)},t.prototype.showSelectedColor=function(t){var e=this.editor.$.find("#colorPalette-"+this.format+"-preset-id-"+this.presetMap.indexOf(t))[0];e&&e.classList.add("colorPalette-selected")},t.prototype.showCustomColor=function(t){var e=this.panel.$el[0],o=this.editor.$(".colorPalette-code-display",e)[0],r=this.editor.$(".colorPalette-code-input",e)[0];o&&(o.style.backgroundColor=t),r&&(r.value=t)},t.prototype.hide=function(){this.panel.hide(),this.editor.$(".colorPalette-selected",this.panel.$el[0]).removeClass("colorPalette-selected")},t}(),l=o(50),n=function(t,e){var o=t.module,r=t.color_map_preset,l=t.color_map_palette,n=t.preset_rows,a=t.preset_cols,i=t.palette_rows,s=t.palette_cols,c="hilitecolor"===e?"hilite-colorPalette-preset-td":"forecolor-colorPalette-preset-td",d="";if(o.includes("preset")){d+="<div class='colorPalette-div colorPalette-div-preset'><table class='colorPalette-preset-table'>";for(var u=0;u<n;u++){d+="<tr class='colorPalette-preset-tr'>";for(var f=0;f<a;f++){d+="<td class='colorPalette-preset-td "+c+(""===(p=r[u*a+f])?" remove-format":"")+(t.black_text_color_background&&t.black_text_color_background.includes(p)?" white-color-format":"")+"' id=colorPalette-"+e+"-preset-id-"+(u*a+f)+" style='background:"+p+"' data-mce-color="+p+"><span class='colorPalette-preset-check'></span>색상코드 "+p+"</td>"}d+="</tr>"}d+="</table></div>"}if(o.includes("palette")){d+="<div class='colorPalette-div colorPalette-div-palette'><table class='colorPalette-palette-table'>";for(u=0;u<i;u++){d+="<tr class='colorPalette-palette-tr'>";for(f=0;f<s;f++){var p;d+="<td class='colorPalette-palette-td "+c+(""===(p=l[u*s+f])?" remove-format":"")+(t.black_text_color_background&&t.black_text_color_background.includes(p)?" white-color-format":"")+"' id=colorPalette-"+e+"-palette-id-"+(14*u+f)+" style='background:"+p+";' data-mce-color="+p+"></td>"}d+="</tr>"}d+="</table></div>"}return o.includes("code")&&(d+="<div class='colorPalette-div colorPalette-div-code'>",d+="<div class='colorPalette-code-display'></div><input maxlength='7' class='colorPalette-code-input'></input><button class='colorPalette-code-submit'>입력</button></div>"),d},a=function(t){var e=t.settings.colorPalette,o=e&&e.hilite,a=(e&&e.align,new r(t)),i=new r(t),s="forecolor",c="hilitecolor",d=null,u=function(o){return function(){var r=o;t.on("nodeChange",(function(){for(var o,l,n=t.selection.getSel().anchorNode,i=t.dom.getParents(n,"span"),d=r.settings.format,u=0,f=i;u<f.length;u++){var p=f[u];if(d===s&&"_mce_caret"!==p.id&&p.style&&p.style.color){l=p;break}if(d===c&&"_mce_caret"!==p.id&&p.style&&p.style.backgroundColor){l=p;break}}var h=d===s?e.default_color:"#ffffff";l&&(h=d===s?l.style.color:l.style.backgroundColor,h=a.convertToHexCode(d,h));var v=t.$("i",r.$el[0]);d===c&&(null===(o=e)||void 0===o?void 0:o.black_text_color_background)&&(e.black_text_color_background.includes(h)||h==(e.default_background_color||"")?v.removeClass("white-text"):v.addClass("white-text"))}))}};if(t.addButton("colorPalette",{icon:s,classes:s,format:s,type:"colorbutton",tooltip:"글자색",popoverAlign:Object(l.a)("colorPalette",t.settings.panelOptions),panel:{role:"dialog",ariaRemember:!0,html:n(e,s),classes:s,onPostRender:function(e){a.init(this),t.settings.isPanelFixed&&this.fixed(!0)}},onclick:function(){this.classes.contains("opened")?this.hidePanel():this.showPanel(),i.panel&&i.hide()},onPostRender:function(){u(d=this)()},onshow:function(){a.show()},onhide:function(){a.hide()}}),t.shortcuts.add("meta+alt+219","forecolorPalette short",(function(){d.classes.contains("opened")?d.hidePanel():d.showPanel(),i.panel&&i.hide()})),o){var f=null;t.addButton("backColorPalette",{icon:c,classes:c,format:c,type:"colorbutton",tooltip:"배경색",popoverAlign:Object(l.a)("backColorPalette",t.settings.panelOptions),panel:{role:"dialog",ariaRemember:!0,html:n(e,c),classes:c,onPostRender:function(e){i.init(this),t.settings.isPanelFixed&&this.fixed(!0)}},onclick:function(){this.classes.contains("opened")?this.hidePanel():this.showPanel(),a.panel&&a.hide()},onPostRender:function(){u(f=this)()},onshow:function(){i.show()},onhide:function(){i.hide()}}),t.shortcuts.add("meta+alt+221","backcolorPalette short",(function(){f.classes.contains("opened")?f.hidePanel():f.showPanel(),a.panel&&a.hide()}))}};(window.tinymce||{}).PluginManager.add("colorPalette",a)}});
